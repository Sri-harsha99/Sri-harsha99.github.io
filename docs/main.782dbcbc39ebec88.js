"use strict";(self.webpackChunkfind_user=self.webpackChunkfind_user||[]).push([[179],{166:(Bh,hu,ca)=>{function bn(n){return"function"==typeof n}function ts(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Gr=ts(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Nc(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class rn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(bn(i))try{i()}catch(s){t=s instanceof Gr?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Gh(s)}catch(a){t=t??[],a instanceof Gr?t=[...t,...a.errors]:t.push(a)}}if(t)throw new Gr(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Gh(t);else{if(t instanceof rn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Nc(e,t)}remove(t){const{_finalizers:e}=this;e&&Nc(e,t),t instanceof rn&&t._removeParent(this)}}rn.EMPTY=(()=>{const n=new rn;return n.closed=!0,n})();const Uh=rn.EMPTY;function q2(n){return n instanceof rn||n&&"closed"in n&&bn(n.remove)&&bn(n.add)&&bn(n.unsubscribe)}function Gh(n){bn(n)?n():n.unsubscribe()}const Ea={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},A1={setTimeout(n,t,...e){const{delegate:i}=A1;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=A1;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Wh(n){A1.setTimeout(()=>{const{onUnhandledError:t}=Ea;if(!t)throw n;t(n)})}function Y2(){}const ro=pu("C",void 0,void 0);function pu(n,t,e){return{kind:n,value:t,error:e}}let No=null;function Fc(n){if(Ea.useDeprecatedSynchronousErrorHandling){const t=!No;if(t&&(No={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=No;if(No=null,e)throw i}}else n()}class Wr extends rn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,q2(t)&&t.add(this)):this.destination=gu}static create(t,e,i){return new sr(t,e,i)}next(t){this.isStopped?X2(function M5(n){return pu("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?X2(function Po(n){return pu("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?X2(ro,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const so=Function.prototype.bind;function Ze(n,t){return so.call(n,t)}class ka{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Fo(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Fo(i)}else Fo(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Fo(e)}}}class sr extends Wr{constructor(t,e,i){let r;if(super(),bn(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&Ea.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Ze(t.next,s),error:t.error&&Ze(t.error,s),complete:t.complete&&Ze(t.complete,s)}):r=t}this.destination=new ka(r)}}function Fo(n){Ea.useDeprecatedSynchronousErrorHandling?function jh(n){Ea.useDeprecatedSynchronousErrorHandling&&No&&(No.errorThrown=!0,No.error=n)}(n):Wh(n)}function X2(n,t){const{onStoppedNotification:e}=Ea;e&&A1.setTimeout(()=>e(n,t))}const gu={closed:!0,next:Y2,error:function mu(n){throw n},complete:Y2},K2="function"==typeof Symbol&&Symbol.observable||"@@observable";function la(n){return n}function D1(n){return 0===n.length?la:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let In=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function yu(n){return n&&n instanceof Wr||function vu(n){return n&&bn(n.next)&&bn(n.error)&&bn(n.complete)}(n)&&q2(n)}(e)?e:new sr(e,i,r);return Fc(()=>{const{operator:a,source:o}=this;s.add(a?a.call(s,o):o?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=E1(i))((r,s)=>{const a=new sr({next:o=>{try{e(o)}catch(c){s(c),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[K2](){return this}pipe(...e){return D1(e)(this)}toPromise(e){return new(e=E1(e))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return n.create=t=>new n(t),n})();function E1(n){var t;return null!==(t=n??Ea.Promise)&&void 0!==t?t:Promise}const bu=ts(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Xe=(()=>{class n extends In{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new k1(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new bu}next(e){Fc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Fc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Fc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Uh:(this.currentObservers=null,s.push(e),new rn(()=>{this.currentObservers=null,Nc(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new In;return e.source=this,e}}return n.create=(t,e)=>new k1(t,e),n})();class k1 extends Xe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Uh}}function L1(n){return bn(n?.lift)}function ai(n){return t=>{if(L1(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function qn(n,t,e,i,r){return new Mu(n,t,e,i,r)}class Mu extends Wr{constructor(t,e,i,r,s,a){super(t),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=e?function(o){try{e(o)}catch(c){t.error(c)}}:super._next,this._error=r?function(o){try{r(o)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(o){t.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Lt(n,t){return ai((e,i)=>{let r=0;e.subscribe(qn(i,s=>{i.next(n.call(t,s,r++))}))})}function xi(n){return this instanceof xi?(this.v=n,this):new xi(n)}function wu(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(f){i[f]&&(r[f]=function(h){return new Promise(function(p,v){s.push([f,h,p,v])>1||o(f,h)})})}function o(f,h){try{!function c(f){f.value instanceof xi?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(i[f](h))}catch(p){d(s[0][3],p)}}function l(f){o("next",f)}function u(f){o("throw",f)}function d(f,h){f(h),s.shift(),s.length&&o(s[0][0],s[0][1])}}function el(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Cu(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(a){return new Promise(function(o,c){!function r(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}(o,c,(a=n[s](a)).done,a.value)})}}}const H1=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function tl(n){return bn(n?.then)}function nl(n){return bn(n[K2])}function il(n){return Symbol.asyncIterator&&bn(n?.[Symbol.asyncIterator])}function Au(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Kh=function vi(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Du(n){return bn(n?.[Kh])}function Zh(n){return wu(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield xi(e.read());if(r)return yield xi(void 0);yield yield xi(i)}}finally{e.releaseLock()}})}function Eu(n){return bn(n?.getReader)}function Lr(n){if(n instanceof In)return n;if(null!=n){if(nl(n))return function Qh(n){return new In(t=>{const e=n[K2]();if(bn(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(H1(n))return function S5(n){return new In(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(tl(n))return function Jh(n){return new In(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Wh)})}(n);if(il(n))return t0(n);if(Du(n))return function e0(n){return new In(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Eu(n))return function T5(n){return t0(Zh(n))}(n)}throw Au(n)}function t0(n){return new In(t=>{(function A5(n,t){var e,i,r,s;return function Q2(n,t,e,i){return new(e||(e=Promise))(function(s,a){function o(u){try{l(i.next(u))}catch(d){a(d)}}function c(u){try{l(i.throw(u))}catch(d){a(d)}}function l(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(a){a(s)})}(u.value).then(o,c)}l((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=el(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function ua(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Oi(n,t,e=1/0){return bn(t)?Oi((i,r)=>Lt((s,a)=>t(i,s,r,a))(Lr(n(i,r))),e):("number"==typeof t&&(e=t),ai((i,r)=>function D5(n,t,e,i,r,s,a,o){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&t.complete()},h=v=>l<i?p(v):c.push(v),p=v=>{s&&t.next(v),l++;let g=!1;Lr(e(v,u++)).subscribe(qn(t,m=>{r?.(m),s?h(m):t.next(m)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<i;){const m=c.shift();a?ua(t,a,()=>p(m)):p(m)}f()}catch(m){t.error(m)}}))};return n.subscribe(qn(t,h,()=>{d=!0,f()})),()=>{o?.()}}(i,r,n,e)))}function Bc(n=1/0){return Oi(la,n)}const Hs=new In(n=>n.complete());function ku(n){return n&&bn(n.schedule)}function Lu(n){return n[n.length-1]}function Rs(n){return bn(Lu(n))?n.pop():void 0}function Ir(n){return ku(Lu(n))?n.pop():void 0}function R1(n,t=0){return ai((e,i)=>{e.subscribe(qn(i,r=>ua(i,n,()=>i.next(r),t),()=>ua(i,n,()=>i.complete(),t),r=>ua(i,n,()=>i.error(r),t)))})}function Iu(n,t=0){return ai((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function n0(n,t){if(!n)throw new Error("Iterable cannot be null");return new In(e=>{ua(e,t,()=>{const i=n[Symbol.asyncIterator]();ua(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Un(n,t){return t?function P1(n,t){if(null!=n){if(nl(n))return function k5(n,t){return Lr(n).pipe(Iu(t),R1(t))}(n,t);if(H1(n))return function L5(n,t){return new In(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(tl(n))return function z1(n,t){return Lr(n).pipe(Iu(t),R1(t))}(n,t);if(il(n))return n0(n,t);if(Du(n))return function I5(n,t){return new In(e=>{let i;return ua(e,t,()=>{i=n[Kh](),ua(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void e.error(a)}s?e.complete():e.next(r)},0,!0)}),()=>bn(i?.return)&&i.return()})}(n,t);if(Eu(n))return function V5(n,t){return n0(Zh(n),t)}(n,t)}throw Au(n)}(n,t):Lr(n)}function oi(...n){const t=Ir(n),e=function Uc(n,t){return"number"==typeof Lu(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Lr(i[0]):Bc(e)(Un(i,t)):Hs}function Vr(n={}){const{connector:t=(()=>new Xe),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let a,o,c,l=0,u=!1,d=!1;const f=()=>{o?.unsubscribe(),o=void 0},h=()=>{f(),a=c=void 0,u=d=!1},p=()=>{const v=a;h(),v?.unsubscribe()};return ai((v,g)=>{l++,!d&&!u&&f();const m=c=c??t();g.add(()=>{l--,0===l&&!d&&!u&&(o=rl(p,r))}),m.subscribe(g),!a&&l>0&&(a=new sr({next:C=>m.next(C),error:C=>{d=!0,f(),o=rl(h,e,C),m.error(C)},complete:()=>{u=!0,f(),o=rl(h,i),m.complete()}}),Lr(v).subscribe(a))})(s)}}function rl(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new sr({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function An(n){for(let t in n)if(n[t]===An)return t;throw Error("Could not find renamed property on target object.")}function N1(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function On(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(On).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function F1(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const r0=An({__forward_ref__:An});function sn(n){return n.__forward_ref__=sn,n.toString=function(){return On(this())},n}function Rt(n){return ci(n)?n():n}function ci(n){return"function"==typeof n&&n.hasOwnProperty(r0)&&n.__forward_ref__===sn}class we extends Error{constructor(t,e){super(function Gc(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function Gt(n){return"string"==typeof n?n:null==n?"":String(n)}function O1(n,t){throw new we(-201,!1)}function jr(n,t){null==n&&function Vn(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function _e(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function je(n){return{providers:n.providers||[],imports:n.imports||[]}}function B1(n){return Hu(n,Va)||Hu(n,zu)}function Hu(n,t){return n.hasOwnProperty(t)?n[t]:null}function Ru(n){return n&&(n.hasOwnProperty(Oo)||n.hasOwnProperty(B5))?n[Oo]:null}const Va=An({\u0275prov:An}),Oo=An({\u0275inj:An}),zu=An({ngInjectableDef:An}),B5=An({ngInjectorDef:An});var Vt=(()=>((Vt=Vt||{})[Vt.Default=0]="Default",Vt[Vt.Host=1]="Host",Vt[Vt.Self=2]="Self",Vt[Vt.SkipSelf=4]="SkipSelf",Vt[Vt.Optional=8]="Optional",Vt))();let Pu;function vs(n){const t=Pu;return Pu=n,t}function o0(n,t,e){const i=B1(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Vt.Optional?null:void 0!==t?t:void O1(On(n))}function co(n){return{toString:n}.toString()}var zs=(()=>((zs=zs||{})[zs.OnPush=0]="OnPush",zs[zs.Default=1]="Default",zs))(),Ps=(()=>{return(n=Ps||(Ps={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ps;var n})();const Yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qc={},Hn=[],U1=An({\u0275cmp:An}),Fu=An({\u0275dir:An}),Ou=An({\u0275pipe:An}),c0=An({\u0275mod:An}),Ha=An({\u0275fac:An}),ol=An({__NG_ELEMENT_ID__:An});let G5=0;function st(n){return co(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===zs.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Hn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ps.Emulated,id:"c"+G5++,styles:n.styles||Hn,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,a=n.features;return r.inputs=Bu(n.inputs,i),r.outputs=Bu(n.outputs),a&&a.forEach(o=>o(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(l0).filter(u0):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Di).filter(u0):null,r})}function l0(n){return Sn(n)||Hr(n)}function u0(n){return null!==n}function qe(n){return co(()=>({type:n.type,bootstrap:n.bootstrap||Hn,declarations:n.declarations||Hn,imports:n.imports||Hn,exports:n.exports||Hn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Bu(n,t){if(null==n)return qc;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const ne=st;function Rn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Sn(n){return n[U1]||null}function Hr(n){return n[Fu]||null}function Di(n){return n[Ou]||null}function Bi(n,t){const e=n[c0]||null;if(!e&&!0===t)throw new Error(`Type ${On(n)} does not have '\u0275mod' property.`);return e}function $r(n){return Array.isArray(n)&&"object"==typeof n[1]}function Bs(n){return Array.isArray(n)&&!0===n[1]}function ju(n){return 0!=(8&n.flags)}function dl(n){return 2==(2&n.flags)}function j1(n){return 1==(1&n.flags)}function Ms(n){return null!==n.template}function f0(n){return 0!=(256&n[2])}function xs(n,t){return n.hasOwnProperty(Ha)?n[Ha]:null}class y0{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Qt(){return b0}function b0(n){return n.type.prototype.ngOnChanges&&(n.setInput=M0),e7}function e7(){const n=C0(this),t=n?.current;if(t){const e=n.previous;if(e===qc)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function M0(n,t,e,i){const r=C0(n)||function w0(n,t){return n[x0]=t}(n,{previous:qc,current:null}),s=r.current||(r.current={}),a=r.previous,o=this.declaredInputs[e],c=a[o];s[o]=new y0(c&&c.currentValue,t,a===qc),n[i]=t}Qt.ngInherit=!0;const x0="__ngSimpleChanges__";function C0(n){return n[x0]||null}function x(n){for(;Array.isArray(n);)n=n[0];return n}function F(n,t){return x(t[n])}function $(n,t){return x(t[n.index])}function $e(n,t){return n.data[t]}function Ve(n,t){return n[t]}function Ne(n,t){const e=t[n];return $r(e)?e:e[0]}function un(n){return 64==(64&n[2])}function an(n,t){return null==t?null:n[t]}function Nt(n){n[18]=0}function wr(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Ft={lFrame:mC(null),bindingsEnabled:!0};function A0(){return Ft.bindingsEnabled}function Ae(){return Ft.lFrame.lView}function gn(){return Ft.lFrame.tView}function dt(n){return Ft.lFrame.contextLView=n,n[8]}function ft(n){return Ft.lFrame.contextLView=null,n}function or(){let n=cC();for(;null!==n&&64===n.type;)n=n.parent;return n}function cC(){return Ft.lFrame.currentTNode}function lo(n,t){const e=Ft.lFrame;e.currentTNode=n,e.isParent=t}function s7(){return Ft.lFrame.isParent}function a7(){Ft.lFrame.isParent=!1}function is(){const n=Ft.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Z1(){return Ft.lFrame.bindingIndex++}function qo(n){const t=Ft.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Oq(n,t){const e=Ft.lFrame;e.bindingIndex=e.bindingRootIndex=n,o7(t)}function o7(n){Ft.lFrame.currentDirectiveIndex=n}function c7(n){const t=Ft.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function fC(){return Ft.lFrame.currentQueryIndex}function l7(n){Ft.lFrame.currentQueryIndex=n}function Uq(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function hC(n,t,e){if(e&Vt.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Vt.Host||(r=Uq(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Ft.lFrame=pC();return i.currentTNode=t,i.lView=n,!0}function u7(n){const t=pC(),e=n[1];Ft.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function pC(){const n=Ft.lFrame,t=null===n?null:n.child;return null===t?mC(n):t}function mC(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function gC(){const n=Ft.lFrame;return Ft.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _C=gC;function d7(){const n=gC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function rs(){return Ft.lFrame.selectedIndex}function Zc(n){Ft.lFrame.selectedIndex=n}function Ei(){const n=Ft.lFrame;return $e(n.tView,n.selectedIndex)}function ti(){Ft.lFrame.currentNamespace="svg"}function Ku(){!function $q(){Ft.lFrame.currentNamespace=null}()}function E0(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),o&&((n.contentHooks||(n.contentHooks=[])).push(e,o),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,o)),c&&(n.viewHooks||(n.viewHooks=[])).push(-e,c),l&&((n.viewHooks||(n.viewHooks=[])).push(e,l),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,l)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function k0(n,t,e){vC(n,t,3,e)}function L0(n,t,e,i){(3&n[2])===e&&vC(n,t,e,i)}function f7(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function vC(n,t,e,i){const s=i??-1,a=t.length-1;let o=0;for(let c=void 0!==i?65535&n[18]:0;c<a;c++)if("number"==typeof t[c+1]){if(o=t[c],null!=i&&o>=i)break}else t[c]<0&&(n[18]+=65536),(o<s||-1==s)&&(Xq(n,e,t,c),n[18]=(4294901760&n[18])+c+2),c++}function Xq(n,t,e,i){const r=e[i]<0,s=e[i+1],o=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class Zu{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function I0(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],a=e[i++],o=e[i++];n.setAttribute(t,a,o,s)}else{const s=r,a=e[++i];bC(s)?n.setProperty(t,s,a):n.setAttribute(t,s,a),i++}}return i}function yC(n){return 3===n||4===n||6===n}function bC(n){return 64===n.charCodeAt(0)}function V0(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||MC(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function MC(n,t,e,i,r){let s=0,a=n.length;if(-1===t)a=-1;else for(;s<n.length;){const o=n[s++];if("number"==typeof o){if(o===t){a=-1;break}if(o>t){a=s-1;break}}}for(;s<n.length;){const o=n[s];if("number"==typeof o)break;if(o===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(n.splice(a,0,t),s=a+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function xC(n){return-1!==n}function Q1(n){return 32767&n}function J1(n,t){let e=function eY(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let p7=!0;function H0(n){const t=p7;return p7=n,t}let tY=0;const uo={};function Ju(n,t){const e=g7(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,m7(i.data,n),m7(t,null),m7(i.blueprint,null));const r=R0(n,t),s=n.injectorIndex;if(xC(r)){const a=Q1(r),o=J1(r,t),c=o[1].data;for(let l=0;l<8;l++)t[s+l]=o[a+l]|c[a+l]}return t[s+8]=r,s}function m7(n,t){n.push(0,0,0,0,0,0,0,0,t)}function g7(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function R0(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=LC(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function z0(n,t,e){!function nY(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ol)&&(i=e[ol]),null==i&&(i=e[ol]=tY++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function SC(n,t,e){if(e&Vt.Optional||void 0!==n)return n;O1()}function TC(n,t,e,i){if(e&Vt.Optional&&void 0===i&&(i=null),0==(e&(Vt.Self|Vt.Host))){const r=n[9],s=vs(void 0);try{return r?r.get(t,i,e&Vt.Optional):o0(t,i,e&Vt.Optional)}finally{vs(s)}}return SC(i,0,e)}function AC(n,t,e,i=Vt.Default,r){if(null!==n){if(1024&t[2]){const a=function oY(n,t,e,i,r){let s=n,a=t;for(;null!==s&&null!==a&&1024&a[2]&&!(256&a[2]);){const o=DC(s,a,e,i|Vt.Self,uo);if(o!==uo)return o;let c=s.parent;if(!c){const l=a[21];if(l){const u=l.get(e,uo,i);if(u!==uo)return u}c=LC(a),a=a[15]}s=c}return r}(n,t,e,i,uo);if(a!==uo)return a}const s=DC(n,t,e,i,uo);if(s!==uo)return s}return TC(t,e,i,r)}function DC(n,t,e,i,r){const s=function sY(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ol)?n[ol]:void 0;return"number"==typeof t?t>=0?255&t:aY:t}(e);if("function"==typeof s){if(!hC(t,n,i))return i&Vt.Host?SC(r,0,i):TC(t,e,i,r);try{const a=s(i);if(null!=a||i&Vt.Optional)return a;O1()}finally{_C()}}else if("number"==typeof s){let a=null,o=g7(n,t),c=-1,l=i&Vt.Host?t[16][6]:null;for((-1===o||i&Vt.SkipSelf)&&(c=-1===o?R0(n,t):t[o+8],-1!==c&&kC(i,!1)?(a=t[1],o=Q1(c),t=J1(c,t)):o=-1);-1!==o;){const u=t[1];if(EC(s,o,u.data)){const d=rY(o,t,e,a,i,l);if(d!==uo)return d}c=t[o+8],-1!==c&&kC(i,t[1].data[o+8]===l)&&EC(s,o,t)?(a=u,o=Q1(c),t=J1(c,t)):o=-1}}return r}function rY(n,t,e,i,r,s){const a=t[1],o=a.data[n+8],u=P0(o,a,e,null==i?dl(o)&&p7:i!=a&&0!=(3&o.type),r&Vt.Host&&s===o);return null!==u?ed(t,a,u,o):uo}function P0(n,t,e,i,r){const s=n.providerIndexes,a=t.data,o=1048575&s,c=n.directiveStart,u=s>>20,f=r?o+u:n.directiveEnd;for(let h=i?o:o+u;h<f;h++){const p=a[h];if(h<c&&e===p||h>=c&&p.type===e)return h}if(r){const h=a[c];if(h&&Ms(h)&&h.type===e)return c}return null}function ed(n,t,e,i){let r=n[e];const s=t.data;if(function Kq(n){return n instanceof Zu}(r)){const a=r;a.resolving&&function H5(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new we(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Dn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Gt(n)}(s[e]));const o=H0(a.canSeeViewProviders);a.resolving=!0;const c=a.injectImpl?vs(a.injectImpl):null;hC(n,i,Vt.Default);try{r=n[e]=a.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Yq(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const a=b0(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==c&&vs(c),H0(o),a.resolving=!1,_C()}}return r}function EC(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function kC(n,t){return!(n&Vt.Self||n&Vt.Host&&t)}class e3{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return AC(this._tNode,this._lView,t,i,e)}}function aY(){return new e3(or(),Ae())}function Qe(n){return co(()=>{const t=n.prototype.constructor,e=t[Ha]||_7(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Ha]||_7(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function _7(n){return ci(n)?()=>{const t=_7(Rt(n));return t&&t()}:xs(n)}function LC(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function qr(n){return function iY(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(yC(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(or(),n)}const n3="__parameters__",r3="__prop__metadata__";function v7(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}function s3(n,t,e){return co(()=>{const i=v7(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return o.annotation=a,o;function o(c,l,u){const d=c.hasOwnProperty(n3)?c[n3]:Object.defineProperty(c,n3,{value:[]})[n3];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(a),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function td(n,t,e,i){return co(()=>{const r=v7(t);function s(...a){if(this instanceof s)return r.apply(this,a),this;const o=new s(...a);return function c(l,u){const d=l.constructor,f=d.hasOwnProperty(r3)?d[r3]:Object.defineProperty(d,r3,{value:{}})[r3];f[u]=f.hasOwnProperty(u)&&f[u]||[],f[u].unshift(o),i&&i(l,u,...a)}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class he{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_e({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}class VC{}const lY=td("ContentChild",(n,t={})=>({selector:n,first:!0,isViewQuery:!1,descendants:!0,...t}),VC),HC=td("ViewChild",(n,t)=>({selector:n,first:!0,isViewQuery:!0,descendants:!0,...t}),VC);function Gs(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Gs(i,t)):t!==n&&t.push(i)}return t}function Yo(n,t){n.forEach(e=>Array.isArray(e)?Yo(e,t):t(e))}function RC(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function N0(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function rd(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Ws(n,t,e){let i=a3(n,t);return i>=0?n[1|i]=e:(i=~i,function fY(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function b7(n,t){const e=a3(n,t);if(e>=0)return n[1|e]}function a3(n,t){return function NC(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),a=n[s<<e];if(t===a)return s<<e;a>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const sd={},x7="__NG_DI_FLAG__",O0="ngTempTokenPath",bY=/\n/gm,FC="__source";let ad;function o3(n){const t=ad;return ad=n,t}function xY(n,t=Vt.Default){if(void 0===ad)throw new we(-203,!1);return null===ad?o0(n,void 0,t):ad.get(n,t&Vt.Optional?null:void 0,t)}function j(n,t=Vt.Default){return(function Nu(){return Pu}()||xY)(Rt(n),t)}function Wn(n,t=Vt.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),j(n,t)}function C7(n){const t=[];for(let e=0;e<n.length;e++){const i=Rt(n[e]);if(Array.isArray(i)){if(0===i.length)throw new we(900,!1);let r,s=Vt.Default;for(let a=0;a<i.length;a++){const o=i[a],c=CY(o);"number"==typeof c?-1===c?r=o.token:s|=c:r=o}t.push(j(r,s))}else t.push(j(i))}return t}function od(n,t){return n[x7]=t,n.prototype[x7]=t,n}function CY(n){return n[x7]}const Cs=od(s3("Inject",n=>({token:n})),-1),ws=od(s3("Optional"),8),fo=od(s3("SkipSelf"),4);let w7,G0,W0;function l3(n){return function S7(){if(void 0===G0&&(G0=null,Yn.trustedTypes))try{G0=Yn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return G0}()?.createHTML(n)||n}function T7(){if(void 0===W0&&(W0=null,Yn.trustedTypes))try{W0=Yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return W0}function XC(n){return T7()?.createHTML(n)||n}function ZC(n){return T7()?.createScriptURL(n)||n}class hl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class NY extends hl{getTypeName(){return"HTML"}}class FY extends hl{getTypeName(){return"Style"}}class OY extends hl{getTypeName(){return"Script"}}class BY extends hl{getTypeName(){return"URL"}}class UY extends hl{getTypeName(){return"ResourceURL"}}function js(n){return n instanceof hl?n.changingThisBreaksApplicationSecurity:n}function ho(n,t){const e=function GY(n){return n instanceof hl&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class XY{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(l3(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class KY{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=l3(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=l3(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const a=e.item(r).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const QY=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function j0(n){return(n=String(n)).match(QY)?n:"unsafe:"+n}function Xo(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function ud(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const JC=Xo("area,br,col,hr,img,wbr"),ew=Xo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tw=Xo("rp,rt"),A7=ud(JC,ud(ew,Xo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ud(tw,Xo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ud(tw,ew)),D7=Xo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nw=ud(D7,Xo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),JY=Xo("script,style,template");class eX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!A7.hasOwnProperty(e))return this.sanitizedSomething=!0,!JY.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),a=s.name,o=a.toLowerCase();if(!nw.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let c=s.value;D7[o]&&(c=j0(c)),this.buf.push(" ",a,'="',iw(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();A7.hasOwnProperty(e)&&!JC.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(iw(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const tX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nX=/([^\#-~ |!])/g;function iw(n){return n.replace(/&/g,"&amp;").replace(tX,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(nX,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $0;function rw(n,t){let e=null;try{$0=$0||function QC(n){const t=new KY(n);return function ZY(){try{return!!(new window.DOMParser).parseFromString(l3(""),"text/html")}catch{return!1}}()?new XY(t):t}(n);let i=t?String(t):"";e=$0.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=$0.getInertBodyElement(i)}while(i!==s);return l3((new eX).sanitizeChildren(E7(e)||e))}finally{if(e){const i=E7(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function E7(n){return"content"in n&&function iX(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Nn=(()=>((Nn=Nn||{})[Nn.NONE=0]="NONE",Nn[Nn.HTML=1]="HTML",Nn[Nn.STYLE=2]="STYLE",Nn[Nn.SCRIPT=3]="SCRIPT",Nn[Nn.URL=4]="URL",Nn[Nn.RESOURCE_URL=5]="RESOURCE_URL",Nn))();function sw(n){const t=dd();return t?XC(t.sanitize(Nn.HTML,n)||""):ho(n,"HTML")?XC(js(n)):rw(function YC(){return void 0!==w7?w7:typeof document<"u"?document:void 0}(),Gt(n))}function L7(n){const t=dd();if(t)return ZC(t.sanitize(Nn.RESOURCE_URL,n)||"");if(ho(n,"ResourceURL"))return ZC(js(n));throw new we(904,!1)}function dd(){const n=Ae();return n&&n[12]}const I7=new he("ENVIRONMENT_INITIALIZER"),V7=new he("INJECTOR",-1),aw=new he("INJECTOR_DEF_TYPES");class ow{get(t,e=sd){if(e===sd){const i=new Error(`NullInjectorError: No provider for ${On(t)}!`);throw i.name="NullInjectorError",i}return e}}function uX(...n){return{\u0275providers:cw(0,n)}}function cw(n,...t){const e=[],i=new Set;let r;return Yo(t,s=>{const a=s;H7(a,e,[],i)&&(r||(r=[]),r.push(a))}),void 0!==r&&lw(r,e),e}function lw(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];Yo(r,s=>{t.push(s)})}}function H7(n,t,e,i){if(!(n=Rt(n)))return!1;let r=null,s=Ru(n);const a=!s&&Sn(n);if(s||a){if(a&&!a.standalone)return!1;r=n}else{const c=n.ngModule;if(s=Ru(c),!s)return!1;r=c}const o=i.has(r);if(a){if(o)return!1;if(i.add(r),a.dependencies){const c="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of c)H7(l,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!o){let l;i.add(r);try{Yo(s.imports,u=>{H7(u,t,e,i)&&(l||(l=[]),l.push(u))})}finally{}void 0!==l&&lw(l,t)}if(!o){const l=xs(r)||(()=>new r);t.push({provide:r,useFactory:l,deps:Hn},{provide:aw,useValue:r,multi:!0},{provide:I7,useValue:()=>j(r),multi:!0})}const c=s.providers;null==c||o||Yo(c,u=>{t.push(u)})}}return r!==n&&void 0!==n.providers}const dX=An({provide:String,useValue:An});function R7(n){return null!==n&&"object"==typeof n&&dX in n}function pl(n){return"function"==typeof n}const z7=new he("Set Injector scope."),q0={},hX={};let P7;function Y0(){return void 0===P7&&(P7=new ow),P7}class Jc{}class fw extends Jc{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,F7(t,a=>this.processProvider(a)),this.records.set(V7,u3(void 0,this)),r.has("environment")&&this.records.set(Jc,u3(void 0,this));const s=this.records.get(z7);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(aw.multi,Hn,Vt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=o3(this),i=vs(void 0);try{return t()}finally{o3(e),vs(i)}}get(t,e=sd,i=Vt.Default){this.assertNotDestroyed();const r=o3(this),s=vs(void 0);try{if(!(i&Vt.SkipSelf)){let o=this.records.get(t);if(void 0===o){const c=function vX(n){return"function"==typeof n||"object"==typeof n&&n instanceof he}(t)&&B1(t);o=c&&this.injectableDefInScope(c)?u3(N7(t),q0):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(i&Vt.Self?Y0():this.parent).get(t,e=i&Vt.Optional&&e===sd?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[O0]=a[O0]||[]).unshift(On(t)),r)throw a;return function wY(n,t,e,i){const r=n[O0];throw t[FC]&&r.unshift(t[FC]),n.message=function SY(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=On(t);if(Array.isArray(t))r=t.map(On).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let o=t[a];s.push(a+":"+("string"==typeof o?JSON.stringify(o):On(o)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(bY,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[O0]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{vs(s),o3(r)}}resolveInjectorInitializers(){const t=o3(this),e=vs(void 0);try{const i=this.get(I7.multi,Hn,Vt.Self);for(const r of i)r()}finally{o3(t),vs(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(On(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(t){let e=pl(t=Rt(t))?t:Rt(t&&t.provide);const i=function mX(n){return R7(n)?u3(void 0,n.useValue):u3(hw(n),q0)}(t);if(pl(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=u3(void 0,q0,!0),r.factory=()=>C7(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===q0&&(e.value=hX,e.value=e.factory()),"object"==typeof e.value&&e.value&&function _X(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Rt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function N7(n){const t=B1(n),e=null!==t?t.factory:xs(n);if(null!==e)return e;if(n instanceof he)throw new we(204,!1);if(n instanceof Function)return function pX(n){const t=n.length;if(t>0)throw rd(t,"?"),new we(204,!1);const e=function O5(n){const t=n&&(n[Va]||n[zu]);if(t){const e=function $c(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new we(204,!1)}function hw(n,t,e){let i;if(pl(n)){const r=Rt(n);return xs(r)||N7(r)}if(R7(n))i=()=>Rt(n.useValue);else if(function dw(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...C7(n.deps||[]));else if(function uw(n){return!(!n||!n.useExisting)}(n))i=()=>j(Rt(n.useExisting));else{const r=Rt(n&&(n.useClass||n.provide));if(!function gX(n){return!!n.deps}(n))return xs(r)||N7(r);i=()=>new r(...C7(n.deps))}return i}function u3(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function yX(n){return!!n.\u0275providers}function F7(n,t){for(const e of n)Array.isArray(e)?F7(e,t):yX(e)?F7(e.\u0275providers,t):t(e)}class pw{}class xX{resolveComponentFactory(t){throw function MX(n){const t=Error(`No component factory found for ${On(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ko=(()=>{class n{}return n.NULL=new xX,n})();function CX(){return d3(or(),Ae())}function d3(n,t){return new Ge($(n,t))}let Ge=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=CX,n})();function wX(n){return n instanceof Ge?n.nativeElement:n}class fd{}let $s=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function SX(){const n=Ae(),e=Ne(or().index,n);return($r(e)?e:n)[11]}(),n})(),TX=(()=>{class n{}return n.\u0275prov=_e({token:n,providedIn:"root",factory:()=>null}),n})();class e2{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const AX=new e2("14.2.2"),O7={};function j7(n){return n.ngOriginalError}class Zo{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&j7(t);for(;e&&j7(e);)e=j7(e);return e||null}}const $7=new Map;let FX=0;const Y7="__ngContext__";function Yr(n,t){$r(t)?(n[Y7]=t[20],function BX(n){$7.set(n[20],n)}(t)):n[Y7]=t}function Aw(n){return n.ownerDocument.defaultView}function Qo(n){return n instanceof Function?n():n}var Ss=(()=>((Ss=Ss||{})[Ss.Important=1]="Important",Ss[Ss.DashCase=2]="DashCase",Ss))();function K7(n,t){return undefined(n,t)}function pd(n){const t=n[3];return Bs(t)?t[3]:t}function Z7(n){return kw(n[13])}function Q7(n){return kw(n[4])}function kw(n){for(;null!==n&&!Bs(n);)n=n[4];return n}function h3(n,t,e,i,r){if(null!=i){let s,a=!1;Bs(i)?s=i:$r(i)&&(a=!0,i=i[0]);const o=x(i);0===n&&null!==e?null==r?zw(t,e,o):ml(t,e,o,r||null,!0):1===n&&null!==e?ml(t,e,o,r||null,!0):2===n?function Gw(n,t,e){const i=X0(n,t);i&&function hK(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,o,a):3===n&&t.destroyNode(o),null!=s&&function gK(n,t,e,i,r){const s=e[7];s!==x(e)&&h3(t,n,i,s,r);for(let o=10;o<e.length;o++){const c=e[o];md(c[1],c,n,t,i,s)}}(t,n,s,e,r)}}function eg(n,t,e){return n.createElement(t,e)}function Iw(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,wr(r,-1)),e.splice(i,1)}function tg(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&Iw(r,i),t>0&&(n[e-1][4]=i[4]);const s=N0(n,10+t);!function sK(n,t){md(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function Vw(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&md(n,t,e,3,null,null),function cK(n){let t=n[13];if(!t)return ng(n[1],n);for(;t;){let e=null;if($r(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)$r(t)&&ng(t[1],t),t=t[3];null===t&&(t=n),$r(t)&&ng(t[1],t),e=t&&t[4]}t=e}}(t)}}function ng(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function fK(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Zu)){const s=e[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const o=r[s[a]],c=s[a+1];try{c.call(o)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function dK(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const a=e[s+1],o="function"==typeof a?a(t):x(t[a]),c=i[r=e[s+2]],l=e[s+3];"boolean"==typeof l?o.removeEventListener(e[s],c,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),s+=2}else{const a=i[r=e[s+1]];e[s].call(a)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&Bs(t[3])){e!==t[3]&&Iw(e,t);const i=t[19];null!==i&&i.detachView(n)}!function UX(n){$7.delete(n[20])}(t)}}function Hw(n,t,e){return function Rw(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Ps.None||r===Ps.Emulated)return null}return $(i,e)}(n,t.parent,e)}function ml(n,t,e,i,r){n.insertBefore(t,e,i,r)}function zw(n,t,e){n.appendChild(t,e)}function Pw(n,t,e,i,r){null!==i?ml(n,t,e,i,r):zw(n,t,e)}function X0(n,t){return n.parentNode(t)}function Nw(n,t,e){return Ow(n,t,e)}let Ow=function Fw(n,t,e){return 40&n.type?$(n,e):null};function K0(n,t,e,i){const r=Hw(n,i,t),s=t[11],o=Nw(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)Pw(s,r,e[c],o,!1);else Pw(s,r,e,o,!1)}function Z0(n,t){if(null!==t){const e=t.type;if(3&e)return $(t,n);if(4&e)return rg(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Z0(n,i);{const r=n[t.index];return Bs(r)?rg(-1,r):x(r)}}if(32&e)return K7(t,n)()||x(n[t.index]);{const i=Uw(n,t);return null!==i?Array.isArray(i)?i[0]:Z0(pd(n[16]),i):Z0(n,t.next)}}return null}function Uw(n,t){return null!==t?n[16][6].projection[t.projection]:null}function rg(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return Z0(i,r)}return t[7]}function sg(n,t,e,i,r,s,a){for(;null!=e;){const o=i[e.index],c=e.type;if(a&&0===t&&(o&&Yr(x(o),i),e.flags|=4),64!=(64&e.flags))if(8&c)sg(n,t,e.child,i,r,s,!1),h3(t,n,r,o,s);else if(32&c){const l=K7(e,i);let u;for(;u=l();)h3(t,n,r,u,s);h3(t,n,r,o,s)}else 16&c?Ww(n,t,i,e,r,s):h3(t,n,r,o,s);e=a?e.projectionNext:e.next}}function md(n,t,e,i,r,s){sg(e,i,n.firstChild,t,r,s,!1)}function Ww(n,t,e,i,r,s){const a=e[16],c=a[6].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)h3(t,n,r,c[l],s);else sg(n,t,c,a[3],r,s,!0)}function jw(n,t,e){n.setAttribute(t,"style",e)}function ag(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function $w(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const qw="ng-template";function vK(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==$w(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Yw(n){return 4===n.type&&n.value!==qw}function yK(n,t,e){return t===(4!==n.type||e?n.value:qw)}function bK(n,t,e){let i=4;const r=n.attrs||[],s=function CK(n){for(let t=0;t<n.length;t++)if(yC(n[t]))return t;return n.length}(r);let a=!1;for(let o=0;o<t.length;o++){const c=t[o];if("number"!=typeof c){if(!a)if(4&i){if(i=2|1&i,""!==c&&!yK(n,c,e)||""===c&&1===t.length){if(Ra(i))return!1;a=!0}}else{const l=8&i?c:t[++o];if(8&i&&null!==n.attrs){if(!vK(n.attrs,l,e)){if(Ra(i))return!1;a=!0}continue}const d=MK(8&i?"class":c,r,Yw(n),e);if(-1===d){if(Ra(i))return!1;a=!0;continue}if(""!==l){let f;f=d>s?"":r[d+1].toLowerCase();const h=8&i?f:null;if(h&&-1!==$w(h,l,0)||2&i&&l!==f){if(Ra(i))return!1;a=!0}}}}else{if(!a&&!Ra(i)&&!Ra(c))return!1;if(a&&Ra(c))continue;a=!1,i=c|1&i}}return Ra(i)||a}function Ra(n){return 0==(1&n)}function MK(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const a=t[r];if(a===n)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let o=t[++r];for(;"string"==typeof o;)o=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function wK(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Xw(n,t,e=!1){for(let i=0;i<t.length;i++)if(bK(n,t[i],e))return!0;return!1}function SK(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Kw(n,t){return n?":not("+t.trim()+")":t}function TK(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const o=n[++e];r+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!Ra(a)&&(t+=Kw(s,r),r=""),i=a,s=s||!Ra(i);e++}return""!==r&&(t+=Kw(s,r)),t}const Kt={};function Y(n){Zw(gn(),Ae(),rs()+n,!1)}function Zw(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&k0(t,s,e)}else{const s=n.preOrderHooks;null!==s&&L0(t,s,0,e)}Zc(e)}function tS(n,t=null,e=null,i){const r=nS(n,t,e,i);return r.resolveInjectorInitializers(),r}function nS(n,t=null,e=null,i,r=new Set){const s=[e||Hn,uX(n)];return i=i||("object"==typeof n?void 0:On(n)),new fw(s,t||Y0(),i||null,r)}let Gi=(()=>{class n{static create(e,i){if(Array.isArray(e))return tS({name:""},i,e,"");{const r=e.name??"";return tS({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=sd,n.NULL=new ow,n.\u0275prov=_e({token:n,providedIn:"any",factory:()=>j(V7)}),n.__NG_ELEMENT_ID__=-1,n})();function S(n,t=Vt.Default){const e=Ae();return null===e?j(n,t):AC(or(),e,Rt(n),t)}function da(){throw new Error("invalid")}function J0(n,t){return n<<17|t<<2}function za(n){return n>>17&32767}function dg(n){return 2|n}function Jo(n){return(131068&n)>>2}function fg(n,t){return-131069&n|t<<2}function hg(n){return 1|n}function yS(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const a=n.data[s];l7(r),a.contentQueries(2,t[s],s)}}}function n6(n,t,e,i,r,s,a,o,c,l,u){const d=t.blueprint.slice();return d[0]=r,d[2]=76|i,(null!==u||n&&1024&n[2])&&(d[2]|=1024),Nt(d),d[3]=d[15]=n,d[8]=e,d[10]=a||n&&n[10],d[11]=o||n&&n[11],d[12]=c||n&&n[12]||null,d[9]=l||n&&n[9]||null,d[6]=s,d[20]=function OX(){return FX++}(),d[21]=u,d[16]=2==t.type?n[16]:d,d}function m3(n,t,e,i,r){let s=n.data[t];if(null===s)s=function Mg(n,t,e,i,r){const s=cC(),a=s7(),c=n.data[t]=function cZ(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=c),null!==s&&(a?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c)),c}(n,t,e,i,r),function Fq(){return Ft.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const a=function Xu(){const n=Ft.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return lo(s,!0),s}function g3(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function xg(n,t,e){u7(t);try{const i=n.viewQuery;null!==i&&kg(1,i,e);const r=n.template;null!==r&&bS(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&yS(n,t),n.staticViewQueries&&kg(2,n.viewQuery,e);const s=n.components;null!==s&&function sZ(n,t){for(let e=0;e<t.length;e++)wZ(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,d7()}}function i6(n,t,e,i){const r=t[2];if(128!=(128&r)){u7(t);try{Nt(t),function uC(n){return Ft.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&bS(n,t,e,2,i);const a=3==(3&r);if(a){const l=n.preOrderCheckHooks;null!==l&&k0(t,l,null)}else{const l=n.preOrderHooks;null!==l&&L0(t,l,0,null),f7(t,0)}if(function xZ(n){for(let t=Z7(n);null!==t;t=Q7(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(512&r[2])&&wr(s,1),r[2]|=512}}}(t),function MZ(n){for(let t=Z7(n);null!==t;t=Q7(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];un(i)&&i6(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&yS(n,t),a){const l=n.contentCheckHooks;null!==l&&k0(t,l)}else{const l=n.contentHooks;null!==l&&L0(t,l,1),f7(t,1)}!function iZ(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Zc(~r);else{const s=r,a=e[++i],o=e[++i];Oq(a,s),o(2,t[s])}}}finally{Zc(-1)}}(n,t);const o=n.components;null!==o&&function rZ(n,t){for(let e=0;e<t.length;e++)CZ(n,t[e])}(t,o);const c=n.viewQuery;if(null!==c&&kg(2,c,i),a){const l=n.viewCheckHooks;null!==l&&k0(t,l)}else{const l=n.viewHooks;null!==l&&L0(t,l,2),f7(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,wr(t[3],-1))}finally{d7()}}}function bS(n,t,e,i,r){const s=rs(),a=2&i;try{Zc(-1),a&&t.length>22&&Zw(n,t,22,!1),e(i,r)}finally{Zc(s)}}function MS(n,t,e){if(ju(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}}function Cg(n,t,e){!A0()||(function hZ(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||Ju(e,t),Yr(i,t);const a=e.initialInputs;for(let o=r;o<s;o++){const c=n.data[o],l=Ms(c);l&&vZ(t,e,c);const u=ed(t,n,o,e);Yr(u,t),null!==a&&yZ(0,o-r,u,c,0,a),l&&(Ne(e.index,t)[8]=u)}}(n,t,e,$(e,t)),128==(128&e.flags)&&function pZ(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function Bq(){return Ft.lFrame.currentDirectiveIndex}();try{Zc(s);for(let o=i;o<r;o++){const c=n.data[o],l=t[o];o7(o),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&DS(c,l)}}finally{Zc(-1),o7(a)}}(n,t,e))}function wg(n,t,e=$){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],o=-1===a?e(t,n):n[a];n[r++]=o}}}function xS(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Sg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Sg(n,t,e,i,r,s,a,o,c,l){const u=22+i,d=u+r,f=function aZ(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Kt);return e}(u,d),h="function"==typeof l?l():l;return f[1]={type:n,blueprint:f,template:e,queries:null,viewQuery:o,declTNode:t,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1}}function CS(n,t,e,i){const r=VS(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&HS(n).push(i,r.length-1))}function wS(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function SS(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,a=[];let o=null,c=null;for(let l=t.directiveStart;l<i;l++){const u=r[l],d=u.inputs,f=null===s||Yw(t)?null:bZ(d,s);a.push(f),o=wS(d,l,o),c=wS(u.outputs,l,c)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=c}function qs(n,t,e,i,r,s,a,o){const c=$(t,e);let u,l=t.inputs;!o&&null!=l&&(u=l[i])?(Lg(n,e,u,i,r),dl(t)&&TS(e,t.index)):3&t.type&&(i=function lZ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,t.value||"",i):r,s.setProperty(c,i,r))}function TS(n,t){const e=Ne(t,n);16&e[2]||(e[2]|=32)}function Tg(n,t,e,i){let r=!1;if(A0()){const s=function mZ(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const a=i[s];Xw(e,a.selectors,!1)&&(r||(r=[]),z0(Ju(e,t),n,a.type),Ms(a)?(ES(n,e),r.unshift(a)):r.push(a))}return r}(n,t,e),a=null===i?null:{"":-1};if(null!==s){r=!0,kS(e,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let o=!1,c=!1,l=g3(n,t,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];e.mergedAttrs=V0(e.mergedAttrs,d.hostAttrs),LS(n,e,t,l,d),_Z(l,d,a),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),o=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),c=!0),l++}SS(n,e)}a&&function gZ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new we(-301,!1);i.push(t[r],s)}}}(e,i,a)}return e.mergedAttrs=V0(e.mergedAttrs,e.attrs),r}function AS(n,t,e,i,r,s){const a=s.hostBindings;if(a){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const c=~t.index;(function fZ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=c&&o.push(c),o.push(i,r,a)}}function DS(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function ES(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function _Z(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Ms(t)&&(e[""]=n)}}function kS(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function LS(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=xs(r.type)),a=new Zu(s,Ms(r),S);n.blueprint[i]=a,e[i]=a,AS(n,t,0,i,g3(n,e,r.hostVars,Kt),r)}function vZ(n,t,e){const i=$(t,n),r=xS(e),s=n[10],a=r6(n,n6(n,r,null,e.onPush?32:16,i,t,s,s.createRenderer(i,e),null,null,null));n[t.index]=a}function po(n,t,e,i,r,s){const a=$(n,t);!function Ag(n,t,e,i,r,s,a){if(null==s)n.removeAttribute(t,r,e);else{const o=null==a?Gt(s):a(s,i||"",r);n.setAttribute(t,r,o,e)}}(t[11],a,s,n.value,e,i,r)}function yZ(n,t,e,i,r,s){const a=s[t];if(null!==a){const o=i.setInput;for(let c=0;c<a.length;){const l=a[c++],u=a[c++],d=a[c++];null!==o?i.setInput(e,d,l,u):e[u]=d}}}function bZ(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function IS(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function CZ(n,t){const e=Ne(t,n);if(un(e)){const i=e[1];48&e[2]?i6(i,e,i.template,e[8]):e[5]>0&&Dg(e)}}function Dg(n){for(let i=Z7(n);null!==i;i=Q7(i))for(let r=10;r<i.length;r++){const s=i[r];if(un(s))if(512&s[2]){const a=s[1];i6(a,s,a.template,s[8])}else s[5]>0&&Dg(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Ne(e[i],n);un(r)&&r[5]>0&&Dg(r)}}function wZ(n,t){const e=Ne(t,n),i=e[1];(function SZ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),xg(i,e,e[8])}function r6(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Eg(n){for(;n;){n[2]|=32;const t=pd(n);if(f0(n)&&!t)return n;n=t}return null}function s6(n,t,e,i=!0){const r=t[10];r.begin&&r.begin();try{i6(n,t,n.template,e)}catch(a){throw i&&zS(t,a),a}finally{r.end&&r.end()}}function kg(n,t,e){l7(0),t(n,e)}function VS(n){return n[7]||(n[7]=[])}function HS(n){return n.cleanup||(n.cleanup=[])}function RS(n,t,e){return(null===n||Ms(n))&&(e=function A(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function zS(n,t){const e=n[9],i=e?e.get(Zo,null):null;i&&i.handleError(t)}function Lg(n,t,e,i,r){for(let s=0;s<e.length;){const a=e[s++],o=e[s++],c=t[a],l=n.data[a];null!==l.setInput?l.setInput(c,r,i,o):c[o]=r}}function a6(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const o=t[a];"number"==typeof o?s=o:1==s?r=F1(r,o):2==s&&(i=F1(i,o+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function o6(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(x(s)),Bs(s))for(let o=10;o<s.length;o++){const c=s[o],l=c[1].firstChild;null!==l&&o6(c[1],c,l,i)}const a=e.type;if(8&a)o6(n,t,e.child,i);else if(32&a){const o=K7(e,t);let c;for(;c=o();)i.push(c)}else if(16&a){const o=Uw(t,e);if(Array.isArray(o))i.push(...o);else{const c=pd(t[16]);o6(c[1],c,o,i,!0)}}e=r?e.projectionNext:e.next}return i}class gd{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return o6(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Bs(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(tg(t,i),N0(e,i))}this._attachedToViewContainer=!1}Vw(this._lView[1],this._lView)}onDestroy(t){CS(this._lView[1],this._lView,null,t)}markForCheck(){Eg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){s6(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oK(n,t){md(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=t}}class TZ extends gd{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;s6(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Ig extends Ko{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Sn(t);return new _d(e,this.ngModule)}}function PS(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class DZ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){const r=this.injector.get(t,O7,i);return r!==O7||e===O7?r:this.parentInjector.get(t,e,i)}}class _d extends pw{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function AK(n){return n.map(TK).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return PS(this.componentDef.inputs)}get outputs(){return PS(this.componentDef.outputs)}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof Jc?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new DZ(t,s):t,o=a.get(fd,null);if(null===o)throw new we(407,!1);const c=a.get(TX,null),l=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function oZ(n,t,e){return n.selectRootElement(t,e===Ps.ShadowDom)}(l,i,this.componentDef.encapsulation):eg(o.createRenderer(null,this.componentDef),u,function AZ(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),f=this.componentDef.onPush?288:272,h=Sg(0,null,null,1,0,null,null,null,null,null),p=n6(null,h,null,f,null,null,o,l,c,a,null);let v,g;u7(p);try{const m=function LZ(n,t,e,i,r,s){const a=e[1];e[22]=n;const c=m3(a,22,2,"#host",null),l=c.mergedAttrs=t.hostAttrs;null!==l&&(a6(c,l,!0),null!==n&&(I0(r,n,l),null!==c.classes&&ag(r,n,c.classes),null!==c.styles&&jw(r,n,c.styles)));const u=i.createRenderer(n,t),d=n6(e,xS(t),null,t.onPush?32:16,e[22],c,i,u,s||null,null,null);return a.firstCreatePass&&(z0(Ju(c,e),a,t.type),ES(a,c),kS(c,e.length,1)),r6(e,d),e[22]=d}(d,this.componentDef,p,o,l);if(d)if(i)I0(l,d,["ng-version",AX.full]);else{const{attrs:C,classes:b}=function DK(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Ra(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);C&&I0(l,d,C),b&&b.length>0&&ag(l,d,b.join(" "))}if(g=$e(h,22),void 0!==e){const C=g.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const T=e[b];C.push(null!=T?Array.from(T):null)}}v=function IZ(n,t,e,i){const r=e[1],s=function dZ(n,t,e){const i=or();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),LS(n,i,t,g3(n,t,1,null),e),SS(n,i));const r=ed(t,n,i.directiveStart,i);Yr(r,t);const s=$(i,t);return s&&Yr(s,t),r}(r,e,t);if(n[8]=e[8]=s,null!==i)for(const o of i)o(s,t);if(t.contentQueries){const o=or();t.contentQueries(1,s,o.directiveStart)}const a=or();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Zc(a.index),AS(e[1],a,0,a.directiveStart,a.directiveEnd,t),DS(t,s)),s}(m,this.componentDef,p,[VZ]),xg(h,p,null)}finally{d7()}return new kZ(this.componentType,v,d3(g,p),p,g)}}class kZ extends class bX{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new TZ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;Lg(s[1],s,r,t,e),TS(s,this._tNode.index)}}get injector(){return new e3(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function VZ(){const n=or();E0(Ae()[1],n)}function me(n){let t=function NS(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Ms(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new we(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const a=n;a.inputs=Vg(n.inputs),a.declaredInputs=Vg(n.declaredInputs),a.outputs=Vg(n.outputs);const o=r.hostBindings;o&&PZ(n,o);const c=r.viewQuery,l=r.contentQueries;if(c&&RZ(n,c),l&&zZ(n,l),N1(n.inputs,r.inputs),N1(n.declaredInputs,r.declaredInputs),N1(n.outputs,r.outputs),Ms(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let a=0;a<s.length;a++){const o=s[a];o&&o.ngInherit&&o(n),o===me&&(e=!1)}}t=Object.getPrototypeOf(t)}!function HZ(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=V0(r.hostAttrs,e=V0(e,r.hostAttrs))}}(i)}function Vg(n){return n===qc?{}:n===Hn?[]:n}function RZ(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function zZ(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function PZ(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let c6=null;function gl(){if(!c6){const n=Yn.Symbol;if(n&&n.iterator)c6=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(c6=i)}}}return c6}function vd(n){return!!Hg(n)&&(Array.isArray(n)||!(n instanceof Map)&&gl()in n)}function Hg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function mo(n,t,e){return n[t]=e}function Xr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function _l(n,t,e,i){const r=Xr(n,t,e);return Xr(n,t+1,i)||r}function Je(n,t,e,i){const r=Ae();return Xr(r,Z1(),t)&&(gn(),po(Ei(),r,n,t,e,i)),Je}function v3(n,t,e,i){return Xr(n,Z1(),e)?t+Gt(e)+i:Kt}function Le(n,t,e,i,r,s,a,o){const c=Ae(),l=gn(),u=n+22,d=l.firstCreatePass?function jZ(n,t,e,i,r,s,a,o,c){const l=t.consts,u=m3(t,n,4,a||null,an(l,o));Tg(t,e,u,an(l,c)),E0(t,u);const d=u.tViews=Sg(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,e,i,r,s,a):l.data[u];lo(d,!1);const f=c[11].createComment("");K0(l,c,f,d),Yr(f,c),r6(c,c[u]=IS(f,c,f,d)),j1(d)&&Cg(l,c,d),null!=a&&wg(c,d,o)}function ki(n){return Ve(function Nq(){return Ft.lFrame.contextLView}(),22+n)}function U(n,t,e){const i=Ae();return Xr(i,Z1(),t)&&qs(gn(),Ei(),i,n,t,i[11],e,!1),U}function Rg(n,t,e,i,r){const a=r?"class":"style";Lg(n,e,t.inputs[a],a,i)}function I(n,t,e,i){const r=Ae(),s=gn(),a=22+n,o=r[11],c=r[a]=eg(o,t,function qq(){return Ft.lFrame.currentNamespace}()),l=s.firstCreatePass?function qZ(n,t,e,i,r,s,a){const o=t.consts,l=m3(t,n,2,r,an(o,s));return Tg(t,e,l,an(o,a)),null!==l.attrs&&a6(l,l.attrs,!1),null!==l.mergedAttrs&&a6(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(a,s,r,0,t,e,i):s.data[a];lo(l,!0);const u=l.mergedAttrs;null!==u&&I0(o,c,u);const d=l.classes;null!==d&&ag(o,c,d);const f=l.styles;return null!==f&&jw(o,c,f),64!=(64&l.flags)&&K0(s,r,c,l),0===function t7(){return Ft.lFrame.elementDepthCount}()&&Yr(c,r),function n7(){Ft.lFrame.elementDepthCount++}(),j1(l)&&(Cg(s,r,l),MS(s,l,r)),null!==i&&wg(r,l),I}function V(){let n=or();s7()?a7():(n=n.parent,lo(n,!1));const t=n;!function T0(){Ft.lFrame.elementDepthCount--}();const e=gn();return e.firstCreatePass&&(E0(e,n),ju(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Qq(n){return 0!=(16&n.flags)}(t)&&Rg(e,t,Ae(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Jq(n){return 0!=(32&n.flags)}(t)&&Rg(e,t,Ae(),t.stylesWithoutHost,!1),V}function Re(n,t,e,i){return I(n,t,e,i),V(),Re}function T3(n,t,e){const i=Ae(),r=gn(),s=n+22,a=r.firstCreatePass?function YZ(n,t,e,i,r){const s=t.consts,a=an(s,i),o=m3(t,n,8,"ng-container",a);return null!==a&&a6(o,a,!0),Tg(t,e,o,an(s,r)),null!==t.queries&&t.queries.elementStart(t,o),o}(s,r,i,t,e):r.data[s];lo(a,!0);const o=i[s]=i[11].createComment("");return K0(r,i,o,a),Yr(o,i),j1(a)&&(Cg(r,i,a),MS(r,a,i)),null!=e&&wg(i,a),T3}function A3(){let n=or();const t=gn();return s7()?a7():(n=n.parent,lo(n,!1)),t.firstCreatePass&&(E0(t,n),ju(n)&&t.queries.elementEnd(n)),A3}function go(n,t,e){return T3(n,t,e),A3(),go}function fi(){return Ae()}function bd(n){return!!n&&"function"==typeof n.then}function YS(n){return!!n&&"function"==typeof n.subscribe}const zg=YS;function ve(n,t,e,i){const r=Ae(),s=gn(),a=or();return XS(s,r,r[11],a,n,t,0,i),ve}function u6(n,t){const e=or(),i=Ae(),r=gn();return XS(r,i,RS(c7(r.data),e,i),e,n,t),u6}function XS(n,t,e,i,r,s,a,o){const c=j1(i),u=n.firstCreatePass&&HS(n),d=t[8],f=VS(t);let h=!0;if(3&i.type||o){const g=$(i,t),m=o?o(g):g,C=f.length,b=o?E=>o(x(E[i.index])):i.index;let T=null;if(!o&&c&&(T=function XZ(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===e&&r[s+1]===i){const o=t[7],c=r[s+2];return o.length>c?o[c]:null}"string"==typeof a&&(s+=2)}return null}(n,t,r,i.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,h=!1;else{s=ZS(i,t,d,s,!1);const E=e.listen(m,r,s);f.push(s,E),u&&u.push(r,b,C,C+1)}}else s=ZS(i,t,d,s,!1);const p=i.outputs;let v;if(h&&null!==p&&(v=p[r])){const g=v.length;if(g)for(let m=0;m<g;m+=2){const L=t[v[m]][v[m+1]].subscribe(s),k=f.length;f.push(s,L),u&&u.push(r,i.index,k,-(k+1))}}}function KS(n,t,e,i){try{return!1!==e(i)}catch(r){return zS(n,r),!1}}function ZS(n,t,e,i,r){return function s(a){if(a===Function)return i;Eg(2&n.flags?Ne(n.index,t):t);let c=KS(t,0,i,a),l=s.__ngNextListenerFn__;for(;l;)c=KS(t,0,l,a)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&(a.preventDefault(),a.returnValue=!1),c}}function ue(n=1){return function Gq(n){return(Ft.lFrame.contextLView=function Wq(n,t){for(;n>0;)t=t[15],n--;return t}(n,Ft.lFrame.contextLView))[8]}(n)}function KZ(n,t){let e=null;const i=function xK(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?Xw(n,s,!0):SK(i,s))return r}else e=r}return e}function li(n){const t=Ae()[16][6];if(!t.projection){const i=t.projection=rd(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const a=n?KZ(s,n):0;null!==a&&(r[a]?r[a].projectionNext=s:i[a]=s,r[a]=s),s=s.next}}}function Jt(n,t=0,e){const i=Ae(),r=gn(),s=m3(r,22+n,16,null,e||null);null===s.projection&&(s.projection=t),a7(),64!=(64&s.flags)&&function mK(n,t,e){Ww(t[11],0,t,e,Hw(n,e,t),Nw(e.parent||t[6],e,t))}(r,i,s)}function oT(n,t,e,i,r){const s=n[e+1],a=null===t;let o=i?za(s):Jo(s),c=!1;for(;0!==o&&(!1===c||a);){const u=n[o+1];JZ(n[o],t)&&(c=!0,n[o+1]=i?hg(u):dg(u)),o=i?za(u):Jo(u)}c&&(n[e+1]=i?dg(s):hg(s))}function JZ(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&a3(n,t)>=0}const lr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cT(n){return n.substring(lr.key,lr.keyEnd)}function lT(n,t){const e=lr.textEnd;return e===t?-1:(t=lr.keyEnd=function iQ(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,lr.key=t,e),D3(n,t,e))}function D3(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Ts(n,t,e){return Pa(n,t,e,!1),Ts}function nn(n,t){return Pa(n,t,null,!0),nn}function vo(n,t){for(let e=function tQ(n){return function dT(n){lr.key=0,lr.keyEnd=0,lr.value=0,lr.valueEnd=0,lr.textEnd=n.length}(n),lT(n,D3(n,0,lr.textEnd))}(t);e>=0;e=lT(t,e))Ws(n,cT(t),!0)}function Pa(n,t,e,i){const r=Ae(),s=gn(),a=qo(2);s.firstUpdatePass&&mT(s,n,a,i),t!==Kt&&Xr(r,a,t)&&_T(s,s.data[rs()],r,r[11],n,r[a+1]=function pQ(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=On(js(n)))),n}(t,e),i,a)}function pT(n,t){return t>=n.expandoStartIndex}function mT(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[rs()],a=pT(n,e);yT(s,i)&&null===t&&!a&&(t=!1),t=function cQ(n,t,e,i){const r=c7(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Md(e=Ng(null,n,t,e,i),t.attrs,i),s=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==r)if(e=Ng(r,n,t,e,i),null===s){let c=function lQ(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Jo(i))return n[za(i)]}(n,t,i);void 0!==c&&Array.isArray(c)&&(c=Ng(null,n,t,c[1],i),c=Md(c,t.attrs,i),function uQ(n,t,e,i){n[za(e?t.classBindings:t.styleBindings)]=i}(n,t,i,c))}else s=function dQ(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Md(i,n[s].hostAttrs,e);return Md(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function ZZ(n,t,e,i,r,s){let a=s?t.classBindings:t.styleBindings,o=za(a),c=Jo(a);n[i]=e;let u,l=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||a3(d,u)>0)&&(l=!0)}else u=e;if(r)if(0!==c){const f=za(n[o+1]);n[i+1]=J0(f,o),0!==f&&(n[f+1]=fg(n[f+1],i)),n[o+1]=function qK(n,t){return 131071&n|t<<17}(n[o+1],i)}else n[i+1]=J0(o,0),0!==o&&(n[o+1]=fg(n[o+1],i)),o=i;else n[i+1]=J0(c,0),0===o?o=i:n[c+1]=fg(n[c+1],i),c=i;l&&(n[i+1]=dg(n[i+1])),oT(n,u,i,!0),oT(n,u,i,!1),function QZ(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&a3(s,t)>=0&&(e[i+1]=hg(e[i+1]))}(t,u,n,i,s),a=J0(o,c),s?t.classBindings=a:t.styleBindings=a}(r,s,t,e,a,i)}}function Ng(n,t,e,i,r){let s=null;const a=e.directiveEnd;let o=e.directiveStylingLast;for(-1===o?o=e.directiveStart:o++;o<a&&(s=t[o],i=Md(i,s.hostAttrs,r),s!==n);)o++;return null!==n&&(e.directiveStylingLast=o),i}function Md(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ws(n,a,!!e||t[++s]))}return void 0===n?null:n}function _T(n,t,e,i,r,s,a,o){if(!(3&t.type))return;const c=n.data,l=c[o+1];d6(function dS(n){return 1==(1&n)}(l)?vT(c,t,e,r,Jo(l),a):void 0)||(d6(s)||function uS(n){return 2==(2&n)}(l)&&(s=vT(c,null,e,r,o,a)),function _K(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Ss.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Ss.Important),n.setStyle(e,i,r,s))}}(i,a,F(rs(),e),r,s))}function vT(n,t,e,i,r,s){const a=null===t;let o;for(;r>0;){const c=n[r],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=e[r+1];f===Kt&&(f=d?Hn:void 0);let h=d?b7(f,i):u===i?f:void 0;if(l&&!d6(h)&&(h=b7(c,i)),d6(h)&&(o=h,a))return o;const p=n[r+1];r=a?za(p):Jo(p)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(o=b7(c,i))}return o}function d6(n){return void 0!==n}function yT(n,t){return 0!=(n.flags&(t?16:32))}function K(n,t=""){const e=Ae(),i=gn(),r=n+22,s=i.firstCreatePass?m3(i,r,1,t,null):i.data[r],a=e[r]=function J7(n,t){return n.createText(t)}(e[11],t);K0(i,e,a,s),lo(s,!1)}function ur(n){return as("",n,""),ur}function as(n,t,e){const i=Ae(),r=v3(i,n,t,e);return r!==Kt&&function ec(n,t,e){const i=F(t,n);!function Lw(n,t,e){n.setValue(t,e)}(n[11],i,e)}(i,rs(),r),as}function DT(n,t,e){!function Na(n,t,e,i){const r=gn(),s=qo(2);r.firstUpdatePass&&mT(r,null,s,i);const a=Ae();if(e!==Kt&&Xr(a,s,e)){const o=r.data[rs()];if(yT(o,i)&&!pT(r,s)){let c=i?o.classesWithoutHost:o.stylesWithoutHost;null!==c&&(e=F1(c,e||"")),Rg(r,o,a,e,i)}else!function hQ(n,t,e,i,r,s,a,o){r===Kt&&(r=Hn);let c=0,l=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const f=c<r.length?r[c+1]:void 0,h=l<s.length?s[l+1]:void 0;let v,p=null;u===d?(c+=2,l+=2,f!==h&&(p=d,v=h)):null===d||null!==u&&u<d?(c+=2,p=u):(l+=2,p=d,v=h),null!==p&&_T(n,t,e,i,p,v,a,o),u=c<r.length?r[c]:null,d=l<s.length?s[l]:null}}(r,o,a,a[11],a[s+1],a[s+1]=function fQ(n,t,e){if(null==e||""===e)return Hn;const i=[],r=js(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}(Ws,vo,v3(Ae(),n,t,e),!0)}function Ys(n,t,e){const i=Ae();return Xr(i,Z1(),t)&&qs(gn(),Ei(),i,n,t,i[11],e,!0),Ys}function f6(n,t,e){const i=Ae();if(Xr(i,Z1(),t)){const s=gn(),a=Ei();qs(s,a,i,n,t,RS(c7(s.data),a,i),e,!0)}return f6}const k3="en-US";let OT=k3;function Bg(n,t,e,i,r){if(n=Rt(n),Array.isArray(n))for(let s=0;s<n.length;s++)Bg(n[s],t,e,i,r);else{const s=gn(),a=Ae();let o=pl(n)?n:Rt(n.provide),c=hw(n);const l=or(),u=1048575&l.providerIndexes,d=l.directiveStart,f=l.providerIndexes>>20;if(pl(n)||!n.multi){const h=new Zu(c,r,S),p=Gg(o,t,r?u:u+f,d);-1===p?(z0(Ju(l,a),s,o),Ug(s,n,t.length),t.push(o),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),e.push(h),a.push(h)):(e[p]=h,a[p]=h)}else{const h=Gg(o,t,u+f,d),p=Gg(o,t,u,u+f),v=h>=0&&e[h],g=p>=0&&e[p];if(r&&!g||!r&&!v){z0(Ju(l,a),s,o);const m=function LJ(n,t,e,i,r){const s=new Zu(n,e,S);return s.multi=[],s.index=t,s.componentProviders=0,dA(s,r,i&&!e),s}(r?kJ:EJ,e.length,r,i,c);!r&&g&&(e[p].providerFactory=m),Ug(s,n,t.length,0),t.push(o),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),e.push(m),a.push(m)}else Ug(s,n,h>-1?h:p,dA(e[r?p:h],c,!r&&i));!r&&i&&g&&e[p].componentProviders++}}}function Ug(n,t,e,i){const r=pl(t),s=function fX(n){return!!n.useClass}(t);if(r||s){const c=(s?Rt(t.useClass):t).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=l.indexOf(e);-1===u?l.push(e,[i,c]):l[u+1].push(i,c)}else l.push(e,c)}}}function dA(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Gg(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function EJ(n,t,e,i){return Wg(this.multi,[])}function kJ(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=ed(e,e[1],this.providerFactory.index,i);s=o.slice(0,a),Wg(r,s);for(let c=a;c<o.length;c++)s.push(o[c])}else s=[],Wg(r,s);return s}function Wg(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function wt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function DJ(n,t,e){const i=gn();if(i.firstCreatePass){const r=Ms(n);Bg(e,i.data,i.blueprint,r,!0),Bg(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class yl{}class fA{}class hA extends yl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ig(this);const i=Bi(t);this._bootstrapComponents=Qo(i.bootstrap),this._r3Injector=nS(t,e,[{provide:yl,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver}],On(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class jg extends fA{constructor(t){super(),this.moduleType=t}create(t){return new hA(this.moduleType,t)}}class VJ extends yl{constructor(t,e,i){super(),this.componentFactoryResolver=new Ig(this),this.instance=null;const r=new fw([...t,{provide:yl,useValue:this},{provide:Ko,useValue:this.componentFactoryResolver}],e||Y0(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function _6(n,t,e=null){return new VJ(n,t,e).injector}let HJ=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=cw(0,e.type),r=i.length>0?_6([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=_e({token:n,providedIn:"environment",factory:()=>new n(j(Jc))}),n})();function pA(n){n.getStandaloneInjector=t=>t.get(HJ).getOrCreateStandaloneInjector(n)}function yi(n,t,e,i){return xA(Ae(),is(),n,t,e,i)}function Ad(n,t,e,i,r){return CA(Ae(),is(),n,t,e,i,r)}function Dd(n,t){const e=n[t];return e===Kt?void 0:e}function xA(n,t,e,i,r,s){const a=t+e;return Xr(n,a,r)?mo(n,a+1,s?i.call(s,r):i(r)):Dd(n,a+1)}function CA(n,t,e,i,r,s,a){const o=t+e;return _l(n,o,r,s)?mo(n,o+2,a?i.call(a,r,s):i(r,s)):Dd(n,o+2)}function wA(n,t,e,i,r,s,a,o){const c=t+e;return function l6(n,t,e,i,r){const s=_l(n,t,e,i);return Xr(n,t+2,r)||s}(n,c,r,s,a)?mo(n,c+3,o?i.call(o,r,s,a):i(r,s,a)):Dd(n,c+3)}function SA(n,t,e,i,r,s,a,o,c){const l=t+e;return function fa(n,t,e,i,r,s){const a=_l(n,t,e,i);return _l(n,t+2,r,s)||a}(n,l,r,s,a,o)?mo(n,l+4,c?i.call(c,r,s,a,o):i(r,s,a,o)):Dd(n,l+4)}function ii(n,t){const e=gn();let i;const r=n+22;e.firstCreatePass?(i=function KJ(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=xs(i.type)),a=vs(S);try{const o=H0(!1),c=s();return H0(o),function $Z(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,Ae(),r,c),c}finally{vs(a)}}function Xs(n,t,e){const i=n+22,r=Ae(),s=Ve(r,i);return Ed(r,i)?xA(r,is(),t,s.transform,e,s):s.transform(e)}function r2(n,t,e,i){const r=n+22,s=Ae(),a=Ve(s,r);return Ed(s,r)?CA(s,is(),t,a.transform,e,i,a):a.transform(e,i)}function bl(n,t,e,i,r){const s=n+22,a=Ae(),o=Ve(a,s);return Ed(a,s)?wA(a,is(),t,o.transform,e,i,r,o):o.transform(e,i,r)}function Ed(n,t){return n[1].data[t].pure}function qg(n){return t=>{setTimeout(n,void 0,t)}}const Te=class QJ extends Xe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),a=i;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),s=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(s=qg(s),r&&(r=qg(r)),a&&(a=qg(a)));const o=super.subscribe({next:r,error:s,complete:a});return t instanceof rn&&t.add(o),o}};function JJ(){return this._results[gl()]()}class L3{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=gl(),i=L3.prototype;i[e]||(i[e]=JJ)}get changes(){return this._changes||(this._changes=new Te)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Gs(t);(this._changesDetected=!function uY(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ks=(()=>{class n{}return n.__NG_ELEMENT_ID__=nee,n})();const eee=Ks,tee=class extends eee{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=n6(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(r[19]=a.createEmbeddedView(i)),xg(i,r,t),new gd(r)}};function nee(){return v6(or(),Ae())}function v6(n,t){return 4&n.type?new tee(t,n,d3(n,t)):null}let dr=(()=>{class n{}return n.__NG_ELEMENT_ID__=iee,n})();function iee(){return kA(or(),Ae())}const ree=dr,DA=class extends ree{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return d3(this._hostTNode,this._hostLView)}get injector(){return new e3(this._hostTNode,this._hostLView)}get parentInjector(){const t=R0(this._hostTNode,this._hostLView);if(xC(t)){const e=J1(t,this._hostLView),i=Q1(t);return new e3(e[1].data[i+8],e)}return new e3(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=EA(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedView(e||{},s);return this.insert(a,r),a}createComponent(t,e,i,r,s){const a=t&&!function id(n){return"function"==typeof n}(t);let o;if(a)o=e;else{const d=e||{};o=d.index,i=d.injector,r=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const c=a?t:new _d(Sn(t)),l=i||this.parentInjector;if(!s&&null==c.ngModule){const f=(a?l:this.parentInjector).get(Jc,null);f&&(s=f)}const u=c.create(l,r,void 0,s);return this.insert(u.hostView,o),u}insert(t,e){const i=t._lView,r=i[1];if(function Gn(n){return Bs(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=i[3],f=new DA(d,d[6],d[3]);f.detach(f.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;!function lK(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],RC(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function uK(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const o=t[19];null!==o&&o.insertView(n),t[2]|=64}(r,i,a,s);const o=rg(s,a),c=i[11],l=X0(c,a[7]);return null!==l&&function aK(n,t,e,i,r,s){i[0]=r,i[6]=t,md(n,i,e,1,r,s)}(r,a[6],c,i,l,o),t.attachToViewContainerRef(),RC(Yg(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=EA(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=tg(this._lContainer,e);i&&(N0(Yg(this._lContainer),e),Vw(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=tg(this._lContainer,e);return i&&null!=N0(Yg(this._lContainer),e)?new gd(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function EA(n){return n[8]}function Yg(n){return n[8]||(n[8]=[])}function kA(n,t){let e;const i=t[n.index];if(Bs(i))e=i;else{let r;if(8&n.type)r=x(i);else{const s=t[11];r=s.createComment("");const a=$(n,t);ml(s,X0(s,a),r,function pK(n,t){return n.nextSibling(t)}(s,a),!1)}t[n.index]=e=IS(i,t,r,n),r6(t,e)}return new DA(e,n,t)}class Xg{constructor(t){this.queryList=t,this.matches=null}clone(){return new Xg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const a=e.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new Kg(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==RA(t,e).matches&&this.queries[e].setDirty()}}class LA{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Zg{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new Zg(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Qg{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Qg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,oee(e,s)),this.matchTNodeWithReadOption(t,e,P0(e,t,s,!1,!1))}else i===Ks?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,P0(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ge||r===dr||r===Ks&&4&e.type)this.addMatch(e.index,-2);else{const s=P0(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function oee(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function lee(n,t,e,i){return-1===e?function cee(n,t){return 11&n.type?d3(n,t):4&n.type?v6(n,t):null}(t,n):-2===e?function uee(n,t,e){return e===Ge?d3(t,n):e===Ks?v6(t,n):e===dr?kA(t,n):void 0}(n,t,i):ed(n,n[1],e,t)}function IA(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,a=e.matches,o=[];for(let c=0;c<a.length;c+=2){const l=a[c];o.push(l<0?null:lee(t,s[l],a[c+1],e.metadata.read))}r.matches=o}return r.matches}function Jg(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const a=IA(n,t,r,e);for(let o=0;o<s.length;o+=2){const c=s[o];if(c>0)i.push(a[o/2]);else{const l=s[o+1],u=t[-c];for(let d=10;d<u.length;d++){const f=u[d];f[17]===f[3]&&Jg(f[1],f,l,i)}if(null!==u[9]){const d=u[9];for(let f=0;f<d.length;f++){const h=d[f];Jg(h[1],h,l,i)}}}}}return i}function vt(n){const t=Ae(),e=gn(),i=fC();l7(i+1);const r=RA(e,i);if(n.dirty&&function Mt(n){return 4==(4&n[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?Jg(e,t,i,[]):IA(e,t,r,i);n.reset(s,wX),n.notifyOnChanges()}return!0}return!1}function Ln(n,t,e){const i=gn();i.firstCreatePass&&(HA(i,new LA(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),VA(i,Ae(),t)}function Fn(n,t,e,i){const r=gn();if(r.firstCreatePass){const s=or();HA(r,new LA(t,e,i),s.index),function fee(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}VA(r,Ae(),e)}function yt(){return function dee(n,t){return n[19].queries[t].queryList}(Ae(),fC())}function VA(n,t,e){const i=new L3(4==(4&e));CS(n,t,i,i.destroy),null===t[19]&&(t[19]=new Kg),t[19].queries.push(new Xg(i))}function HA(n,t,e){null===n.queries&&(n.queries=new Zg),n.queries.track(new Qg(t,e))}function RA(n,t){return n.queries.getByIndex(t)}function yo(n,t){return v6(n,t)}const Ie=td("Input",n=>({bindingPropertyName:n})),Ii=td("Output",n=>({bindingPropertyName:n})),bo=td("HostListener",(n,t)=>({eventName:n,args:t}));function b6(...n){}const M6=new he("Application Initializer");let x6=(()=>{class n{constructor(e){this.appInits=e,this.resolve=b6,this.reject=b6,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(bd(s))e.push(s);else if(zg(s)){const a=new Promise((o,c)=>{s.subscribe({complete:o,error:c})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(j(M6,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const H3=new he("AppId",{providedIn:"root",factory:function eD(){return`${r9()}${r9()}${r9()}`}});function r9(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tD=new he("Platform Initializer"),ha=new he("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),s9=new he("appBootstrapListener"),fr=new he("AnimationModuleType");let Iee=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Mo=new he("LocaleId",{providedIn:"root",factory:()=>Wn(Mo,Vt.Optional|Vt.SkipSelf)||function Vee(){return typeof $localize<"u"&&$localize.locale||k3}()});class Ree{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let a9=(()=>{class n{compileModuleSync(e){return new jg(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Qo(Bi(e).declarations).reduce((a,o)=>{const c=Sn(o);return c&&a.push(new _d(c)),a},[]);return new Ree(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nee=(()=>Promise.resolve(0))();function o9(n){typeof Zone>"u"?Nee.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ht{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Te(!1),this.onMicrotaskEmpty=new Te(!1),this.onStable=new Te(!1),this.onError=new Te(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Fee(){let n=Yn.requestAnimationFrame,t=Yn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Uee(n){const t=()=>{!function Bee(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Yn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,l9(n),n.isCheckStableRunning=!0,c9(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),l9(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,a,o)=>{try{return rD(n),e.invokeTask(r,s,a,o)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),sD(n)}},onInvoke:(e,i,r,s,a,o,c)=>{try{return rD(n),e.invoke(r,s,a,o,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),sD(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,l9(n),c9(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ht.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Ht.isInAngularZone())throw new we(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,t,Oee,b6,b6);try{return s.runTask(a,e,i)}finally{s.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Oee={};function c9(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function l9(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function rD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sD(n){n._nesting--,c9(n)}class Gee{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Te,this.onMicrotaskEmpty=new Te,this.onStable=new Te,this.onError=new Te}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const aD=new he(""),C6=new he("");let f9,u9=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,f9||(function Wee(n){f9=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ht.assertNotInAngularZone(),o9(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())o9(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(j(Ht),j(d9),j(C6))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),d9=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return f9?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),s2=null;const oD=new he("AllowMultipleToken"),h9=new he("PlatformDestroyListeners");class cD{constructor(t,e){this.name=t,this.token=e}}function uD(n,t,e=[]){const i=`Platform: ${t}`,r=new he(i);return(s=[])=>{let a=p9();if(!a||a.injector.get(oD,!1)){const o=[...e,...s,{provide:r,useValue:!0}];n?n(o):function qee(n){if(s2&&!s2.get(oD,!1))throw new we(400,!1);s2=n;const t=n.get(fD);(function lD(n){const t=n.get(tD,null);t&&t.forEach(e=>e())})(n)}(function dD(n=[],t){return Gi.create({name:t,providers:[{provide:z7,useValue:"platform"},{provide:h9,useValue:new Set([()=>s2=null])},...n]})}(o,i))}return function Xee(n){const t=p9();if(!t)throw new we(401,!1);return t}()}}function p9(){return s2?.get(fD)??null}let fD=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function pD(n,t){let e;return e="noop"===n?new Gee:("zone.js"===n?void 0:n)||new Ht(t),e}(i?.ngZone,function hD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:Ht,useValue:r}];return r.run(()=>{const a=Gi.create({providers:s,parent:this.injector,name:e.moduleType.name}),o=e.create(a),c=o.injector.get(Zo,null);if(!c)throw new we(402,!1);return r.runOutsideAngular(()=>{const l=r.onError.subscribe({next:u=>{c.handleError(u)}});o.onDestroy(()=>{w6(this._modules,o),l.unsubscribe()})}),function mD(n,t,e){try{const i=e();return bd(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(c,r,()=>{const l=o.injector.get(x6);return l.runInitializers(),l.donePromise.then(()=>(function BT(n){jr(n,"Expected localeId to be defined"),"string"==typeof n&&(OT=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Mo,k3)||k3),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=gD({},i);return function jee(n,t,e){const i=new jg(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(a2);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new we(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(h9,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(j(Gi))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function gD(n,t){return Array.isArray(t)?t.reduce(gD,n):{...n,...t}}let a2=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new In(o=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{o.next(this._stable),o.complete()})}),a=new In(o=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ht.assertNotInAngularZone(),o9(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,o.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Ht.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{o.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=oi(s,a.pipe(Vr()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof pw;if(!this._injector.get(x6).done)throw!r&&function Yc(n){const t=Sn(n)||Hr(n)||Di(n);return null!==t&&t.standalone}(e),new we(405,false);let a;a=r?e:this._injector.get(Ko).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const o=function $ee(n){return n.isBoundToModule}(a)?void 0:this._injector.get(yl),l=a.create(Gi.NULL,[],i||a.selector,o),u=l.location.nativeElement,d=l.injector.get(aD,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),w6(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;w6(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(s9,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>w6(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new we(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(j(Ht),j(Jc),j(Zo))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w6(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let vD=!0,Pn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Qee,n})();function Qee(n){return function Jee(n,t,e){if(dl(n)&&!e){const i=Ne(n.index,t);return new gd(i,i)}return 47&n.type?new gd(t[16],t):null}(or(),Ae(),16==(16&n))}class CD{constructor(){}supports(t){return vd(t)}create(t){return new ste(t)}}const rte=(n,t)=>t;class ste{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rte}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const a=!i||e&&e.currentIndex<SD(i,r,s)?e:i,o=SD(a,r,s),c=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)r++;else{s||(s=[]);const l=o-r,u=c-r;if(l!=u){for(let f=0;f<l;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}s[a.previousIndex]=u-l}}o!==c&&t(a,o,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!vd(t))throw new we(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let o=0;o<this.length;o++)s=t[o],a=this._trackByFn(o,s),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,s,a,o)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,o),i=!0),e=e._next}else r=0,function UZ(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[gl()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,o=>{a=this._trackByFn(r,o),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,o,a,r)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new ate(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new wD),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ate{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ote{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class wD{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new ote,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SD(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class TD{constructor(){}supports(t){return t instanceof Map||Hg(t)}create(){return new cte}}class cte{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Hg(t)))throw new we(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,a=r._next;return s&&(s._next=a),a&&(a._prev=s),r._next=null,r._prev=null,r}const i=new lte(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class lte{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AD(){return new o2([new CD])}let o2=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||AD()),deps:[[n,new fo,new ws]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new we(901,!1)}}return n.\u0275prov=_e({token:n,providedIn:"root",factory:AD}),n})();function DD(){return new xl([new TD])}let xl=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||DD()),deps:[[n,new fo,new ws]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new we(901,!1)}}return n.\u0275prov=_e({token:n,providedIn:"root",factory:DD}),n})();const fte=uD(null,"core",[]);let hte=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(j(a2))},n.\u0275mod=qe({type:n}),n.\u0275inj=je({}),n})();let A6=null;function xo(){return A6}const Ct=new he("DocumentToken");let y9=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:function(){return function _te(){return j(ED)}()},providedIn:"platform"}),n})();const vte=new he("Location Initialized");let ED=(()=>{class n extends y9{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xo().getBaseHref(this._doc)}onPopState(e){const i=xo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=xo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){kD()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){kD()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(j(Ct))},n.\u0275prov=_e({token:n,factory:function(){return function yte(){return new ED(j(Ct))}()},providedIn:"platform"}),n})();function kD(){return!!window.history.pushState}function b9(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function LD(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ic(n){return n&&"?"!==n[0]?"?"+n:n}let Cl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:function(){return Wn(VD)},providedIn:"root"}),n})();const ID=new he("appBaseHref");let VD=(()=>{class n extends Cl{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Wn(Ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return b9(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ic(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+ic(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+ic(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(j(y9),j(ID,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bte=(()=>{class n extends Cl{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=b9(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+ic(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+ic(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(j(y9),j(ID,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),Ld=(()=>{class n{constructor(e){this._subject=new Te,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=LD(HD(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ic(i))}normalize(e){return n.stripTrailingSlash(function xte(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,HD(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ic(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ic(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=ic,n.joinWithSlash=b9,n.stripTrailingSlash=LD,n.\u0275fac=function(e){return new(e||n)(j(Cl))},n.\u0275prov=_e({token:n,factory:function(){return function Mte(){return new Ld(j(Cl))}()},providedIn:"root"}),n})();function HD(n){return n.replace(/\/index.html$/,"")}function GD(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let Sr=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(vd(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${On(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(S(o2),S(xl),S(Ge),S($s))},n.\u0275dir=ne({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ane{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Co=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ane(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const o=i.get(s);i.move(o,a),$D(o,r)}});for(let r=0,s=i.length;r<s;r++){const o=i.get(r).context;o.index=r,o.count=s,o.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{$D(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(S(dr),S(Ks),S(o2))},n.\u0275dir=ne({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function $D(n,t){n.context.$implicit=t.item}let Kn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new cne,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){qD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){qD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(S(dr),S(Ks))},n.\u0275dir=ne({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class cne{constructor(){this.$implicit=null,this.ngIf=null}}function qD(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${On(t)}'.`)}class k9{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let c2=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),R3=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new k9(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(S(dr),S(Ks),S(c2,9))},n.\u0275dir=ne({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),YD=(()=>{class n{constructor(e,i,r){r._addDefault(new k9(e,i))}}return n.\u0275fac=function(e){return new(e||n)(S(dr),S(Ks),S(c2,9))},n.\u0275dir=ne({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),Ds=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),a=-1===r.indexOf("-")?void 0:Ss.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(xl),S($s))},n.\u0275dir=ne({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Hd=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,s,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(S(dr))},n.\u0275dir=ne({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Qt]}),n})();function Ba(n,t){return new we(2100,!1)}class une{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class dne{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const fne=new dne,hne=new une;let P6=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(bd(e))return fne;if(YS(e))return hne;throw Ba()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(S(Pn,16))},n.\u0275pipe=Rn({name:"async",type:n,pure:!1,standalone:!0}),n})(),ZD=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw Ba();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Rn({name:"slice",type:n,pure:!1,standalone:!0}),n})(),pr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({}),n})();const QD="browser";function wl(n){return n===QD}function z3(n){return"server"===n}let Ine=(()=>{class n{}return n.\u0275prov=_e({token:n,providedIn:"root",factory:()=>new Vne(j(Ct),window)}),n})();class Vne{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Hne(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=JD(this.window.history)||JD(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function JD(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class eE{}class R9 extends class Qne extends class gte{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function mte(n){A6||(A6=n)}(new R9)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Jne(){return zd=zd||document.querySelector("base"),zd?zd.getAttribute("href"):null}();return null==e?null:function eie(n){F6=F6||document.createElement("a"),F6.setAttribute("href",n);const t=F6.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){zd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return GD(document.cookie,t)}}let F6,zd=null;const rE=new he("TRANSITION_ID"),nie=[{provide:M6,useFactory:function tie(n,t,e){return()=>{e.get(x6).donePromise.then(()=>{const i=xo(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[rE,Ct,Gi],multi:!0}];let rie=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const O6=new he("EventManagerPlugins");let B6=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(j(O6),j(Ht))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class sE{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=xo().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let aE=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),Pd=(()=>{class n extends aE{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(oE),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(oE))}}return n.\u0275fac=function(e){return new(e||n)(j(Ct))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();function oE(n){xo().remove(n)}const z9={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},P9=/%COMP%/g;function U6(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?U6(n,r,e):(r=r.replace(P9,n),e.push(r))}return e}function uE(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let G6=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new N9(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Ps.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new uie(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Ps.ShadowDom:return new die(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=U6(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(j(B6),j(Pd),j(H3))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class N9{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(z9[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(fE(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(fE(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=z9[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=z9[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Ss.DashCase|Ss.Important)?t.style.setProperty(e,i,r&Ss.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Ss.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,uE(i)):this.eventManager.addEventListener(t,e,uE(i))}}function fE(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class uie extends N9{constructor(t,e,i,r){super(t),this.component=i;const s=U6(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function oie(n){return"_ngcontent-%COMP%".replace(P9,n)}(r+"-"+i.id),this.hostAttr=function cie(n){return"_nghost-%COMP%".replace(P9,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class die extends N9{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=U6(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const o=document.createElement("style");o.textContent=s[a],this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let fie=(()=>{class n extends sE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(j(Ct))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const hE=["alt","control","meta","shift"],hie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pie={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let mie=(()=>{class n extends sE{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xo().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),a="code."),hE.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),a+=l+".")}),a+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=r,c.fullKey=a,c}static matchEventFullKeyCode(e,i){let r=hie[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),hE.forEach(a=>{a!==r&&(0,pie[a])(e)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(j(Ct))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const yie=uD(fte,"browser",[{provide:ha,useValue:QD},{provide:tD,useValue:function gie(){R9.makeCurrent()},multi:!0},{provide:Ct,useFactory:function vie(){return function RY(n){w7=n}(document),document},deps:[]}]),gE=new he(""),_E=[{provide:C6,useClass:class iie{addToWindow(t){Yn.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Yn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Yn.getAllAngularRootElements=()=>t.getAllRootElements(),Yn.frameworkStabilizers||(Yn.frameworkStabilizers=[]),Yn.frameworkStabilizers.push(i=>{const r=Yn.getAllAngularTestabilities();let s=r.length,a=!1;const o=function(c){a=a||c,s--,0==s&&i(a)};r.forEach(function(c){c.whenStable(o)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?xo().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:aD,useClass:u9,deps:[Ht,d9,C6]},{provide:u9,useClass:u9,deps:[Ht,d9,C6]}],vE=[{provide:z7,useValue:"root"},{provide:Zo,useFactory:function _ie(){return new Zo},deps:[]},{provide:O6,useClass:fie,multi:!0,deps:[Ct,Ht,ha]},{provide:O6,useClass:mie,multi:!0,deps:[Ct]},{provide:G6,useClass:G6,deps:[B6,Pd,H3]},{provide:fd,useExisting:G6},{provide:aE,useExisting:Pd},{provide:Pd,useClass:Pd,deps:[Ct]},{provide:B6,useClass:B6,deps:[O6,Ht]},{provide:eE,useClass:rie,deps:[]},[]];let Ua=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:H3,useValue:e.appId},{provide:rE,useExisting:H3},nie]}}}return n.\u0275fac=function(e){return new(e||n)(j(gE,12))},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[...vE,..._E],imports:[pr,hte]}),n})(),yE=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(j(Ct))},n.\u0275prov=_e({token:n,factory:function(e){let i=null;return i=e?new e:function Mie(){return new yE(j(Ct))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let B9,P3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:function(e){let i=null;return i=e?new(e||n):j(xE),i},providedIn:"root"}),n})(),xE=(()=>{class n extends P3{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Nn.NONE:return i;case Nn.HTML:return ho(i,"HTML")?js(i):rw(this._doc,String(i)).toString();case Nn.STYLE:return ho(i,"Style")?js(i):i;case Nn.SCRIPT:if(ho(i,"Script"))return js(i);throw new Error("unsafe value used in a script context");case Nn.URL:return ho(i,"URL")?js(i):j0(String(i));case Nn.RESOURCE_URL:if(ho(i,"ResourceURL"))return js(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function WY(n){return new NY(n)}(e)}bypassSecurityTrustStyle(e){return function jY(n){return new FY(n)}(e)}bypassSecurityTrustScript(e){return function $Y(n){return new OY(n)}(e)}bypassSecurityTrustUrl(e){return function qY(n){return new BY(n)}(e)}bypassSecurityTrustResourceUrl(e){return function YY(n){return new UY(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(j(Ct))},n.\u0275prov=_e({token:n,factory:function(e){let i=null;return i=e?new e:function Die(n){return new xE(n.get(Ct))}(j(Gi)),i},providedIn:"root"}),n})();try{B9=typeof Intl<"u"&&Intl.v8BreakIterator}catch{B9=!1}let N3,Qi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?wl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!B9)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(j(ha))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function wE(){if(N3)return N3;if("object"!=typeof document||!document)return N3=new Set(CE),N3;let n=document.createElement("input");return N3=new Set(CE.filter(t=>(n.setAttribute("type",t),n.type===t))),N3}let Nd,Sl,U9;function u2(n){return function Eie(){if(null==Nd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nd=!0}))}finally{Nd=Nd||!1}return Nd}()?n:!!n.capture}function kie(){if(null==Sl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Sl=!1,Sl;if("scrollBehavior"in document.documentElement.style)Sl=!0;else{const n=Element.prototype.scrollTo;Sl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Sl}function SE(n){if(function Lie(){if(null==U9){const n=typeof document<"u"?document.head:null;U9=!(!n||!n.createShadowRoot&&!n.attachShadow)}return U9}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Fd(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function d2(n){return n.composedPath?n.composedPath()[0]:n.target}function G9(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}class Rr extends Xe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function gt(...n){return Un(n,Ir(n))}function Ji(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ri(n,t,e){const i=bn(n)||t||e?{next:n,error:t,complete:e}:n;return i?ai((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let o=!0;r.subscribe(qn(s,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),s.next(c)},()=>{var c;o=!1,null===(c=i.complete)||void 0===c||c.call(i),s.complete()},c=>{var l;o=!1,null===(l=i.error)||void 0===l||l.call(i,c),s.error(c)},()=>{var c,l;o&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):la}class Bie extends rn{constructor(t,e){super()}schedule(t,e=0){return this}}const j6={setInterval(n,t,...e){const{delegate:i}=j6;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=j6;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class q9 extends Bie{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return j6.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;j6.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Nc(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Y9={now:()=>(Y9.delegate||Date).now(),delegate:void 0};class Wd{constructor(t,e=Wd.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Wd.now=Y9.now;class X9 extends Wd{constructor(t,e=Wd.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const $6=new X9(q9),Uie=$6;function K9(n,t=$6){return ai((e,i)=>{let r=null,s=null,a=null;const o=()=>{if(r){r.unsubscribe(),r=null;const l=s;s=null,i.next(l)}};function c(){const l=a+n,u=t.now();if(u<l)return r=this.schedule(void 0,l-u),void i.add(r);o()}e.subscribe(qn(i,l=>{s=l,a=t.now(),r||(r=t.schedule(c,n),i.add(r))},()=>{o(),i.complete()},void 0,()=>{s=r=null}))})}function jn(n,t){return ai((e,i)=>{let r=0;e.subscribe(qn(i,s=>n.call(t,s,r++)&&i.next(s)))})}function si(n){return n<=0?()=>Hs:ai((t,e)=>{let i=0;t.subscribe(qn(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function TE(n){return jn((t,e)=>n<=e)}function q6(n,t=la){return n=n??Gie,ai((e,i)=>{let r,s=!0;e.subscribe(qn(i,a=>{const o=t(a);(s||!n(r,o))&&(s=!1,r=o,i.next(a))}))})}function Gie(n,t){return n===t}function en(n){return ai((t,e)=>{Lr(n).subscribe(qn(e,()=>e.complete(),Y2)),!e.closed&&t.subscribe(e)})}function at(n){return null!=n&&"false"!=`${n}`}function ji(n,t=0){return function Wie(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Y6(n){return Array.isArray(n)?n:[n]}function er(n){return null==n?"":"string"==typeof n?n:`${n}px`}function sc(n){return n instanceof Ge?n.nativeElement:n}let AE=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$ie=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=sc(e);return new In(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Xe,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(j(AE))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z9=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new Te,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=at(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ji(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(K9(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(S($ie),S(Ge),S(Ht))},n.\u0275dir=ne({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),jd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[AE]}),n})();const{isArray:qie}=Array,{getPrototypeOf:Yie,prototype:Xie,keys:Kie}=Object;function DE(n){if(1===n.length){const t=n[0];if(qie(t))return{args:t,keys:null};if(function Zie(n){return n&&"object"==typeof n&&Yie(n)===Xie}(t)){const e=Kie(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Qie}=Array;function Q9(n){return Lt(t=>function Jie(n,t){return Qie(t)?n(...t):n(t)}(n,t))}function EE(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function J9(...n){const t=Ir(n),e=Rs(n),{args:i,keys:r}=DE(n);if(0===i.length)return Un([],t);const s=new In(function ere(n,t,e=la){return i=>{kE(t,()=>{const{length:r}=n,s=new Array(r);let a=r,o=r;for(let c=0;c<r;c++)kE(t,()=>{const l=Un(n[c],t);let u=!1;l.subscribe(qn(i,d=>{s[c]=d,u||(u=!0,o--),o||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>EE(r,a):la));return e?s.pipe(Q9(e)):s}function kE(n,t,e){n?ua(e,n,t):t()}function $d(...n){return function tre(){return Bc(1)}()(Un(n,Ir(n)))}function Tr(...n){const t=Ir(n);return ai((e,i)=>{(t?$d(n,e,t):$d(n,e)).subscribe(i)})}const LE=new Set;let F3,nre=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):rre}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function ire(n){if(!LE.has(n))try{F3||(F3=document.createElement("style"),F3.setAttribute("type","text/css"),document.head.appendChild(F3)),F3.sheet&&(F3.sheet.insertRule(`@media ${n} {body{ }}`,0),LE.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(j(Qi))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rre(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let IE=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Xe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return VE(Y6(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=J9(VE(Y6(e)).map(a=>this._registerQuery(a).observable));return s=$d(s.pipe(si(1)),s.pipe(TE(1),K9(0))),s.pipe(Lt(a=>{const o={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:l})=>{o.matches=o.matches||c,o.breakpoints[l]=c}),o}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new In(a=>{const o=c=>this._zone.run(()=>a.next(c));return i.addListener(o),()=>{i.removeListener(o)}}).pipe(Tr(i),Lt(({matches:a})=>({query:e,matches:a})),en(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(j(nre),j(Ht))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VE(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function X6(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const RE="cdk-describedby-message",K6="cdk-describedby-host";let e_=0,cre=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+e_++,this._document=e,this._id=Wn(H3)+"-"+e_++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=t_(i,r);"string"!=typeof i?(zE(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=t_(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const a=this._messageRegistry.get(s);a&&0===a.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${K6}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(K6);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");zE(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(t_(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=X6(e,"aria-describedby").filter(r=>0!=r.indexOf(RE));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function are(n,t,e){const i=X6(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(K6,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function ore(n,t,e){const r=X6(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(K6)}_isElementDescribedByMessage(e,i){const r=X6(e,"aria-describedby"),s=this._messageRegistry.get(i),a=s&&s.messageElement.id;return!!a&&-1!=r.indexOf(a)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(j(Ct),j(Qi))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t_(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function zE(n,t){n.id||(n.id=`${RE}-${t}-${e_++}`)}class PE{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Xe,this._typeaheadSubscription=rn.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Xe,this.change=new Xe,t instanceof L3&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ri(e=>this._pressedLetters.push(e)),K9(t),jn(()=>this._pressedLetters.length>0),Lt(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Ji(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof L3?this._items.toArray():this._items}}class lre extends PE{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class n_ extends PE{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Z6=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function dre(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function ure(n){try{return n.frameElement}catch{return null}}(function yre(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===FE(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=FE(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function _re(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function vre(n){return!function hre(n){return function mre(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function fre(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function pre(n){return function gre(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||NE(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(j(Qi))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function FE(n){if(!NE(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class bre{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(si(1)).subscribe(t)}}let Q6=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new bre(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(j(Z6),j(Ht),j(Ct))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mre=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=at(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=at(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Fd(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Q6),S(Ct))},n.\u0275dir=ne({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[Qt]}),n})();function OE(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function BE(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const xre=new he("cdk-input-modality-detector-options"),Cre={ignoreKeys:[18,17,224,91,16]},O3=u2({passive:!0,capture:!0});let wre=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Rr(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(o=>o===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=d2(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(OE(a)?"keyboard":"mouse"),this._mostRecentTarget=d2(a))},this._onTouchstart=a=>{BE(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=d2(a))},this._options={...Cre,...s},this.modalityDetected=this._modality.pipe(TE(1)),this.modalityChanged=this.modalityDetected.pipe(q6()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,O3),r.addEventListener("mousedown",this._onMousedown,O3),r.addEventListener("touchstart",this._onTouchstart,O3)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,O3),document.removeEventListener("mousedown",this._onMousedown,O3),document.removeEventListener("touchstart",this._onTouchstart,O3))}}return n.\u0275fac=function(e){return new(e||n)(j(Qi),j(Ht),j(Ct),j(xre,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sre=new he("liveAnnouncerElement",{providedIn:"root",factory:function Tre(){return null}}),Are=new he("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Dre=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[s,a]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(o=>this._currentResolve=o)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(j(Sre,8),j(Ht),j(Ct),j(Are,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ere=new he("cdk-focus-monitor-default-options"),J6=u2({passive:!0,capture:!0});let va=(()=>{class n{constructor(e,i,r,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Xe,this._rootNodeFocusAndBlurListener=o=>{for(let l=d2(o);l;l=l.parentElement)"focus"===o.type?this._onFocus(o,l):this._onBlur(o,l)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(e,i=!1){const r=sc(e);if(!this._platform.isBrowser||1!==r.nodeType)return gt(null);const s=SE(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const o={checkChildren:i,subject:new Xe,rootNode:s};return this._elementInfo.set(r,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){const i=sc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=sc(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([o,c])=>this._originChanged(o,i,c)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=d2(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,J6),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,J6)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(en(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,J6),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,J6),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(j(Ht),j(Qi),j(wre),j(Ct,8),j(Ere,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kre=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Te}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(va))},n.\u0275dir=ne({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const GE="cdk-high-contrast-black-on-white",WE="cdk-high-contrast-white-on-black",i_="cdk-high-contrast-active";let jE=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Wn(IE).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(i_,GE,WE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(i_,GE):2===i&&e.add(i_,WE)}}}return n.\u0275fac=function(e){return new(e||n)(j(Qi),j(Ct))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qd=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(j(jE))},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[jd]}),n})();function $E(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const r_="inline",ep=["row","column","row-reverse","column-reverse"];function qE(n){let[t,e,i]=YE(n);return function Ire(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function YE(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return ep.find(r=>r===t)||(t=ep[0]),e===r_&&(e=i!==r_?i:"",i=r_),[t,Lre(e),!!i]}function Yd(n){let[t]=YE(n);return t.indexOf("row")>-1}function Lre(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function ac(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const Hre={provide:s9,useFactory:function Vre(n,t){return()=>{if(wl(t)){const e=Array.from(n.querySelectorAll(`[class*=${XE}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${XE}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[Ct,ha],multi:!0},XE="flex-layout-";let s_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[Hre]}),n})();class Dl{constructor(t=!1,e="all",i="",r="",s=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new Dl(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Rre=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const s=this.stylesheet.get(e);s?s.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let s="";if(r){const a=r.get(i);("number"==typeof a||"string"==typeof a)&&(s=a+"")}return s}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a_={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Wa=new he("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>a_}),B3=new he("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),o_=new he("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function KE(n,t){return n=n?.clone()??new Dl,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Vi{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let hi=(()=>{class n{constructor(e,i,r,s){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(e,i,r=null){let s={};"string"==typeof i&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:$E(i),this._applyMultiValueStyleToElement(s,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:$E(e);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||z3(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return wl(this._platformId)?e.style.getPropertyValue(i):function zre(n,t){return ZE(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let s="";return e&&((s=this.lookupInlineStyle(e,i))||(wl(this._platformId)?r||(s=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(e,i)))),s?s.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const s=e[r],a=Array.isArray(s)?s:[s];a.sort();for(let o of a)o=o?o+"":"",wl(this._platformId)||!this._serverModuleLoaded?wl(this._platformId)?i.style.setProperty(r,o):Pre(i,r,o):this._serverStylesheet.addStyleToElement(i,r,o)})}}return n.\u0275fac=function(e){return new(e||n)(j(Rre),j(B3),j(ha),j(Wa))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pre(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=ZE(n);i[t]=e??"",function Nre(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function ZE(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const s=i[r].trim();if(s.length>0){const a=s.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${s}`);t[s.substr(0,a).trim()]=s.substr(a+1).trim()}}}return t}function Xd(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function Fre(n,t){return(n.priority||0)-(t.priority||0)}let c_=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new Rr(new Dl(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(jn(a=>!i||e.indexOf(a.mediaQuery)>-1));return oi(new In(a=>{const o=this.registerQuery(e);if(o.length){const c=o.pop();o.forEach(l=>{a.next(l)}),this.source.next(c)}a.complete()}),r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function Ore(n,t){const e=n.filter(i=>!QE[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(s=>QE[s]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(s=>{const a=c=>{this._zone.run(()=>this.source.next(new Dl(c.matches,s)))};let o=this.registry.get(s);o||(o=this.buildMQL(s),o.addListener(a),this.pendingRemoveListenerFns.push(()=>o.removeListener(a)),this.registry.set(s,o)),o.matches&&r.push(new Dl(!0,s))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function Bre(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,wl(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(j(Ht),j(ha),j(Ct))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QE={},Ure=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],JE="(orientation: portrait) and (max-width: 599.98px)",ek="(orientation: landscape) and (max-width: 959.98px)",tk="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",nk="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",ik="(orientation: portrait) and (min-width: 840px)",rk="(orientation: landscape) and (min-width: 1280px)",oc={HANDSET:`${JE}, ${ek}`,TABLET:`${tk} , ${nk}`,WEB:`${ik}, ${rk} `,HANDSET_PORTRAIT:`${JE}`,TABLET_PORTRAIT:`${tk} `,WEB_PORTRAIT:`${ik}`,HANDSET_LANDSCAPE:`${ek}`,TABLET_LANDSCAPE:`${nk}`,WEB_LANDSCAPE:`${rk}`},Gre=[{alias:"handset",priority:2e3,mediaQuery:oc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:oc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:oc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:oc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:oc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:oc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:oc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:oc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:oc.WEB_PORTRAIT,overlapping:!0}],Wre=/(\.|-|_)/g;function jre(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const Xre=new he("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=Wn(o_),t=Wn(Wa),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function Yre(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?ac(e[i.alias],i):e[i.alias]=i}),function qre(n){return n.forEach(t=>{t.suffix||(t.suffix=function $re(n){return n.replace(Wre,"|").split("|").map(jre).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:Ure).concat(t.addOrientationBps?Gre:[]),e)}});let l_=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(Fre)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(j(Xre))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U3="print",Kre={alias:U3,mediaQuery:U3,priority:1e3};let Zre=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Qre,this.deactivations=[]}withPrintQuery(e){return[...e,U3]}isPrintEvent(e){return e.mediaQuery.startsWith(U3)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Xd)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),KE(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Dl(!0,U3))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const s=this.formerActivations&&this.formerActivations.includes(r),a=!this.formerActivations&&e.activatedBreakpoints.includes(r);(s||a)&&(this.deactivations.push(r),this.deactivations.sort(Xd))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(j(l_),j(Wa),j(Ct))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qre{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(Kre),t.sort(Xd),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function Jre(n){return n?.mediaQuery.startsWith(U3)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let bi=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Xe,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=KE(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(Xd),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(Xd),this.updateStyles())}}init(e,i,r,s,a=[]){sk(this.updateMap,e,i,r),sk(this.clearMap,e,i,s),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,r){const s=this.elementMap.get(e);if(s){const a=void 0!==r?s.get(r):this.getActivatedValues(s,i);if(a)return a.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);if(s)return void 0!==s.get(i)||!1}return!1}setValue(e,i,r,s){let a=this.elementMap.get(e);if(a){const c=(a.get(s)??new Map).set(i,r);a.set(s,c),this.elementMap.set(e,a)}else a=(new Map).set(s,(new Map).set(i,r)),this.elementMap.set(e,a);const o=this.getValue(e,i);void 0!==o&&this.updateElement(e,i,o)}trackValue(e,i){return this.subject.asObservable().pipe(jn(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let s=this.getActivatedValues(e);s&&s.forEach((a,o)=>{this.updateElement(i,o,a),r.delete(o)}),r.forEach(a=>{if(s=this.getActivatedValues(e,a),s){const o=s.get(a);this.updateElement(i,a,o)}else this.clearElement(i,a)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const s=r.get(i);s&&(s(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const s=this.updateMap.get(e);if(s){const a=s.get(i);a&&(a(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((s,a)=>r.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const s=this.getActivatedValues(r,i);s&&(i?this.updateElement(e,i,s.get(i)):s.forEach((a,o)=>this.updateElement(e,o,a)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let s=this.watcherMap.get(e);if(s||(s=new Map,this.watcherMap.set(e,s)),!s.get(i)){const o=oi(...r).subscribe(()=>{const c=this.getValue(e,i);this.updateElement(e,i,c)});s.set(i,o)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let s=0;s<this.activatedBreakpoints.length;s++){const o=e.get(this.activatedBreakpoints[s].alias);if(o&&(void 0===i||o.has(i)&&null!=o.get(i)))return o}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(ri(this.hook.interceptEvents(this)),jn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(j(c_),j(l_),j(Zre))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sk(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let wi=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Xe,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,s=r.shouldCache;let a=this.styleCache.get(e);(!a||!s)&&(a=r.buildStyles(e,i),s&&this.styleCache.set(e,a)),this.mru={...a},this.applyStyleToElement(a),r.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,s]=this.styler.getFlowDirection(e);if(!s&&i){const a=qE(r);this.styler.applyStyleToElements(a,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Vi),S(hi),S(bi))},n.\u0275dir=ne({type:n,features:[Qt]}),n})(),ose=(()=>{class n extends wi{constructor(e,i,r,s,a,o,c){super(e,null,i,r),this.ngClassInstance=c,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Sr(s,a,e,o)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(hi),S(bi),S(o2),S(xl),S($s),S(Sr,10))},n.\u0275dir=ne({type:n,inputs:{klass:["class","klass"]},features:[me]}),n})();const cse=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let lk=(()=>{class n extends ose{constructor(){super(...arguments),this.inputs=cse}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275dir=ne({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[me]}),n})(),mk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[s_]}),n})();const yse=new he("cdk-dir-doc",{providedIn:"root",factory:function bse(){return Wn(Ct)}}),Mse=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let zr=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Te,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function xse(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Mse.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(j(yse,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({}),n})(),Cse=(()=>{class n extends Vi{buildStyles(e,{display:i}){const r=qE(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wse=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Sse=(()=>{class n extends wi{constructor(e,i,r,s,a){super(e,r,i,s),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=gk.get(r)??new Map,gk.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(hi),S(Cse),S(bi),S(Wa))},n.\u0275dir=ne({type:n,features:[me]}),n})(),np=(()=>{class n extends Sse{constructor(){super(...arguments),this.inputs=wse}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275dir=ne({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[me]}),n})();const gk=new Map;let hae=(()=>{class n extends Vi{buildStyles(e,i){const r={},[s,a]=e.split(" ");switch(s){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return ac(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===a?Yd(i.layout)?null:"100%":null,"max-height":"stretch"===a&&Yd(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pae=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let mae=(()=>{class n extends wi{constructor(e,i,r,s){super(e,r,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(en(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=bae:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=xae:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=Mae:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=Cae:"column-reverse"===i&&!r&&(this.styleCache=yae):this.styleCache=_ae:this.styleCache=vae:this.styleCache=gae,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),ep.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(hi),S(hae),S(bi))},n.\u0275dir=ne({type:n,features:[me]}),n})(),rp=(()=>{class n extends mae{constructor(){super(...arguments),this.inputs=pae}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275dir=ne({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[me]}),n})();const gae=new Map,_ae=new Map,vae=new Map,yae=new Map,bae=new Map,Mae=new Map,xae=new Map,Cae=new Map;let yk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[s_,G3]}),n})(),Ak=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[s_]}),n})(),joe=(()=>{class n{constructor(e,i){z3(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Wa,useValue:{...a_,...e}},{provide:o_,useValue:i,multi:!0},{provide:B3,useValue:!0}]:[{provide:Wa,useValue:{...a_,...e}},{provide:o_,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(j(B3),j(ha))},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[yk,mk,Ak,yk,mk,Ak]}),n})();function Dk(...n){const t=Rs(n),{args:e,keys:i}=DE(n),r=new In(s=>{const{length:a}=e;if(!a)return void s.complete();const o=new Array(a);let c=a,l=a;for(let u=0;u<a;u++){let d=!1;Lr(e[u]).subscribe(qn(s,f=>{d||(d=!0,l--),o[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(i?EE(i,o):o),s.complete())}))}});return t?r.pipe(Q9(t)):r}let Ek=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(S($s),S(Ge))},n.\u0275dir=ne({type:n}),n})(),El=(()=>{class n extends Ek{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275dir=ne({type:n,features:[me]}),n})();const mr=new he("NgValueAccessor"),qoe={provide:mr,useExisting:sn(()=>W3),multi:!0},Xoe=new he("CompositionEventMode");let W3=(()=>{class n extends Ek{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Yoe(){const n=xo()?xo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(S($s),S(Ge),S(Xoe,8))},n.\u0275dir=ne({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&ve("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[wt([qoe]),me]}),n})();function h2(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Lk(n){return null!=n&&"number"==typeof n.length}const gr=new he("NgValidators"),p2=new he("NgAsyncValidators"),Zoe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sp{static min(t){return Ik(t)}static max(t){return Vk(t)}static required(t){return function Hk(n){return h2(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Rk(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function zk(n){return h2(n.value)||Zoe.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Pk(n){return t=>h2(t.value)||!Lk(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return Nk(t)}static pattern(t){return function Fk(n){if(!n)return ap;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(h2(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return jk(t)}static composeAsync(t){return $k(t)}}function Ik(n){return t=>{if(h2(t.value)||h2(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Vk(n){return t=>{if(h2(t.value)||h2(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Nk(n){return t=>Lk(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function ap(n){return null}function Ok(n){return null!=n}function Bk(n){return bd(n)?Un(n):n}function Uk(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Gk(n,t){return t.map(e=>e(n))}function Wk(n){return n.map(t=>function Qoe(n){return!n.validate}(t)?t:e=>t.validate(e))}function jk(n){if(!n)return null;const t=n.filter(Ok);return 0==t.length?null:function(e){return Uk(Gk(e,t))}}function d_(n){return null!=n?jk(Wk(n)):null}function $k(n){if(!n)return null;const t=n.filter(Ok);return 0==t.length?null:function(e){return Dk(Gk(e,t).map(Bk)).pipe(Lt(Uk))}}function f_(n){return null!=n?$k(Wk(n)):null}function qk(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Yk(n){return n._rawValidators}function Xk(n){return n._rawAsyncValidators}function h_(n){return n?Array.isArray(n)?n:[n]:[]}function op(n,t){return Array.isArray(n)?n.includes(t):n===t}function Kk(n,t){const e=h_(t);return h_(n).forEach(r=>{op(e,r)||e.push(r)}),e}function Zk(n,t){return h_(t).filter(e=>!op(n,e))}class Qk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=d_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=f_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ls extends Qk{get formDirective(){return null}get path(){return null}}class ja extends Qk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let cp=(()=>{class n extends class Jk{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(S(ja,2))},n.\u0275dir=ne({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&nn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[me]}),n})();const Kd="VALID",up="INVALID",j3="PENDING",Zd="DISABLED";function __(n){return(dp(n)?n.validators:n)||null}function tL(n){return Array.isArray(n)?d_(n):n||null}function v_(n,t){return(dp(t)?t.asyncValidators:n)||null}function nL(n){return Array.isArray(n)?f_(n):n||null}function dp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class sL{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=tL(this._rawValidators),this._composedAsyncValidatorFn=nL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Kd}get invalid(){return this.status===up}get pending(){return this.status==j3}get disabled(){return this.status===Zd}get enabled(){return this.status!==Zd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=tL(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=nL(t)}addValidators(t){this.setValidators(Kk(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Kk(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Zk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Zk(t,this._rawAsyncValidators))}hasValidator(t){return op(this._rawValidators,t)}hasAsyncValidator(t){return op(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=j3,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Zd,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Kd,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kd||this.status===j3)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zd:Kd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=j3,this._hasOwnPendingAsyncValidator=!0;const e=Bk(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?Zd:this.errors?up:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(j3)?j3:this._anyControlsHaveStatus(up)?up:Kd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){dp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class y_ extends sL{constructor(t,e,i){super(__(e),v_(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function rL(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new we(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function iL(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new we(1e3,"");if(!i[e])throw new we(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Qd(n,t){b_(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function cce(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&aL(n,t)})}(n,t),function uce(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function lce(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&aL(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function oce(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function hp(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),mp(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function pp(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function b_(n,t){const e=Yk(n);null!==t.validator?n.setValidators(qk(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Xk(n);null!==t.asyncValidator?n.setAsyncValidators(qk(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();pp(t._rawValidators,r),pp(t._rawAsyncValidators,r)}function mp(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Yk(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=Xk(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(a=>a!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return pp(t._rawValidators,i),pp(t._rawAsyncValidators,i),e}function aL(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function oL(n,t){b_(n,t)}function lL(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const mce={provide:ls,useExisting:sn(()=>$3)},Jd=(()=>Promise.resolve())();let $3=(()=>{class n extends ls{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Te,this.form=new y_({},d_(e),f_(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Jd.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Qd(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Jd.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Jd.then(()=>{const i=this._findContainer(e.path),r=new y_({});oL(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Jd.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Jd.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,lL(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(S(gr,10),S(p2,10))},n.\u0275dir=ne({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&ve("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wt([mce]),me]}),n})();function uL(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function dL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fL=class extends sL{constructor(t=null,e,i){super(__(e),v_(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=dL(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){uL(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){uL(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){dL(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},vce={provide:ja,useExisting:sn(()=>ef)},mL=(()=>Promise.resolve())();let ef=(()=>{class n extends ja{constructor(e,i,r,s,a){super(),this._changeDetectorRef=a,this.control=new fL,this._registered=!1,this.update=new Te,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function x_(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===W3?e=s:function hce(n){return Object.getPrototypeOf(n.constructor)===El}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function M_(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){mL.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&function nc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(i);mL.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function fp(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(S(ls,9),S(gr,10),S(p2,10),S(mr,10),S(Pn,8))},n.\u0275dir=ne({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[wt([vce]),me,Qt]}),n})();const bce={provide:mr,useExisting:sn(()=>C_),multi:!0};let C_=(()=>{class n extends El{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275dir=ne({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&ve("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[wt([bce]),me]}),n})(),gL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({}),n})();const w_=new he("NgModelWithFormControlWarning"),Sce={provide:ls,useExisting:sn(()=>q3)};let q3=(()=>{class n extends ls{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Te,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Qd(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){hp(e.control||null,e,!1),function pce(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,lL(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(hp(i||null,e),(n=>n instanceof fL)(r)&&(Qd(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);oL(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function dce(n,t){return mp(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){b_(this.form,this),this._oldForm&&mp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(S(gr,10),S(p2,10))},n.\u0275dir=ne({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&ve("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[wt([Sce]),me,Qt]}),n})();function SL(n){return"number"==typeof n?n:parseFloat(n)}let kl=(()=>{class n{constructor(){this._validator=ap}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ap,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,features:[Qt]}),n})();const Rce={provide:gr,useExisting:sn(()=>E_),multi:!0};let E_=(()=>{class n extends kl{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>SL(e),this.createValidator=e=>Vk(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275dir=ne({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Je("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[wt([Rce]),me]}),n})();const zce={provide:gr,useExisting:sn(()=>k_),multi:!0};let k_=(()=>{class n extends kl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>SL(e),this.createValidator=e=>Ik(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275dir=ne({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Je("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[wt([zce]),me]}),n})();const Bce={provide:gr,useExisting:sn(()=>I_),multi:!0};let I_=(()=>{class n extends kl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function wL(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>Nk(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275dir=ne({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Je("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[wt([Bce]),me]}),n})(),EL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[gL]}),n})(),V_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[EL]}),n})(),Gce=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:w_,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[EL]}),n})();function jce(n,t){if(1&n&&Re(0,"mat-pseudo-checkbox",4),2&n){const e=ue();U("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function $ce(n,t){if(1&n&&(I(0,"span",5),K(1),V()),2&n){const e=ue();Y(1),as("(",e.group.label,")")}}const qce=["*"],Xce=new he("mat-sanity-checks",{providedIn:"root",factory:function Yce(){return!0}});let Et=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!G9()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(j(jE),j(Xce,8),j(Ct))},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[G3,G3]}),n})();function Ll(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=at(t)}}}function wo(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function m2(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=at(t)}}}function g2(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?ji(e):this.defaultTabIndex}}}function H_(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}function Kce(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new In(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}const Zce=new he("MAT_DATE_LOCALE",{providedIn:"root",factory:function Qce(){return Wn(Mo)}});class Pr{constructor(){this._localeChanges=new Xe,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Il=new he("mat-date-formats"),Jce=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function R_(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let e2e=(()=>{class n extends Pr{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return R_(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return R_(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return R_(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Jce.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(j(Zce,8),j(Qi))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const t2e={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let n2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[{provide:Pr,useClass:e2e}]}),n})(),i2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[{provide:Il,useValue:t2e}],imports:[n2e]}),n})(),tf=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_p=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Et,Et]}),n})();class a2e{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const HL={enterDuration:225,exitDuration:150},z_=u2({passive:!0}),RL=["mousedown","touchstart"],zL=["mouseup","mouseleave","touchend","touchcancel"];class PL{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=sc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...HL,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function c2e(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),o=t-r.left,c=e-r.top,l=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-a+"px",u.style.top=c-a+"px",u.style.height=2*a+"px",u.style.width=2*a+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),h=d.transitionDuration,p="none"===d.transitionProperty||"0s"===h||"0s, 0s"===h,v=new a2e(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",v.state=0,i.persistent||(this._mostRecentTransientRipple=v);let g=null;return!p&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const m=()=>this._finishRippleTransition(v),C=()=>this._destroyRipple(v);u.addEventListener("transitionend",m),u.addEventListener("transitioncancel",C),g={onTransitionEnd:m,onTransitionCancel:C}}),this._activeRipples.set(v,g),(p||!l)&&this._finishRippleTransition(v),v}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...HL,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=sc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(RL))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(zL),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=OE(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!BE(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,z_)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(RL.forEach(t=>{this._triggerElement.removeEventListener(t,this,z_)}),this._pointerUpEventsRegistered&&zL.forEach(t=>{this._triggerElement.removeEventListener(t,this,z_)}))}}const NL=new he("mat-ripple-global-options");let _2=(()=>{class n{constructor(e,i,r,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new PL(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Ht),S(Qi),S(NL,8),S(fr,8))},n.\u0275dir=ne({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&nn("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),v2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Et,Et]}),n})(),FL=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(S(fr,8))},n.\u0275cmp=st({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&nn("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),P_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Et]}),n})();const OL=new he("MAT_OPTION_PARENT_COMPONENT"),BL=new he("MatOptgroup");let l2e=0;class UL{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let u2e=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+l2e++,this.onSelectionChange=new Te,this._stateChanges=new Xe}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=at(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ji(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new UL(this,e))}}return n.\u0275fac=function(e){da()},n.\u0275dir=ne({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),GL=(()=>{class n extends u2e{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Pn),S(OL,8),S(BL,8))},n.\u0275cmp=st({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&ve("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(Ys("id",i.id),Je("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),nn("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[me],ngContentSelectors:qce,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(li(),Le(0,jce,1,2,"mat-pseudo-checkbox",0),I(1,"span",1),Jt(2),V(),Le(3,$ce,2,1,"span",2),Re(4,"div",3)),2&e&&(U("ngIf",i.multiple),Y(3),U("ngIf",i.group&&i.group._inert),Y(1),U("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[_2,Kn,FL],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function N_(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===r[s]&&s++;return s}return 0}let vp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[v2,pr,Et,P_]}),n})();const d2e=["mat-button",""],f2e=["*"],p2e=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],m2e=wo(Ll(m2(class{constructor(n){this._elementRef=n}})));let Y3=(()=>{class n extends m2e{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of p2e)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(va),S(fr,8))},n.\u0275cmp=st({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&Ln(_2,5),2&e){let r;vt(r=yt())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(Je("disabled",i.disabled||null),nn("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[me],attrs:d2e,ngContentSelectors:f2e,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(li(),I(0,"span",0),Jt(1),V(),Re(2,"span",1)(3,"span",2)),2&e&&(Y(2),nn("mat-button-ripple-round",i.isRoundButton||i.isIconButton),U("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[_2],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),F_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[v2,Et,Et]}),n})();const g2e=["*",[["mat-card-footer"]]],_2e=["*","mat-card-footer"],v2e=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],y2e=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let b2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),M2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),x2e=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(S(fr,8))},n.\u0275cmp=st({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&nn("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:_2e,decls:2,vars:0,template:function(e,i){1&e&&(li(g2e),Jt(0),Jt(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),C2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:y2e,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(li(v2e),Jt(0),I(1,"div",0),Jt(2,1),V(),Jt(3,2))},encapsulation:2,changeDetection:0}),n})(),w2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Et,Et]}),n})(),qL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({}),n})(),N2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[v2,Et,jd,qL,Et,qL]}),n})();const F2e=["addListener","removeListener"],O2e=["addEventListener","removeEventListener"],B2e=["on","off"];function Vl(n,t,e,i){if(bn(e)&&(i=e,e=void 0),i)return Vl(n,t,e).pipe(Q9(i));const[r,s]=function W2e(n){return bn(n.addEventListener)&&bn(n.removeEventListener)}(n)?O2e.map(a=>o=>n[a](t,o,e)):function U2e(n){return bn(n.addListener)&&bn(n.removeListener)}(n)?F2e.map(YL(n,t)):function G2e(n){return bn(n.on)&&bn(n.off)}(n)?B2e.map(YL(n,t)):[];if(!r&&H1(n))return Oi(a=>Vl(a,t,e))(Lr(n));if(!r)throw new TypeError("Invalid event target");return new In(a=>{const o=(...c)=>a.next(1<c.length?c:c[0]);return r(o),()=>s(o)})}function YL(n,t){return e=>i=>n[e](t,i)}const rf={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=rf;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new rn(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=rf;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=rf;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class $2e extends X9{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class j2e extends q9{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=rf.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(rf.cancelAnimationFrame(e),t._scheduled=void 0)}});let O_,Y2e=1;const yp={};function XL(n){return n in yp&&(delete yp[n],!0)}const X2e={setImmediate(n){const t=Y2e++;return yp[t]=!0,O_||(O_=Promise.resolve()),O_.then(()=>XL(t)&&n()),t},clearImmediate(n){XL(n)}},{setImmediate:K2e,clearImmediate:Z2e}=X2e,bp={setImmediate(...n){const{delegate:t}=bp;return(t?.setImmediate||K2e)(...n)},clearImmediate(n){const{delegate:t}=bp;return(t?.clearImmediate||Z2e)(n)},delegate:void 0};new class J2e extends X9{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Q2e extends q9{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=bp.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(bp.clearImmediate(e),t._scheduled=void 0)}});function ZL(n,t=$6){return function tle(n){return ai((t,e)=>{let i=!1,r=null,s=null,a=!1;const o=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const l=r;r=null,e.next(l)}a&&e.complete()},c=()=>{s=null,a&&e.complete()};t.subscribe(qn(e,l=>{i=!0,r=l,s||Lr(n(l)).subscribe(s=qn(e,o,c))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function KL(n=0,t,e=Uie){let i=-1;return null!=t&&(ku(t)?e=t:i=t),new In(r=>{let s=function nle(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}let QL=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Xe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new In(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(ZL(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):gt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(jn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=sc(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Vl(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(j(Ht),j(Qi),j(Ct,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sf=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Xe,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(ZL(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(j(Qi),j(Ht),j(Ct,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({}),n})(),JL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[G3,cc,G3,cc]}),n})();class B_{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class X3 extends B_{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class af extends B_{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class sle extends B_{constructor(t){super(),this.element=t instanceof Ge?t.nativeElement:t}}class U_{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof X3?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof af?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof sle?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ale extends U_{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const o=a.element,c=this._document.createComment("dom-portal");o.parentNode.insertBefore(c,o),this.outletElement.appendChild(o),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Gi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let K3=(()=>{class n extends U_{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Te,this.attachDomPortal=s=>{const a=s.element,o=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(o,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(a,o)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(S(Ko),S(dr),S(Ct))},n.\u0275dir=ne({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[me]}),n})(),y2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({}),n})();function eI(n,t=!1){return ai((e,i)=>{let r=0;e.subscribe(qn(i,s=>{const a=n(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}const tI=kie();class ole{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=er(-this._previousScrollPosition.left),t.style.top=er(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),tI&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),tI&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class cle{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class nI{enable(){}disable(){}attach(){}}function G_(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function iI(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class lle{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();G_(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ule=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new nI,this.close=a=>new cle(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new ole(this._viewportRuler,this._document),this.reposition=a=>new lle(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(j(QL),j(sf),j(Ht),j(Ct))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cf{constructor(t){if(this.scrollStrategy=new nI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class dle{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let rI=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(j(Ct))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fle=(()=>{class n extends rI{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const o=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>o.next(r)):o.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(j(Ct),j(Ht,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hle=(()=>{class n extends rI{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=d2(s)},this._clickListener=s=>{const a=d2(s),o="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(a)||u.overlayElement.contains(o))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(j(Ct),j(Qi),j(Ht,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mp=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||G9()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),G9()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(j(Ct),j(Qi))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lf{constructor(t,e,i,r,s,a,o,c,l,u=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=o,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Xe,this._attachments=new Xe,this._detachments=new Xe,this._locationChanges=rn.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Xe,this._outsidePointerEvents=new Xe,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(si(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=er(this._config.width),t.height=er(this._config.height),t.minWidth=er(this._config.minWidth),t.minHeight=er(this._config.minHeight),t.maxWidth=er(this._config.maxWidth),t.maxHeight=er(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Y6(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(en(oi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const sI="cdk-overlay-connected-position-bounding-box",ple=/([A-Za-z%]+)$/;class aI{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Xe,this._resizeSubscription=rn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(sI),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let o of this._preferredPositions){let c=this._getOriginPoint(t,r,o),l=this._getOverlayPoint(c,e,o),u=this._getOverlayFit(l,e,i,o);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,c);this._canFitWithFlexibleDimensions(u,l,i)?s.push({position:o,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,o)}):(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:l,originPoint:c,position:o,overlayRect:e})}if(s.length){let o=null,c=-1;for(const l of s){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Hl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(sI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,o=this._isRtl()?t.left:t.right;r="start"==i.originX?a:o}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=cI(e);let{x:a,y:o}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(a+=c),l&&(o+=l);let f=0-o,h=o+s.height-i.height,p=this._subtractOverflows(s.width,0-a,a+s.width-i.width),v=this._subtractOverflows(s.height,f,h),g=p*v;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:v===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=oI(this._overlayRef.getConfig().minHeight),o=oI(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportHorizontally||null!=o&&o<=s;return(t.fitsInViewportVertically||null!=a&&a<=r)&&l}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=cI(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),o=Math.max(t.y+r.height-s.height,0),c=Math.max(s.top-i.top-t.y,0),l=Math.max(s.left-i.left-t.x,0);let u=0,d=0;return u=r.width<=s.width?l||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,d=r.height<=s.height?c||-o:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new dle(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,o,u,d,f;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)o=i.height-t.y+2*this._viewportMargin,s=i.height-o+this._viewportMargin;else{const h=Math.min(i.bottom-t.y+i.top,t.y),p=this._lastBoundingBoxSize.height;s=2*h,a=t.y-h,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-p/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)f=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)d=t.x,u=i.right-t.x;else{const h=Math.min(i.right-t.x+i.left,t.x),p=this._lastBoundingBoxSize.width;u=2*h,d=t.x-h,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-p/2)}return{top:a,left:d,bottom:o,right:f,width:u,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=er(i.height),r.top=er(i.top),r.bottom=er(i.bottom),r.width=er(i.width),r.left=er(i.left),r.right=er(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=er(s)),a&&(r.maxWidth=er(a))}this._lastBoundingBoxSize=i,Hl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Hl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Hl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Hl(i,this._getExactOverlayY(e,t,u)),Hl(i,this._getExactOverlayX(e,t,u))}else i.position="static";let o="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(o+=`translateX(${c}px) `),l&&(o+=`translateY(${l}px)`),i.transform=o.trim(),a.maxHeight&&(r?i.maxHeight=er(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=er(a.maxWidth):s&&(i.maxWidth="")),Hl(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=er(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=er(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:iI(t,i),isOriginOutsideView:G_(t,i),isOverlayClipped:iI(e,i),isOverlayOutsideView:G_(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Y6(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ge)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Hl(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function oI(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(ple);return e&&"px"!==e?null:parseFloat(t)}return n||null}function cI(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const lI="cdk-global-overlay-wrapper";class mle{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(lI),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:o}=i,c=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),l=!("100%"!==s&&"100vh"!==s||o&&"100%"!==o&&"100vh"!==o),u=this._xPosition,d=this._xOffset,f="rtl"===this._overlayRef.getConfig().direction;let h="",p="",v="";c?v="flex-start":"center"===u?(v="center",f?p=d:h=d):f?"left"===u||"end"===u?(v="flex-end",h=d):("right"===u||"start"===u)&&(v="flex-start",p=d):"left"===u||"start"===u?(v="flex-start",h=d):("right"===u||"end"===u)&&(v="flex-end",p=d),t.position=this._cssPosition,t.marginLeft=c?"0":h,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":p,e.justifyContent=v,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(lI),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let gle=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new mle}flexibleConnectedTo(e){return new aI(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(j(sf),j(Ct),j(Qi),j(Mp))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_le=0,us=(()=>{class n{constructor(e,i,r,s,a,o,c,l,u,d,f,h){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=o,this._ngZone=c,this._document=l,this._directionality=u,this._location=d,this._outsideClickDispatcher=f,this._animationsModuleType=h}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new cf(e);return a.direction=a.direction||this._directionality.value,new lf(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+_le++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a2)),new ale(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(j(ule),j(Mp),j(Ko),j(gle),j(fle),j(Gi),j(Ht),j(Ct),j(zr),j(Ld),j(hle),j(fr,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const vle=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],uI=new he("cdk-connected-overlay-scroll-strategy");let dI=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(S(Ge))},n.\u0275dir=ne({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),fI=(()=>{class n{constructor(e,i,r,s,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=rn.EMPTY,this._attachSubscription=rn.EMPTY,this._detachSubscription=rn.EMPTY,this._positionSubscription=rn.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Te,this.positionChange=new Te,this.attach=new Te,this.detach=new Te,this.overlayKeydown=new Te,this.overlayOutsideClick=new Te,this._templatePortal=new af(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=at(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=at(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=at(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=at(e)}get push(){return this._push}set push(e){this._push=at(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=vle);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ji(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new cf({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof dI?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(eI(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(S(us),S(Ks),S(dr),S(uI),S(zr,8))},n.\u0275dir=ne({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Qt]}),n})();const ble={provide:uI,deps:[us],useFactory:function yle(n){return()=>n.scrollStrategies.reposition()}};let Rl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[us,ble],imports:[G3,y2,JL,JL]}),n})();class hI{}const lc="*";function Nr(n,t){return{type:7,name:n,definitions:t,options:{}}}function $n(n,t=null){return{type:4,styles:t,timings:n}}function xp(n,t=null){return{type:3,steps:n,options:t}}function W_(n,t=null){return{type:2,steps:n,options:t}}function It(n){return{type:6,styles:n,offset:null}}function Si(n,t,e){return{type:0,name:n,styles:t,options:e}}function j_(n){return{type:5,steps:n}}function Zn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function uf(n=null){return{type:9,options:n}}function df(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function pI(n){Promise.resolve().then(n)}class ff{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pI(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class mI{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?pI(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const xle=["connectionContainer"],Cle=["inputContainer"],wle=["label"];function Sle(n,t){1&n&&(T3(0),I(1,"div",14),Re(2,"div",15)(3,"div",16)(4,"div",17),V(),I(5,"div",18),Re(6,"div",15)(7,"div",16)(8,"div",17),V(),A3())}function Tle(n,t){if(1&n){const e=fi();I(0,"div",19),ve("cdkObserveContent",function(){return dt(e),ft(ue().updateOutlineGap())}),Jt(1,1),V()}2&n&&U("cdkObserveContentDisabled","outline"!=ue().appearance)}function Ale(n,t){if(1&n&&(T3(0),Jt(1,2),I(2,"span"),K(3),V(),A3()),2&n){const e=ue(2);Y(3),ur(e._control.placeholder)}}function Dle(n,t){1&n&&Jt(0,3,["*ngSwitchCase","true"])}function Ele(n,t){1&n&&(I(0,"span",23),K(1," *"),V())}function kle(n,t){if(1&n){const e=fi();I(0,"label",20,21),ve("cdkObserveContent",function(){return dt(e),ft(ue().updateOutlineGap())}),Le(2,Ale,4,1,"ng-container",12),Le(3,Dle,1,0,"ng-content",12),Le(4,Ele,2,0,"span",22),V()}if(2&n){const e=ue();nn("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),U("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),Je("for",e._control.id)("aria-owns",e._control.id),Y(2),U("ngSwitchCase",!1),Y(1),U("ngSwitchCase",!0),Y(1),U("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Lle(n,t){1&n&&(I(0,"div",24),Jt(1,4),V())}function Ile(n,t){if(1&n&&(I(0,"div",25),Re(1,"span",26),V()),2&n){const e=ue();Y(1),nn("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Vle(n,t){1&n&&(I(0,"div"),Jt(1,5),V()),2&n&&U("@transitionMessages",ue()._subscriptAnimationState)}function Hle(n,t){if(1&n&&(I(0,"div",30),K(1),V()),2&n){const e=ue(2);U("id",e._hintLabelId),Y(1),ur(e.hintLabel)}}function Rle(n,t){if(1&n&&(I(0,"div",27),Le(1,Hle,2,2,"div",28),Jt(2,6),Re(3,"div",29),Jt(4,7),V()),2&n){const e=ue();U("@transitionMessages",e._subscriptAnimationState),Y(1),U("ngIf",e.hintLabel)}}const zle=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ple=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Nle=new he("MatError"),Fle={transitionMessages:Nr("transitionMessages",[Si("enter",It({opacity:1,transform:"translateY(0%)"})),Zn("void => enter",[It({opacity:0,transform:"translateY(-5px)"}),$n("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let hf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n}),n})();const Ole=new he("MatHint");let q_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["mat-label"]]}),n})(),Ble=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["mat-placeholder"]]}),n})();const Ule=new he("MatPrefix"),gI=new he("MatSuffix");let Gle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["","matSuffix",""]],features:[wt([{provide:gI,useExisting:n}])]}),n})(),_I=0;const jle=wo(class{constructor(n){this._elementRef=n}},"primary"),$le=new he("MAT_FORM_FIELD_DEFAULT_OPTIONS"),pf=new he("MatFormField");let yI=(()=>{class n extends jle{constructor(e,i,r,s,a,o,c){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=a,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Xe,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+_I++,this._labelId="mat-form-field-label-"+_I++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==c,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=at(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Tr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(en(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(en(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),oi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Tr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Tr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(en(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Vl(this._label.nativeElement,"transitionend").pipe(si(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const u=i.querySelectorAll(`${r}, ${s}`);for(let d=0;d<u.length;d++)u[d].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,o=0;const c=i.querySelectorAll(r),l=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const u=i.getBoundingClientRect();if(0===u.width&&0===u.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const d=this._getStartEnd(u),f=e.children,h=this._getStartEnd(f[0].getBoundingClientRect());let p=0;for(let v=0;v<f.length;v++)p+=f[v].offsetWidth;a=Math.abs(h-d)-5,o=p>0?.75*p+10:0}for(let u=0;u<c.length;u++)c[u].style.width=`${a}px`;for(let u=0;u<l.length;u++)l[u].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Pn),S(zr,8),S($le,8),S(Qi),S(Ht),S(fr,8))},n.\u0275cmp=st({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(Fn(r,hf,5),Fn(r,hf,7),Fn(r,q_,5),Fn(r,q_,7),Fn(r,Ble,5),Fn(r,Nle,5),Fn(r,Ole,5),Fn(r,Ule,5),Fn(r,gI,5)),2&e){let s;vt(s=yt())&&(i._controlNonStatic=s.first),vt(s=yt())&&(i._controlStatic=s.first),vt(s=yt())&&(i._labelChildNonStatic=s.first),vt(s=yt())&&(i._labelChildStatic=s.first),vt(s=yt())&&(i._placeholderChild=s.first),vt(s=yt())&&(i._errorChildren=s),vt(s=yt())&&(i._hintChildren=s),vt(s=yt())&&(i._prefixChildren=s),vt(s=yt())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(Ln(xle,7),Ln(Cle,5),Ln(wle,5)),2&e){let r;vt(r=yt())&&(i._connectionContainerRef=r.first),vt(r=yt())&&(i._inputContainerRef=r.first),vt(r=yt())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&nn("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[wt([{provide:pf,useExisting:n}]),me],ngContentSelectors:Ple,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(li(zle),I(0,"div",0)(1,"div",1,2),ve("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),Le(3,Sle,9,0,"ng-container",3),Le(4,Tle,2,1,"div",4),I(5,"div",5,6),Jt(7),I(8,"span",7),Le(9,kle,5,16,"label",8),V()(),Le(10,Lle,2,0,"div",9),V(),Le(11,Ile,2,4,"div",10),I(12,"div",11),Le(13,Vle,2,1,"div",12),Le(14,Rle,5,2,"div",13),V()()),2&e&&(Y(3),U("ngIf","outline"==i.appearance),Y(1),U("ngIf",i._prefixChildren.length),Y(5),U("ngIf",i._hasFloatingLabel()),Y(1),U("ngIf",i._suffixChildren.length),Y(1),U("ngIf","outline"!=i.appearance),Y(1),U("ngSwitch",i._getDisplayedMessages()),Y(1),U("ngSwitchCase","error"),Y(1),U("ngSwitchCase","hint"))},dependencies:[Kn,c2,R3,Z9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Fle.transitionMessages]},changeDetection:0}),n})(),Z3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[pr,Et,jd,Et]}),n})();const bI=u2({passive:!0});let qle=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Hs;const i=sc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Xe,a="cdk-text-field-autofilled",o=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",o,bI),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",o,bI)}}),s}stopMonitoring(e){const i=sc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(j(Qi),j(Ht))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({}),n})();const xI=new he("MAT_INPUT_VALUE_ACCESSOR"),Yle=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Xle=0;const Kle=H_(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Xe}});let Zle=(()=>{class n extends Kle{constructor(e,i,r,s,a,o,c,l,u,d){super(o,s,a,r),this._elementRef=e,this._platform=i,this._autofillMonitor=l,this._formField=d,this._uid="mat-input-"+Xle++,this.focused=!1,this.stateChanges=new Xe,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>wE().has(p)),this._iOSKeyupListener=p=>{const v=p.target;!v.value&&0===v.selectionStart&&0===v.selectionEnd&&(v.setSelectionRange(1,1),v.setSelectionRange(0,0))};const f=this._elementRef.nativeElement,h=f.nodeName.toLowerCase();this._inputValueAccessor=c||f,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=at(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(sp.required)??!1}set required(e){this._required=at(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&wE().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=at(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Yle.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Qi),S(ja,10),S($3,8),S(q3,8),S(tf),S(xI,10),S(qle),S(Ht),S(pf,8))},n.\u0275dir=ne({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&ve("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(Ys("disabled",i.disabled)("required",i.required),Je("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),nn("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[wt([{provide:hf,useExisting:n}]),me,Qt]}),n})(),CI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[tf],imports:[MI,Z3,Et,MI,Z3]}),n})();const Qle=["mat-calendar-body",""];function Jle(n,t){if(1&n&&(I(0,"tr",2)(1,"td",3),K(2),V()()),2&n){const e=ue();Y(1),Ts("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Je("colspan",e.numCols),Y(1),as(" ",e.label," ")}}function e1e(n,t){if(1&n&&(I(0,"td",3),K(1),V()),2&n){const e=ue(2);Ts("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Je("colspan",e._firstRowOffset),Y(1),as(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function t1e(n,t){if(1&n){const e=fi();I(0,"td",7)(1,"button",8),ve("click",function(r){const a=dt(e).$implicit;return ft(ue(2)._cellClicked(a,r))})("focus",function(r){const a=dt(e).$implicit;return ft(ue(2)._emitActiveDateChange(a,r))}),I(2,"div",9),K(3),V(),Re(4,"div",10),V()()}if(2&n){const e=t.$implicit,i=t.index,r=ue().index,s=ue();Ts("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),Je("data-mat-row",r)("data-mat-col",i),Y(1),nn("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),U("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),Je("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),Y(1),nn("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),Y(1),as(" ",e.displayValue," ")}}function n1e(n,t){if(1&n&&(I(0,"tr",4),Le(1,e1e,2,6,"td",5),Le(2,t1e,5,47,"td",6),V()),2&n){const e=t.$implicit,i=t.index,r=ue();Y(1),U("ngIf",0===i&&r._firstRowOffset),Y(1),U("ngForOf",e)}}function i1e(n,t){if(1&n&&(I(0,"th",5)(1,"span",6),K(2),V(),I(3,"span",7),K(4),V()()),2&n){const e=t.$implicit;Y(2),ur(e.long),Y(2),ur(e.narrow)}}const r1e=["*"];function s1e(n,t){}function a1e(n,t){if(1&n){const e=fi();I(0,"mat-month-view",5),ve("activeDateChange",function(r){return dt(e),ft(ue().activeDate=r)})("_userSelection",function(r){return dt(e),ft(ue()._dateSelected(r))}),V()}if(2&n){const e=ue();U("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function o1e(n,t){if(1&n){const e=fi();I(0,"mat-year-view",6),ve("activeDateChange",function(r){return dt(e),ft(ue().activeDate=r)})("monthSelected",function(r){return dt(e),ft(ue()._monthSelectedInYearView(r))})("selectedChange",function(r){return dt(e),ft(ue()._goToDateInView(r,"month"))}),V()}if(2&n){const e=ue();U("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function c1e(n,t){if(1&n){const e=fi();I(0,"mat-multi-year-view",7),ve("activeDateChange",function(r){return dt(e),ft(ue().activeDate=r)})("yearSelected",function(r){return dt(e),ft(ue()._yearSelectedInMultiYearView(r))})("selectedChange",function(r){return dt(e),ft(ue()._goToDateInView(r,"year"))}),V()}if(2&n){const e=ue();U("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function l1e(n,t){}const u1e=["button"];function d1e(n,t){1&n&&(ti(),I(0,"svg",3),Re(1,"path",4),V())}const f1e=[[["","matDatepickerToggleIcon",""]]],h1e=["[matDatepickerToggleIcon]"];let mf=(()=>{class n{constructor(){this.changes=new Xe,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Y_{constructor(t,e,i,r,s={},a=t,o){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=a,this.rawValue=o}}let Q3=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new Te,this.previewChange=new Te,this.activeDateChange=new Te,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(si(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return X_(e,this.startValue,this.endValue)}_isRangeEnd(e){return K_(e,this.startValue,this.endValue)}_isInRange(e){return Z_(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return X_(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const a=this.rows[i-1];s=a&&a[a.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const a=this.rows[i+1];s=a&&a[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return K_(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Z_(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return X_(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return K_(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Z_(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(wI(e)?i=e:wI(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Ht))},n.\u0275cmp=st({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[Qt],attrs:Qle,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(Le(0,Jle,3,6,"tr",0),Le(1,n1e,3,2,"tr",1)),2&e&&(U("ngIf",i._firstRowOffset<i.labelMinRequiredCells),Y(1),U("ngForOf",i.rows))},dependencies:[Sr,Co,Kn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function wI(n){return"TD"===n.nodeName}function X_(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function K_(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function Z_(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Es{constructor(t,e){this.start=t,this.end=e}}let b2=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Xe,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){da()},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),p1e=(()=>{class n extends b2{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(j(Pr))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const SI={provide:b2,deps:[[new ws,new fo,b2],Pr],useFactory:function g1e(n,t){return n||new p1e(t)}},Cp=new he("MAT_DATE_RANGE_SELECTION_STRATEGY");let TI=(()=>{class n{constructor(e,i,r,s,a){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=a,this._rerenderSubscription=rn.EMPTY,this.selectedChange=new Te,this._userSelection=new Te,this.activeDateChange=new Te,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Es?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Tr(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,a;this._selected instanceof Es?(s=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):s=a=this._getDateInCurrentMonth(this._selected),(s!==i||a!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Ji(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((a,o)=>({long:a,narrow:i[o]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),o=this._shouldEnableDate(a),c=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),l=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new Y_(r+1,i[r],c,o,l,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Es?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(S(Pn),S(Il,8),S(Pr,8),S(zr,8),S(Cp,8))},n.\u0275cmp=st({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&Ln(Q3,5),2&e){let r;vt(r=yt())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[Qt],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(I(0,"table",0)(1,"thead",1)(2,"tr"),Le(3,i1e,5,2,"th",2),V(),I(4,"tr"),Re(5,"th",3),V()(),I(6,"tbody",4),ve("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),V()()),2&e&&(Y(3),U("ngForOf",i._weekdays),Y(3),U("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[Co,Q3],encapsulation:2,changeDetection:0}),n})(),AI=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=rn.EMPTY,this.selectedChange=new Te,this.yearSelected=new Te,this.activeDateChange=new Te,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),DI(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Es?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Tr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-gf(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(a=>this._createCellForYear(a))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-gf(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-gf(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return gf(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Y_(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Es){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(S(Pn),S(Pr,8),S(zr,8))},n.\u0275cmp=st({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&Ln(Q3,5),2&e){let r;vt(r=yt())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(I(0,"table",0)(1,"thead",1)(2,"tr"),Re(3,"th",2),V()(),I(4,"tbody",3),ve("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),V()()),2&e&&(Y(4),U("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Q3],encapsulation:2,changeDetection:0}),n})();function DI(n,t,e,i,r){const s=n.getYear(t),a=n.getYear(e),o=EI(n,i,r);return Math.floor((s-o)/24)===Math.floor((a-o)/24)}function gf(n,t,e,i){return function b1e(n,t){return(n%t+t)%t}(n.getYear(t)-EI(n,e,i),24)}function EI(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let kI=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=rn.EMPTY,this.selectedChange=new Te,this.monthSelected=new Te,this.activeDateChange=new Te,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Es?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Tr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(r,"year"):void 0;return new Y_(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Es?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(S(Pn),S(Il,8),S(Pr,8),S(zr,8))},n.\u0275cmp=st({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&Ln(Q3,5),2&e){let r;vt(r=yt())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(I(0,"table",0)(1,"thead",1)(2,"tr"),Re(3,"th",2),V()(),I(4,"tbody",3),ve("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),V()()),2&e&&(Y(4),U("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Q3],encapsulation:2,changeDetection:0}),n})(),M1e=0,x1e=(()=>{class n{constructor(e,i,r,s,a){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+M1e++,this.calendar.stateChanges.subscribe(()=>a.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-gf(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,a)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):DI(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(S(mf),S(sn(()=>ev)),S(Pr,8),S(Il,8),S(Pn))},n.\u0275cmp=st({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:r1e,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(li(),I(0,"div",0)(1,"div",1)(2,"button",2),ve("click",function(){return i.currentPeriodClicked()}),I(3,"span"),K(4),V(),ti(),I(5,"svg",3),Re(6,"polygon",4),V()(),Ku(),Re(7,"div",5),Jt(8),I(9,"button",6),ve("click",function(){return i.previousClicked()}),V(),I(10,"button",7),ve("click",function(){return i.nextClicked()}),V()()()),2&e&&(Y(2),Je("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),Y(1),Je("id",i._buttonDescriptionId),Y(1),ur(i.periodButtonText),Y(1),nn("mat-calendar-invert","month"!==i.calendar.currentView),Y(4),U("disabled",!i.previousEnabled()),Je("aria-label",i.prevButtonLabel),Y(1),U("disabled",!i.nextEnabled()),Je("aria-label",i.nextButtonLabel))},dependencies:[Y3],encapsulation:2,changeDetection:0}),n})(),ev=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new Te,this.yearSelected=new Te,this.monthSelected=new Te,this.viewChanged=new Te(!0),this._userSelection=new Te,this.stateChanges=new Xe,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Es?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new X3(this.headerComponent||x1e),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const a=this._getCurrentViewComponent();a&&(this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Es||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(S(mf),S(Pr,8),S(Il,8),S(Pn))},n.\u0275cmp=st({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(Ln(TI,5),Ln(kI,5),Ln(AI,5)),2&e){let r;vt(r=yt())&&(i.monthView=r.first),vt(r=yt())&&(i.yearView=r.first),vt(r=yt())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[wt([SI]),Qt],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(Le(0,s1e,0,0,"ng-template",0),I(1,"div",1),Le(2,a1e,1,8,"mat-month-view",2),Le(3,o1e,1,6,"mat-year-view",3),Le(4,c1e,1,6,"mat-multi-year-view",4),V()),2&e&&(U("cdkPortalOutlet",i._calendarHeaderPortal),Y(1),U("ngSwitch",i.currentView),Y(1),U("ngSwitchCase","month"),Y(1),U("ngSwitchCase","year"),Y(1),U("ngSwitchCase","multi-year"))},dependencies:[c2,R3,kre,K3,TI,kI,AI],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const LI={transformPanel:Nr("transformPanel",[Zn("void => enter-dropdown",$n("120ms cubic-bezier(0, 0, 0.2, 1)",j_([It({opacity:0,transform:"scale(1, 0.8)"}),It({opacity:1,transform:"scale(1, 1)"})]))),Zn("void => enter-dialog",$n("150ms cubic-bezier(0, 0, 0.2, 1)",j_([It({opacity:0,transform:"scale(0.7)"}),It({transform:"none",opacity:1})]))),Zn("* => void",$n("100ms linear",It({opacity:0})))]),fadeInCalendar:Nr("fadeInCalendar",[Si("void",It({opacity:0})),Si("enter",It({opacity:1})),Zn("void => *",$n("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let C1e=0;const II=new he("mat-datepicker-scroll-strategy"),S1e={provide:II,deps:[us],useFactory:function w1e(n){return()=>n.scrollStrategies.reposition()}},T1e=wo(class{constructor(n){this._elementRef=n}});let A1e=(()=>{class n extends T1e{constructor(e,i,r,s,a,o){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=a,this._subscriptions=new rn,this._animationDone=new Xe,this._actionsPortal=null,this._closeButtonText=o.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof Es;if(s&&this._rangeSelectionStrategy){const a=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(a,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Pn),S(b2),S(Pr),S(Cp,8),S(mf))},n.\u0275cmp=st({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&Ln(ev,5),2&e){let r;vt(r=yt())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&u6("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(f6("@transformPanel",i._animationState),nn("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[me],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(I(0,"div",0)(1,"mat-calendar",1),ve("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),V(),Le(2,l1e,0,0,"ng-template",2),I(3,"button",3),ve("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),K(4),V()()),2&e){let r;nn("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),Je("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),Y(1),U("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),Y(1),U("cdkPortalOutlet",i._actionsPortal),Y(1),nn("cdk-visually-hidden",!i._closeButtonFocused),U("color",i.color||"primary"),Y(1),ur(i._closeButtonText)}},dependencies:[Sr,Y3,Mre,K3,ev],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[LI.transformPanel,LI.fadeInCalendar]},changeDetection:0}),n})(),VI=(()=>{class n{constructor(e,i,r,s,a,o,c){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=a,this._dir=o,this._model=c,this._inputStateChanges=rn.EMPTY,this._document=Wn(Ct),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new Te,this.monthSelected=new Te,this.viewChanged=new Te(!0),this.openedStream=new Te,this.closedStream=new Te,this._opened=!1,this.id="mat-datepicker-"+C1e++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Xe,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=at(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=at(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=at(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function jie(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){at(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof aI&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Fd(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(si(1)).subscribe(()=>{const a=this._document.activeElement;e&&(!a||a===this._document.activeElement||s.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new X3(A1e,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new cf({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const a=s.keyCode;(38===a||40===a||37===a||39===a||33===a||34===a)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(si(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",a="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:a,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:a},{originX:r,originY:a,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:a}])}_getCloseStream(e){return oi(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(jn(i=>27===i.keyCode&&!Ji(i)||this.datepickerInput&&Ji(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(S(us),S(Ht),S(dr),S(II),S(Pr,8),S(zr,8),S(b2))},n.\u0275dir=ne({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[Qt]}),n})(),D1e=(()=>{class n extends VI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275cmp=st({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[wt([SI,{provide:VI,useExisting:n}]),me],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class wp{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let E1e=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new Te,this.dateInput=new Te,this.stateChanges=new Xe,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=rn.EMPTY,this._localeSubscription=rn.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!a||this._matchesFilter(a)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),o=this._getMinDate();return!o||!a||this._dateAdapter.compareDate(o,a)<=0?null:{matDatepickerMin:{min:o,actual:a}}},this._maxValidator=s=>{const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),o=this._getMaxDate();return!o||!a||this._dateAdapter.compareDate(o,a)>=0?null:{matDatepickerMax:{max:o,actual:a}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=at(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new wp(this,this._elementRef.nativeElement)),this.dateChange.emit(new wp(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function k1e(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new wp(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new wp(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Pr,8),S(Il,8))},n.\u0275dir=ne({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[Qt]}),n})();const L1e={provide:mr,useExisting:sn(()=>tv),multi:!0},I1e={provide:gr,useExisting:sn(()=>tv),multi:!0};let tv=(()=>{class n extends E1e{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=rn.EMPTY,this._validator=sp.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Pr,8),S(Il,8),S(pf,8))},n.\u0275dir=ne({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&ve("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(Ys("disabled",i.disabled),Je("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[wt([L1e,I1e,{provide:xI,useExisting:n}]),me]}),n})(),V1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),H1e=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=rn.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=at(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:gt(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:gt(),r=this.datepicker?oi(this.datepicker.openedStream,this.datepicker.closedStream):gt();this._stateChanges.unsubscribe(),this._stateChanges=oi(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(S(mf),S(Pn),qr("tabindex"))},n.\u0275cmp=st({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&Fn(r,V1e,5),2&e){let s;vt(s=yt())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&Ln(u1e,5),2&e){let r;vt(r=yt())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&ve("click",function(s){return i._open(s)}),2&e&&(Je("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),nn("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[Qt],ngContentSelectors:h1e,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(li(f1e),I(0,"button",0,1),Le(2,d1e,2,0,"svg",2),Jt(3),V()),2&e&&(U("disabled",i.disabled)("disableRipple",i.disableRipple),Je("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),Y(2),U("ngIf",!i._customIcon))},dependencies:[Kn,Y3],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),R1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[mf,S1e],imports:[pr,F_,Rl,qd,y2,Et,cc]}),n})();function nv(){return ai((n,t)=>{let e=null;n._refCount++;const i=qn(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class iv extends In{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,L1(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new rn;const e=this.getSubject();t.add(this.source.subscribe(qn(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=rn.EMPTY)}return t}refCount(){return nv()(this)}}class Sp{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Xe,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let rv=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P1e=0;const sv=new he("CdkAccordion");let N1e=(()=>{class n{constructor(){this._stateChanges=new Xe,this._openCloseAllActions=new Xe,this.id="cdk-accordion-"+P1e++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=at(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[wt([{provide:sv,useExisting:n}]),Qt]}),n})(),F1e=0,O1e=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=rn.EMPTY,this.closed=new Te,this.opened=new Te,this.destroyed=new Te,this.expandedChange=new Te,this.id="cdk-accordion-child-"+F1e++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((s,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==s&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=at(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=at(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(S(sv,12),S(Pn),S(rv))},n.\u0275dir=ne({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[wt([{provide:sv,useValue:void 0}])]}),n})(),B1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({}),n})();const U1e=["body"];function G1e(n,t){}const W1e=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],j1e=["mat-expansion-panel-header","*","mat-action-row"];function $1e(n,t){1&n&&Re(0,"span",2),2&n&&U("@indicatorRotate",ue()._getExpandedState())}const q1e=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Y1e=["mat-panel-title","mat-panel-description","*"],av=new he("MAT_ACCORDION"),HI="225ms cubic-bezier(0.4,0.0,0.2,1)",RI={indicatorRotate:Nr("indicatorRotate",[Si("collapsed, void",It({transform:"rotate(0deg)"})),Si("expanded",It({transform:"rotate(180deg)"})),Zn("expanded <=> collapsed, void => collapsed",$n(HI))]),bodyExpansion:Nr("bodyExpansion",[Si("collapsed, void",It({height:"0px",visibility:"hidden"})),Si("expanded",It({height:"*",visibility:"visible"})),Zn("expanded <=> collapsed, void => collapsed",$n(HI))])},zI=new he("MAT_EXPANSION_PANEL");let X1e=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}}return n.\u0275fac=function(e){return new(e||n)(S(Ks),S(zI,8))},n.\u0275dir=ne({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),K1e=0;const PI=new he("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let NI=(()=>{class n extends O1e{constructor(e,i,r,s,a,o,c){super(e,i,r),this._viewContainerRef=s,this._animationMode=o,this._hideToggle=!1,this.afterExpand=new Te,this.afterCollapse=new Te,this._inputChanges=new Xe,this._headerId="mat-expansion-panel-header-"+K1e++,this._bodyAnimationDone=new Xe,this.accordion=e,this._document=a,this._bodyAnimationDone.pipe(q6((l,u)=>l.fromState===u.fromState&&l.toState===u.toState)).subscribe(l=>{"void"!==l.fromState&&("expanded"===l.toState?this.afterExpand.emit():"collapsed"===l.toState&&this.afterCollapse.emit())}),c&&(this.hideToggle=c.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=at(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(Tr(null),jn(()=>this.expanded&&!this._portal),si(1)).subscribe(()=>{this._portal=new af(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(S(av,12),S(Pn),S(rv),S(dr),S(Ct),S(fr,8),S(PI,8))},n.\u0275cmp=st({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&Fn(r,X1e,5),2&e){let s;vt(s=yt())&&(i._lazyContent=s.first)}},viewQuery:function(e,i){if(1&e&&Ln(U1e,5),2&e){let r;vt(r=yt())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&nn("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[wt([{provide:av,useValue:void 0},{provide:zI,useExisting:n}]),me,Qt],ngContentSelectors:j1e,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(li(W1e),Jt(0),I(1,"div",0,1),ve("@bodyExpansion.done",function(s){return i._bodyAnimationDone.next(s)}),I(3,"div",2),Jt(4,1),Le(5,G1e,0,0,"ng-template",3),V(),Jt(6,2),V()),2&e&&(Y(1),U("@bodyExpansion",i._getExpandedState())("id",i.id),Je("aria-labelledby",i._headerId),Y(4),U("cdkPortalOutlet",i._portal))},dependencies:[K3],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[RI.bodyExpansion]},changeDetection:0}),n})();class Z1e{}const Q1e=g2(Z1e);let FI=(()=>{class n extends Q1e{constructor(e,i,r,s,a,o,c){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=s,this._animationMode=o,this._parentChangeSubscription=rn.EMPTY;const l=e.accordion?e.accordion._stateChanges.pipe(jn(u=>!(!u.hideToggle&&!u.togglePosition))):Hs;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=oi(e.opened,e.closed,l,e._inputChanges.pipe(jn(u=>!!(u.hideToggle||u.disabled||u.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(jn(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Ji(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(S(NI,1),S(Ge),S(va),S(Pn),S(PI,8),S(fr,8),qr("tabindex"))},n.\u0275cmp=st({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&ve("click",function(){return i._toggle()})("keydown",function(s){return i._keydown(s)}),2&e&&(Je("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),Ts("height",i._getHeaderHeight()),nn("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[me],ngContentSelectors:Y1e,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(li(q1e),I(0,"span",0),Jt(1),Jt(2,1),Jt(3,2),V(),Le(4,$1e,1,1,"span",1)),2&e&&(nn("mat-content-hide-toggle",!i._showToggle()),Y(4),U("ngIf",i._showToggle()))},dependencies:[Kn],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[RI.indicatorRotate]},changeDetection:0}),n})(),J1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),e3e=(()=>{class n extends N1e{constructor(){super(...arguments),this._ownHeaders=new L3,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=at(e)}ngAfterContentInit(){this._headers.changes.pipe(Tr(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new n_(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275dir=ne({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&Fn(r,FI,5),2&e){let s;vt(s=yt())&&(i._headers=s)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&nn("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[wt([{provide:av,useExisting:n}]),me]}),n})(),t3e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[pr,Et,B1e,y2]}),n})();function J3(n){return new In(t=>{Lr(n()).subscribe(t)})}function n3e(n,t){}class Tp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let OI=(()=>{class n extends U_{constructor(e,i,r,s,a,o,c,l){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=a,this._ngZone=o,this._overlayRef=c,this._focusMonitor=l,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const d=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),d},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Fd(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Fd();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Fd())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Q6),S(Ct,8),S(Tp),S(Z6),S(Ht),S(lf),S(va))},n.\u0275cmp=st({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&Ln(K3,7),2&e){let r;vt(r=yt())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&Je("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[me],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&Le(0,n3e,0,0,"ng-template",0)},dependencies:[K3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class ov{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Xe,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ji(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const BI=new he("DialogScrollStrategy"),i3e=new he("DialogData"),r3e=new he("DefaultDialogConfig"),a3e={provide:BI,deps:[us],useFactory:function s3e(n){return()=>n.scrollStrategies.block()}};let o3e=0,UI=(()=>{class n{constructor(e,i,r,s,a,o){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Xe,this._afterOpenedAtThisLevel=new Xe,this._ariaHiddenElements=new Map,this.afterAllClosed=J3(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tr(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new Tp,...i}).id=i.id||"cdk-dialog-"+o3e++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),a=this._overlay.create(s),o=new ov(a,i),c=this._attachContainer(a,o,i);return o.containerInstance=c,this._attachDialogContent(e,o,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.closed.subscribe(()=>this._removeOpenDialog(o,!0)),this.afterOpened.next(o),o}closeAll(){cv(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){cv(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),cv(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new cf({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,a=[{provide:Tp,useValue:r},{provide:ov,useValue:i},{provide:lf,useValue:e}];let o;r.container?"function"==typeof r.container?o=r.container:(o=r.container.type,a.push(...r.container.providers(r))):o=OI;const c=new X3(o,r.viewContainerRef,Gi.create({parent:s||this._injector,providers:a}),r.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,s){if(e instanceof Ks){const a=this._createInjector(s,i,r,void 0);let o={$implicit:s.data,dialogRef:i};s.templateContext&&(o={...o,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new af(e,null,o,a))}else{const a=this._createInjector(s,i,r,this._injector),o=r.attachComponentPortal(new X3(e,s.viewContainerRef,a,s.componentFactoryResolver));i.componentInstance=o.instance}}_createInjector(e,i,r,s){const a=e.injector||e.viewContainerRef?.injector,o=[{provide:i3e,useValue:e.data},{provide:ov,useValue:i}];return e.providers&&("function"==typeof e.providers?o.push(...e.providers(i,e,r)):o.push(...e.providers)),e.direction&&(!a||!a.get(zr,null,Vt.Optional))&&o.push({provide:zr,useValue:{value:e.direction,change:gt()}}),Gi.create({parent:a||s,providers:o})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(j(us),j(Gi),j(r3e,8),j(n,12),j(Mp),j(BI))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();function cv(n,t){let e=n.length;for(;e--;)t(n[e])}let GI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[UI,a3e],imports:[Rl,y2,qd,y2]}),n})();function c3e(n,t){}const e4={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},l3e={dialogContainer:Nr("dialogContainer",[Si("void, exit",It({opacity:0,transform:"scale(0.7)"})),Si("enter",It({transform:"none"})),Zn("* => enter",xp([$n("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",It({transform:"none",opacity:1})),df("@*",uf(),{optional:!0})]),e4),Zn("* => void, * => exit",xp([$n("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",It({opacity:0})),df("@*",uf(),{optional:!0})]),e4)])};class Ap{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=e4.params.enterAnimationDuration,this.exitAnimationDuration=e4.params.exitAnimationDuration}}let u3e=(()=>{class n extends OI{constructor(e,i,r,s,a,o,c,l){super(e,i,r,s,a,o,c,l),this._animationStateChanged=new Te}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Q6),S(Ct,8),S(Ap),S(Z6),S(Ht),S(lf),S(va))},n.\u0275cmp=st({type:n,selectors:[["ng-component"]],features:[me],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),d3e=(()=>{class n extends u3e{constructor(e,i,r,s,a,o,c,l,u){super(e,i,r,s,a,o,c,u),this._changeDetectorRef=l,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||e4.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||e4.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Q6),S(Ct,8),S(Ap),S(Z6),S(Ht),S(lf),S(Pn),S(va))},n.\u0275cmp=st({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&u6("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(Ys("id",i._config.id),Je("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),f6("@dialogContainer",i._getAnimationState()))},features:[me],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&Le(0,c3e,0,0,"ng-template",0)},dependencies:[K3],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[l3e.dialogContainer]}}),n})();class f3e{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Xe,this._beforeClosed=new Xe,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(jn(r=>"opened"===r.state),si(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(jn(r=>"closed"===r.state),si(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),oi(this.backdropClick(),this.keydownEvents().pipe(jn(r=>27===r.keyCode&&!this.disableClose&&!Ji(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function h3e(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(jn(e=>"closing"===e.state),si(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const p3e=new he("MatDialogData"),m3e=new he("mat-dialog-default-options"),WI=new he("mat-dialog-scroll-strategy"),_3e={provide:WI,deps:[us],useFactory:function g3e(n){return()=>n.scrollStrategies.block()}};let v3e=0,y3e=(()=>{class n{constructor(e,i,r,s,a,o,c,l,u,d){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=c,this._dialogContainerType=l,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Xe,this._afterOpenedAtThisLevel=new Xe,this._idPrefix="mat-dialog-",this.afterAllClosed=J3(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tr(void 0))),this._scrollStrategy=o,this._dialog=i.get(UI)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new Ap,...i}).id=i.id||`${this._idPrefix}${v3e++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Ap,useValue:i},{provide:Tp,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(a,o,c)=>(r=new this._dialogRefConstructor(a,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:o.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(r);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){da()},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),b3e=(()=>{class n extends y3e{constructor(e,i,r,s,a,o,c,l){super(e,i,s,o,c,a,f3e,d3e,p3e,l)}}return n.\u0275fac=function(e){return new(e||n)(j(us),j(Gi),j(Ld,8),j(m3e,8),j(WI),j(n,12),j(Mp),j(fr,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),M3e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[b3e,_3e],imports:[GI,Rl,y2,Et,Et]}),n})();function t4(n,t){const e=bn(n)?n:()=>n,i=r=>r.error(e());return new In(t?r=>t.schedule(i,0,r):i)}function uc(n){return ai((t,e)=>{let s,i=null,r=!1;i=t.subscribe(qn(e,void 0,void 0,a=>{s=Lr(n(a,uc(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Dp(n){return ai((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function M2(n,t){return bn(t)?Oi(n,t,1):Oi(n,1)}class jI{}class $I{}class dc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof dc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new dc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof dc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(o=>-1===s.indexOf(o)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class x3e{encodeKey(t){return qI(t)}encodeValue(t){return qI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const w3e=/%(\d[a-f0-9])/gi,S3e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qI(n){return encodeURIComponent(n).replace(w3e,(t,e)=>S3e[e]??t)}function Ep(n){return`${n}`}class fc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new x3e,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function C3e(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,o]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],c=e.get(a)||[];c.push(o),e.set(a,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Ep):[Ep(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new fc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Ep(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Ep(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class T3e{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function YI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function XI(n){return typeof Blob<"u"&&n instanceof Blob}function KI(n){return typeof FormData<"u"&&n instanceof FormData}class _f{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function A3e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new dc),this.context||(this.context=new T3e),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const o=e.indexOf("?");this.urlWithParams=e+(-1===o?"?":o<e.length-1?"&":"")+a}}else this.params=new fc,this.urlWithParams=e}serializeBody(){return null===this.body?null:YI(this.body)||XI(this.body)||KI(this.body)||function D3e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KI(this.body)?null:XI(this.body)?this.body.type||null:YI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const u=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((d,f)=>d.set(f,t.setHeaders[f]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((d,f)=>d.set(f,t.setParams[f]),l)),new _f(e,i,s,{params:l,headers:c,context:u,reportProgress:o,responseType:r,withCredentials:a})}}var tr=(()=>((tr=tr||{})[tr.Sent=0]="Sent",tr[tr.UploadProgress=1]="UploadProgress",tr[tr.ResponseHeader=2]="ResponseHeader",tr[tr.DownloadProgress=3]="DownloadProgress",tr[tr.Response=4]="Response",tr[tr.User=5]="User",tr))();class lv{constructor(t,e=200,i="OK"){this.headers=t.headers||new dc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class uv extends lv{constructor(t={}){super(t),this.type=tr.ResponseHeader}clone(t={}){return new uv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kp extends lv{constructor(t={}){super(t),this.type=tr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new kp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ZI extends lv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function dv(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let vf=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof _f)s=e;else{let c,l;c=r.headers instanceof dc?r.headers:new dc(r.headers),r.params&&(l=r.params instanceof fc?r.params:new fc({fromObject:r.params})),s=new _f(e,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=gt(s).pipe(M2(c=>this.handler.handle(c)));if(e instanceof _f||"events"===r.observe)return a;const o=a.pipe(jn(c=>c instanceof kp));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return o.pipe(Lt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return o.pipe(Lt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return o.pipe(Lt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return o.pipe(Lt(c=>c.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new fc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,dv(r,i))}post(e,i,r={}){return this.request("POST",e,dv(r,i))}put(e,i,r={}){return this.request("PUT",e,dv(r,i))}}return n.\u0275fac=function(e){return new(e||n)(j(jI))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class QI{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const JI=new he("HTTP_INTERCEPTORS");let E3e=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const k3e=/^\)\]\}',?\n/;let eV=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new In(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((h,p)=>r.setRequestHeader(h,p.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const h=e.detectContentTypeHeader();null!==h&&r.setRequestHeader("Content-Type",h)}if(e.responseType){const h=e.responseType.toLowerCase();r.responseType="json"!==h?h:"text"}const s=e.serializeBody();let a=null;const o=()=>{if(null!==a)return a;const h=r.statusText||"OK",p=new dc(r.getAllResponseHeaders()),v=function L3e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new uv({headers:p,status:r.status,statusText:h,url:v}),a},c=()=>{let{headers:h,status:p,statusText:v,url:g}=o(),m=null;204!==p&&(m=typeof r.response>"u"?r.responseText:r.response),0===p&&(p=m?200:0);let C=p>=200&&p<300;if("json"===e.responseType&&"string"==typeof m){const b=m;m=m.replace(k3e,"");try{m=""!==m?JSON.parse(m):null}catch(T){m=b,C&&(C=!1,m={error:T,text:m})}}C?(i.next(new kp({body:m,headers:h,status:p,statusText:v,url:g||void 0})),i.complete()):i.error(new ZI({error:m,headers:h,status:p,statusText:v,url:g||void 0}))},l=h=>{const{url:p}=o(),v=new ZI({error:h,status:r.status||0,statusText:r.statusText||"Unknown Error",url:p||void 0});i.error(v)};let u=!1;const d=h=>{u||(i.next(o()),u=!0);let p={type:tr.DownloadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),"text"===e.responseType&&!!r.responseText&&(p.partialText=r.responseText),i.next(p)},f=h=>{let p={type:tr.UploadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),i.next(p)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),e.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",f)),r.send(s),i.next({type:tr.Sent}),()=>{r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),e.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",f)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(j(eE))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const fv=new he("XSRF_COOKIE_NAME"),hv=new he("XSRF_HEADER_NAME");class tV{}let I3e=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=GD(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(j(Ct),j(ha),j(fv))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),pv=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(j(tV),j(hv))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),V3e=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(JI,[]);this.chain=i.reduceRight((r,s)=>new QI(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(j($I),j(Gi))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),H3e=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:pv,useClass:E3e}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:fv,useValue:e.cookieName}:[],e.headerName?{provide:hv,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[pv,{provide:JI,useExisting:pv,multi:!0},{provide:tV,useClass:I3e},{provide:fv,useValue:"XSRF-TOKEN"},{provide:hv,useValue:"X-XSRF-TOKEN"}]}),n})(),R3e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[vf,{provide:jI,useClass:V3e},eV,{provide:$I,useExisting:eV}],imports:[H3e.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const z3e=["*"];let Lp;function yf(n){return function P3e(){if(void 0===Lp&&(Lp=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Lp=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Lp}()?.createHTML(n)||n}function nV(n){return Error(`Unable to find icon with the name "${n}"`)}function iV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function rV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class zl{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Ip=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new zl(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const a=this._sanitizer.sanitize(Nn.HTML,r);if(!a)throw rV(r);const o=yf(a);return this._addSvgIconConfig(e,i,new zl("",o,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new zl(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(Nn.HTML,i);if(!s)throw rV(i);const a=yf(s);return this._addSvgIconSetConfig(e,new zl("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Nn.RESOURCE_URL,e);if(!i)throw iV(e);const r=this._cachedIconsByUrl.get(i);return r?gt(Vp(r)):this._loadSvgIconFromConfig(new zl(e,null)).pipe(ri(s=>this._cachedIconsByUrl.set(i,s)),Lt(s=>Vp(s)))}getNamedSvgIcon(e,i=""){const r=sV(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):t4(nV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?gt(Vp(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Lt(i=>Vp(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?gt(r):Dk(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(uc(o=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Nn.RESOURCE_URL,a.url)} failed: ${o.message}`;return this._errorHandler.handleError(new Error(l)),gt(null)})))).pipe(Lt(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw nV(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(s),o=this._extractSvgIconFromSet(a,e,s.options);if(o)return o}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(ri(i=>e.svgText=i),Lt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?gt(null):this._fetchIcon(e).pipe(ri(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const o=this._svgElementFromString(yf("<svg></svg>"));return o.appendChild(a),this._setSvgAttributes(o,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(yf("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:a,value:o}=r[s];"id"!==a&&i.setAttribute(a,o)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function N3e(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(Nn.RESOURCE_URL,i);if(!a)throw iV(i);const o=this._inProgressUrlFetches.get(a);if(o)return o;const c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(Lt(l=>yf(l)),Dp(()=>this._inProgressUrlFetches.delete(a)),Vr());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(sV(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return O3e(s)?new zl(s.url,null,s.options):new zl(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(j(vf,8),j(P3),j(Ct,8),j(Zo))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vp(n){return n.cloneNode(!0)}function sV(n,t){return n+":"+t}function O3e(n){return!(!n.url||!n.options)}const B3e=wo(class{constructor(n){this._elementRef=n}}),U3e=new he("MAT_ICON_DEFAULT_OPTIONS"),G3e=new he("mat-icon-location",{providedIn:"root",factory:function W3e(){const n=Wn(Ct),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),aV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],j3e=aV.map(n=>`[${n}]`).join(", "),$3e=/^url\(['"]?#(.*?)['"]?\)$/;let oV=(()=>{class n extends B3e{constructor(e,i,r,s,a,o){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=rn.EMPTY,o&&(o.color&&(this.color=this.defaultColor=o.color),o.fontSet&&(this.fontSet=o.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=at(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(j3e),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)aV.forEach(a=>{const o=i[s],c=o.getAttribute(a),l=c?c.match($3e):null;if(l){let u=r.get(o);u||(u=[],r.set(o,u)),u.push({name:a,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(si(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Ip),qr("aria-hidden"),S(G3e),S(Zo),S(U3e,8))},n.\u0275cmp=st({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(Je("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),nn("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[me],ngContentSelectors:z3e,decls:1,vars:0,template:function(e,i){1&e&&(li(),Jt(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),cV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Et,Et]}),n})(),q3e=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=at(e)}get inset(){return this._inset}set inset(e){this._inset=at(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(Je("aria-orientation",i.vertical?"vertical":"horizontal"),nn("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),Y3e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Et,Et]}),n})(),c4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[_p,v2,Et,P_,pr,_p,Et,P_,Y3e]}),n})();const f4e={provide:new he("mat-menu-scroll-strategy"),deps:[us],useFactory:function d4e(n){return()=>n.scrollStrategies.reposition()}};let h4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[f4e],imports:[pr,Et,v2,Rl,cc,Et]}),n})(),T4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[v2,Et,Et]}),n})();function ds(n,t){return ai((e,i)=>{let r=null,s=0,a=!1;const o=()=>a&&!r&&i.complete();e.subscribe(qn(i,c=>{r?.unsubscribe();let l=0;const u=s++;Lr(n(c,u)).subscribe(r=qn(i,d=>i.next(t?t(c,d,u,l++):d),()=>{r=null,o()}))},()=>{a=!0,o()}))})}const A4e=["trigger"],D4e=["panel"];function E4e(n,t){if(1&n&&(I(0,"span",8),K(1),V()),2&n){const e=ue();Y(1),ur(e.placeholder)}}function k4e(n,t){if(1&n&&(I(0,"span",12),K(1),V()),2&n){const e=ue(2);Y(1),ur(e.triggerValue)}}function L4e(n,t){1&n&&Jt(0,0,["*ngSwitchCase","true"])}function I4e(n,t){1&n&&(I(0,"span",9),Le(1,k4e,2,1,"span",10),Le(2,L4e,1,0,"ng-content",11),V()),2&n&&(U("ngSwitch",!!ue().customTrigger),Y(2),U("ngSwitchCase",!0))}function V4e(n,t){if(1&n){const e=fi();I(0,"div",13)(1,"div",14,15),ve("@transformPanel.done",function(r){return dt(e),ft(ue()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return dt(e),ft(ue()._handleKeydown(r))}),Jt(3,1),V()()}if(2&n){const e=ue();U("@transformPanelWrap",void 0),Y(1),DT("mat-select-panel ",e._getPanelTheme(),""),Ts("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),U("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),Je("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const H4e=[[["mat-select-trigger"]],"*"],R4e=["mat-select-trigger","*"],pV={transformPanelWrap:Nr("transformPanelWrap",[Zn("* => void",df("@transformPanel",[uf()],{optional:!0}))]),transformPanel:Nr("transformPanel",[Si("void",It({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Si("showing",It({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Si("showing-multiple",It({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Zn("void => *",$n("120ms cubic-bezier(0, 0, 0.2, 1)")),Zn("* => void",$n("100ms 25ms linear",It({opacity:0})))])};let mV=0;const _V=new he("mat-select-scroll-strategy"),F4e=new he("MAT_SELECT_CONFIG"),O4e={provide:_V,deps:[us],useFactory:function N4e(n){return()=>n.scrollStrategies.reposition()}};class B4e{constructor(t,e){this.source=t,this.value=e}}const U4e=m2(g2(Ll(H_(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Xe}})))),G4e=new he("MatSelectTrigger");let W4e=(()=>{class n extends U4e{constructor(e,i,r,s,a,o,c,l,u,d,f,h,p,v){super(a,s,c,l,d),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._parentFormField=u,this._liveAnnouncer=p,this._defaultOptions=v,this._panelOpen=!1,this._compareWith=(g,m)=>g===m,this._uid="mat-select-"+mV++,this._triggerAriaLabelledBy=null,this._destroy=new Xe,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+mV++,this._panelDoneAnimatingStream=new Xe,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=J3(()=>{const g=this.options;return g?g.changes.pipe(Tr(g),ds(()=>oi(...g.map(m=>m.onSelectionChange)))):this._ngZone.onStable.pipe(si(1),ds(()=>this.optionSelectionChanges))}),this.openedChange=new Te,this._openedStream=this.openedChange.pipe(jn(g=>g),Lt(()=>{})),this._closedStream=this.openedChange.pipe(jn(g=>!g),Lt(()=>{})),this.selectionChange=new Te,this.valueChange=new Te,this.ngControl&&(this.ngControl.valueAccessor=this),null!=v?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=v.typeaheadDebounceInterval),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(f)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(sp.required)??!1}set required(e){this._required=at(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=at(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=at(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=ji(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Sp(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(q6(),en(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(en(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Tr(null),en(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&s&&!Ji(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const o=this.selected;a.onKeydown(e);const c=this.selected;c&&o!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,a=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(a||13!==r&&32!==r||!i.activeItem||Ji(e))if(!a&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const o=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(o?c.select():c.deselect())})}else{const o=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==o&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(si(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new lre(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(en(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(en(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=oi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(en(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),oi(...this.options.map(i=>i._stateChanges)).pipe(en(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(S(sf),S(Pn),S(Ht),S(tf),S(Ge),S(zr,8),S($3,8),S(q3,8),S(pf,8),S(ja,10),qr("tabindex"),S(_V),S(Dre),S(F4e,8))},n.\u0275dir=ne({type:n,viewQuery:function(e,i){if(1&e&&(Ln(A4e,5),Ln(D4e,5),Ln(fI,5)),2&e){let r;vt(r=yt())&&(i.trigger=r.first),vt(r=yt())&&(i.panel=r.first),vt(r=yt())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[me,Qt]}),n})(),j4e=(()=>{class n extends W4e{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(en(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(si(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=N_(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function WL(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new B4e(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let l=this._selectionModel.selected[0]||this.options.first;a=l&&l.group?32:16}r||(a*=-1);const o=0-(e.left+a-(r?s:0)),c=e.right+a-i.width+(r?0:s);o>0?a+=o+8:c>0&&(a-=c+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),a=(s-this._triggerRect.height)/2,o=Math.floor(256/s);let c;return this.disableOptionCentering?0:(c=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-o))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*c-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,a=r.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),l=Math.min(this._getItemCount()*i,256)-o-this._triggerRect.height;l>a?this._adjustPanelUp(l,a):o>s?this._adjustPanelDown(o,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),a=i*e-r;let o;o=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),o+=N_(o,this.options,this.optionGroups);const c=r/2;this._scrollTop=this._calculateOverlayScroll(o,c,a),this._offsetY=this._calculateOverlayOffsetY(o,c,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275cmp=st({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(Fn(r,G4e,5),Fn(r,GL,5),Fn(r,BL,5)),2&e){let s;vt(s=yt())&&(i.customTrigger=s.first),vt(s=yt())&&(i.options=s),vt(s=yt())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&ve("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(Je("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),nn("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[wt([{provide:hf,useExisting:n},{provide:OL,useExisting:n}]),me],ngContentSelectors:R4e,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(li(H4e),I(0,"div",0,1),ve("click",function(){return i.toggle()}),I(3,"div",2),Le(4,E4e,2,1,"span",3),Le(5,I4e,3,2,"span",4),V(),I(6,"div",5),Re(7,"div",6),V()(),Le(8,V4e,4,14,"ng-template",7),ve("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=ki(1);Je("aria-owns",i.panelOpen?i.id+"-panel":null),Y(3),U("ngSwitch",i.empty),Je("id",i._valueId),Y(1),U("ngSwitchCase",!0),Y(1),U("ngSwitchCase",!1),Y(3),U("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[Sr,c2,R3,YD,fI,dI],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[pV.transformPanelWrap,pV.transformPanel]},changeDetection:0}),n})(),vV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[O4e],imports:[pr,Rl,vp,Et,cc,Z3,vp,Et]}),n})(),q4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[pr,Et,cc,cc,Et]}),n})(),Q4e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[pr,Et,y2,v2,jd,qd,Et]}),n})();const J4e=["*",[["mat-toolbar-row"]]],eue=["*","mat-toolbar-row"],tue=wo(class{constructor(n){this._elementRef=n}});let yV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),nue=(()=>{class n extends tue{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Qi),S(Ct))},n.\u0275cmp=st({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&Fn(r,yV,5),2&e){let s;vt(s=yt())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&nn("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[me],ngContentSelectors:eue,decls:2,vars:0,template:function(e,i){1&e&&(li(J4e),Jt(0),Jt(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),bV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Et,Et]}),n})();const iue=["tooltip"],MV="tooltip-panel",xV=u2({passive:!0}),CV=new he("mat-tooltip-scroll-strategy"),oue={provide:CV,deps:[us],useFactory:function aue(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},cue=new he("mat-tooltip-default-options",{providedIn:"root",factory:function lue(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let uue=(()=>{class n{constructor(e,i,r,s,a,o,c,l,u,d,f,h){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=a,this._platform=o,this._ariaDescriber=c,this._focusMonitor=l,this._dir=d,this._defaultOptions=f,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Xe,this._scrollStrategy=u,this._document=h,f&&(f.position&&(this.position=f.position),f.touchGestures&&(this.touchGestures=f.touchGestures)),d.change.pipe(en(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=at(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ji(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ji(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(en(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,xV)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new X3(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(en(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(en(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${MV}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(en(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(en(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(en(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Ji(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:a}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:a}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:a}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(si(1),en(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let a;if(a="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",a!==this._currentPosition){const o=this._overlayRef;if(o){const c=`${this._cssClassPrefix}-${MV}-`;o.removePanelClass(c+this._currentPosition),o.addPanelClass(c+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,xV)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){da()},n.\u0275dir=ne({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),due=(()=>{class n extends uue{constructor(e,i,r,s,a,o,c,l,u,d,f,h){super(e,i,r,s,a,o,c,l,u,d,f,h),this._tooltipComponent=hue}}return n.\u0275fac=function(e){return new(e||n)(S(us),S(Ge),S(QL),S(dr),S(Ht),S(Qi),S(cre),S(va),S(CV),S(zr,8),S(cue,8),S(Ct))},n.\u0275dir=ne({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[me]}),n})(),fue=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Xe,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const a=getComputedStyle(i);("0s"===a.getPropertyValue("animation-duration")||"none"===a.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(S(Pn),S(fr,8))},n.\u0275dir=ne({type:n}),n})(),hue=(()=>{class n extends fue{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(S(Pn),S(IE),S(fr,8))},n.\u0275cmp=st({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&Ln(iue,7),2&e){let r;vt(r=yt())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&ve("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&Ts("zoom",i.isVisible()?1:null)},features:[me],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(I(0,"div",0,1),ve("animationend",function(s){return i._handleAnimationEnd(s)}),ii(2,"async"),K(3),V()),2&e){let r;nn("mat-tooltip-handset",null==(r=Xs(2,4,i._isHandset))?null:r.matches),U("ngClass",i.tooltipClass),Y(3),ur(i.message)}},dependencies:[Sr,P6],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),wV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[oue],imports:[qd,pr,Rl,Et,Et,cc]}),n})(),vue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({}),n})(),Tue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[vue,Et,Et]}),n})();const Aue=["*"],TV=new he("MatChipRemove"),AV=new he("MatChipAvatar"),DV=new he("MatChipTrailingIcon");class Due{constructor(t){this._elementRef=t}}const Eue=g2(wo(m2(Due),"primary"),-1);let Pp=(()=>{class n extends Eue{constructor(e,i,r,s,a,o,c,l){super(e),this._ngZone=i,this._changeDetectorRef=a,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this.role="option",this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Xe,this._onBlur=new Xe,this.selectionChange=new Te,this.destroyed=new Te,this.removed=new Te,this._addHostClassName(),this._chipRippleTarget=o.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new PL(this,i,this._chipRippleTarget,r),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=s||{},this._animationsDisabled="NoopAnimations"===c,this.tabIndex=null!=l&&parseInt(l)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const i=at(e);i!==this._selected&&(this._selected=i,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=at(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=at(e)}get removable(){return this._removable}set removable(e){this._removable=at(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",i=this._elementRef.nativeElement;i.hasAttribute(e)||i.tagName.toLowerCase()===e?i.classList.add(e):i.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled&&e.preventDefault()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case 46:case 8:this.remove(),e.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe(si(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Ht),S(Qi),S(NL,8),S(Pn),S(Ct),S(fr,8),qr("tabindex"))},n.\u0275dir=ne({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,i,r){if(1&e&&(Fn(r,AV,5),Fn(r,DV,5),Fn(r,TV,5)),2&e){let s;vt(s=yt())&&(i.avatar=s.first),vt(s=yt())&&(i.trailingIcon=s.first),vt(s=yt())&&(i.removeIcon=s.first)}},hostAttrs:[1,"mat-chip","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&ve("click",function(s){return i._handleClick(s)})("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i.focus()})("blur",function(){return i._blur()}),2&e&&(Je("tabindex",i.disabled?null:i.tabIndex)("role",i.role)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString())("aria-selected",i.ariaSelected),nn("mat-chip-selected",i.selected)("mat-chip-with-avatar",i.avatar)("mat-chip-with-trailing-icon",i.trailingIcon||i.removeIcon)("mat-chip-disabled",i.disabled)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[me]}),n})();const EV=new he("mat-chips-default-options"),Vue=H_(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Xe}});let Hue=0;class Rue{constructor(t,e){this.source=t,this.value=e}}let kV=(()=>{class n extends Vue{constructor(e,i,r,s,a,o,c){super(o,s,a,c),this._elementRef=e,this._changeDetectorRef=i,this._dir=r,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Xe,this._uid="mat-chip-list-"+Hue++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(l,u)=>l===u,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new Te,this.valueChange=new Te,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get role(){return this._explicitRole?this._explicitRole:this.empty?null:"listbox"}set role(e){this._explicitRole=e}get multiple(){return this._multiple}set multiple(e){this._multiple=at(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(sp.required)??!1}set required(e){this._required=at(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=at(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=at(e),this._syncChipsState()}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return oi(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return oi(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return oi(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return oi(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new n_(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(en(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe(en(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Tr(null),en(this._destroyed)).subscribe(()=>{(this.disabled||!this.selectable)&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Sp(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const i=e.target;i&&i.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,i=!0){if(this._clearSelection(),this.chips.forEach(r=>r.deselect()),Array.isArray(e))e.forEach(r=>this._selectValue(r,i)),this._sortValues();else{const r=this._selectValue(e,i);r&&i&&this._keyManager.setActiveItem(r)}}_selectValue(e,i=!0){const r=this.chips.find(s=>null!=s.value&&this._compareWith(s.value,e));return r&&(i?r.selectViaInteraction():r.select(),this._selectionModel.select(r)),r}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(i=>{i!==e&&i.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let i=null;i=Array.isArray(this.selected)?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.change.emit(new Rue(this,i)),this.valueChange.emit(i),this._onChange(i),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(i=>{!this._selectionModel.isSelected(i)&&i.selected&&i.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let i=this.chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&this._keyManager.updateActiveItem(i),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const i=e.chip,r=this.chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&i._hasFocus&&(this._lastDestroyedChipIndex=r)})}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-chip"))return!0;i=i.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable})}}return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Pn),S(zr,8),S($3,8),S(q3,8),S(tf),S(ja,10))},n.\u0275cmp=st({type:n,selectors:[["mat-chip-list"]],contentQueries:function(e,i,r){if(1&e&&Fn(r,Pp,5),2&e){let s;vt(s=yt())&&(i.chips=s)}},hostAttrs:[1,"mat-chip-list"],hostVars:14,hostBindings:function(e,i){1&e&&ve("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(s){return i._keydown(s)}),2&e&&(Ys("id",i._uid),Je("tabindex",i.disabled?null:i._tabIndex)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-multiselectable",i.multiple)("role",i.role)("aria-orientation",i.ariaOrientation),nn("mat-chip-list-disabled",i.disabled)("mat-chip-list-invalid",i.errorState)("mat-chip-list-required",i.required))},inputs:{role:"role",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[wt([{provide:hf,useExisting:n}]),me],ngContentSelectors:Aue,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,i){1&e&&(li(),I(0,"div",0),Jt(1),V())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-chip::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}.mat-standard-chip._mat-animation-noopable{transition:none !important;animation:none !important}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}'],encapsulation:2,changeDetection:0}),n})(),Nue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[tf,{provide:EV,useValue:{separatorKeyCodes:[13]}}],imports:[Et]}),n})(),LV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({}),n})(),Zue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[LV,v2,Et,jd,LV,Et]}),n})(),Jue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[pr,Et,Et]}),n})();function ede(n,t){if(1&n&&(ti(),Re(0,"circle",4)),2&n){const e=ue(),i=ki(1);Ts("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),Je("r",e._getCircleRadius())}}function tde(n,t){if(1&n&&(ti(),Re(0,"circle",4)),2&n){const e=ue(),i=ki(1);Ts("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),Je("r",e._getCircleRadius())}}const ide=wo(class{constructor(n){this._elementRef=n}},"primary"),rde=new he("mat-progress-spinner-default-options",{providedIn:"root",factory:function sde(){return{diameter:100}}});class x2 extends ide{constructor(t,e,i,r,s,a,o,c){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=rn.EMPTY,this.mode="determinate";const l=x2._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),l.has(i.head)||l.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.color&&(this.color=this.defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),e.isBrowser&&e.SAFARI&&o&&a&&c&&(this._resizeSubscription=o.change(150).subscribe(()=>{"indeterminate"===this.mode&&c.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=ji(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=ji(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,ji(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=SE(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=x2._diameters;let r=i.get(t);if(!r||!r.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),t.appendChild(s),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}x2._diameters=new WeakMap,x2.\u0275fac=function(t){return new(t||x2)(S(Ge),S(Qi),S(Ct,8),S(fr,8),S(rde),S(Pn),S(sf),S(Ht))},x2.\u0275cmp=st({type:x2,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(Je("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),Ts("width",e.diameter,"px")("height",e.diameter,"px"),nn("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[me],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(ti(),I(0,"svg",0,1),Le(2,ede,1,11,"circle",2),Le(3,tde,1,9,"circle",3),V()),2&t&&(Ts("width",e.diameter,"px")("height",e.diameter,"px"),U("ngSwitch","indeterminate"===e.mode),Je("viewBox",e._getViewBox()),Y(2),U("ngSwitchCase",!0),Y(1),U("ngSwitchCase",!1))},dependencies:[c2,R3],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let IV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Et,pr,Et]}),n})(),lde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[_p,Et,_p,Et]}),n})(),ude=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[GI,Et,y2,Et]}),n})();const gde={provide:new he("mat-autocomplete-scroll-strategy"),deps:[us],useFactory:function mde(n){return()=>n.scrollStrategies.reposition()}};let bde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[gde],imports:[Rl,vp,Et,pr,cc,vp,Et]}),n})(),Lde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[pr,Et,Et]}),n})();const Np=ts(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Fp(n){return ai((t,e)=>{let i=!1;t.subscribe(qn(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function FV(n=Ide){return ai((t,e)=>{let i=!1;t.subscribe(qn(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Ide(){return new Np}function C2(n,t){const e=arguments.length>=2;return i=>i.pipe(n?jn((r,s)=>n(r,s,i)):la,si(1),e?Fp(t):FV(()=>new Np))}function Vde(n,t,e,i,r){return(s,a)=>{let o=e,c=t,l=0;s.subscribe(qn(a,u=>{const d=l++;c=o?n(c,u,d):(o=!0,u),i&&a.next(c)},r&&(()=>{o&&a.next(c),a.complete()})))}}function OV(n,t){return ai(Vde(n,t,arguments.length>=2,!0))}function Mv(n){return n<=0?()=>Hs:ai((t,e)=>{let i=[];t.subscribe(qn(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function BV(n,t){const e=arguments.length>=2;return i=>i.pipe(n?jn((r,s)=>n(r,s,i)):la,Mv(1),e?Fp(t):FV(()=>new Np))}const pn="primary",Cf=Symbol("RouteTitle");class Hde{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function r4(n){return new Hde(n)}function Rde(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],o=n[s];if(a.startsWith(":"))r[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function To(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!UV(n[r],t[r]))return!1;return!0}function UV(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function GV(n){return Array.prototype.concat.apply([],n)}function WV(n){return n.length>0?n[n.length-1]:null}function Fr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function w2(n){return zg(n)?n:bd(n)?Un(Promise.resolve(n)):gt(n)}const Nde={exact:function qV(n,t,e){if(!Fl(n.segments,t.segments)||!Op(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!qV(n.children[i],t.children[i],e))return!1;return!0},subset:YV},jV={exact:function Fde(n,t){return To(n,t)},subset:function Ode(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>UV(n[e],t[e]))},ignored:()=>!0};function $V(n,t,e){return Nde[e.paths](n.root,t.root,e.matrixParams)&&jV[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function YV(n,t,e){return XV(n,t,t.segments,e)}function XV(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Fl(r,e)||t.hasChildren()||!Op(r,e,i))}if(n.segments.length===e.length){if(!Fl(n.segments,e)||!Op(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!YV(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Fl(n.segments,r)&&Op(n.segments,r,i)&&n.children[pn])&&XV(n.children[pn],t,s,i)}}function Op(n,t,e){return t.every((i,r)=>jV[e](n[r].parameters,i.parameters))}class Nl{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=r4(this.queryParams)),this._queryParamMap}toString(){return Gde.serialize(this)}}class _n{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Fr(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bp(this)}}class wf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=r4(this.parameters)),this._parameterMap}toString(){return JV(this)}}function Fl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let KV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:function(){return new Cv},providedIn:"root"}),n})();class Cv{parse(t){const e=new Qde(t);return new Nl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Sf(t.root,!0)}`,i=function $de(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Up(e)}=${Up(r)}`).join("&"):`${Up(e)}=${Up(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Wde(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Gde=new Cv;function Bp(n){return n.segments.map(t=>JV(t)).join("/")}function Sf(n,t){if(!n.hasChildren())return Bp(n);if(t){const e=n.children[pn]?Sf(n.children[pn],!1):"",i=[];return Fr(n.children,(r,s)=>{s!==pn&&i.push(`${s}:${Sf(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ude(n,t){let e=[];return Fr(n.children,(i,r)=>{r===pn&&(e=e.concat(t(i,r)))}),Fr(n.children,(i,r)=>{r!==pn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===pn?[Sf(n.children[pn],!1)]:[`${r}:${Sf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pn]?`${Bp(n)}/${e[0]}`:`${Bp(n)}/(${e.join("//")})`}}function ZV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Up(n){return ZV(n).replace(/%3B/gi,";")}function wv(n){return ZV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gp(n){return decodeURIComponent(n)}function QV(n){return Gp(n.replace(/\+/g,"%20"))}function JV(n){return`${wv(n.path)}${function jde(n){return Object.keys(n).map(t=>`;${wv(t)}=${wv(n[t])}`).join("")}(n.parameters)}`}const qde=/^[^\/()?;=#]+/;function Wp(n){const t=n.match(qde);return t?t[0]:""}const Yde=/^[^=?&#]+/,Kde=/^[^&#]+/;class Qde{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _n([],{}):new _n([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[pn]=new _n(t,e)),i}parseSegment(){const t=Wp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new we(4009,!1);return this.capture(t),new wf(Gp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Wp(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Wp(this.remaining);r&&(i=r,this.capture(i))}t[Gp(e)]=Gp(i)}parseQueryParam(t){const e=function Xde(n){const t=n.match(Yde);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function Zde(n){const t=n.match(Kde);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=QV(e),s=QV(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Wp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new we(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=pn);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[pn]:new _n([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new we(4011,!1)}}function Sv(n){return n.segments.length>0?new _n([],{[pn]:n}):n}function jp(n){const t={};for(const i of Object.keys(n.children)){const s=jp(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Jde(n){if(1===n.numberOfChildren&&n.children[pn]){const t=n.children[pn];return new _n(n.segments.concat(t.segments),t.children)}return n}(new _n(n.segments,t))}function Ol(n){return n instanceof Nl}function nfe(n,t,e,i,r){if(0===e.length)return s4(t.root,t.root,t.root,i,r);const s=function nH(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tH(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const o={};return Fr(s.outlets,(c,l)=>{o[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:o}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((o,c)=>{0==c&&"."===o||(0==c&&""===o?e=!0:".."===o?t++:""!=o&&r.push(o))}),r):[...r,s]},[]);return new tH(e,t,i)}(e);return s.toRoot()?s4(t.root,t.root,new _n([],{}),i,r):function a(c){const l=function rfe(n,t,e,i){if(n.isAbsolute)return new a4(t.root,!0,0);if(-1===i)return new a4(e,e===t.root,0);return function iH(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new we(4005,!1);r=i.segments.length}return new a4(i,!1,r-s)}(e,i+(Tf(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,c),u=l.processChildren?Df(l.segmentGroup,l.index,s.commands):Av(l.segmentGroup,l.index,s.commands);return s4(t.root,l.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function Tf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Af(n){return"object"==typeof n&&null!=n&&n.outlets}function s4(n,t,e,i,r){let a,s={};i&&Fr(i,(c,l)=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),a=n===t?e:eH(n,t,e);const o=Sv(jp(a));return new Nl(o,s,r)}function eH(n,t,e){const i={};return Fr(n.children,(r,s)=>{i[s]=r===t?e:eH(r,t,e)}),new _n(n.segments,i)}class tH{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Tf(i[0]))throw new we(4003,!1);const r=i.find(Af);if(r&&r!==WV(i))throw new we(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class a4{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Av(n,t,e){if(n||(n=new _n([],{})),0===n.segments.length&&n.hasChildren())return Df(n,t,e);const i=function afe(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],o=e[i];if(Af(o))break;const c=`${o}`,l=i<e.length-1?e[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!sH(c,l,a))return s;i+=2}else{if(!sH(c,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new _n(n.segments.slice(0,i.pathIndex),{});return s.children[pn]=new _n(n.segments.slice(i.pathIndex),n.children),Df(s,0,r)}return i.match&&0===r.length?new _n(n.segments,{}):i.match&&!n.hasChildren()?Dv(n,t,e):i.match?Df(n,0,r):Dv(n,t,e)}function Df(n,t,e){if(0===e.length)return new _n(n.segments,{});{const i=function sfe(n){return Af(n[0])?n[0].outlets:{[pn]:n}}(e),r={};return Fr(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=Av(n.children[a],t,s))}),Fr(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new _n(n.segments,r)}}function Dv(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Af(s)){const c=ofe(s.outlets);return new _n(i,c)}if(0===r&&Tf(e[0])){i.push(new wf(n.segments[t].path,rH(e[0]))),r++;continue}const a=Af(s)?s.outlets[pn]:`${s}`,o=r<e.length-1?e[r+1]:null;a&&o&&Tf(o)?(i.push(new wf(a,rH(o))),r+=2):(i.push(new wf(a,{})),r++)}return new _n(i,{})}function ofe(n){const t={};return Fr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Dv(new _n([],{}),0,e))}),t}function rH(n){const t={};return Fr(n,(e,i)=>t[i]=`${e}`),t}function sH(n,t,e){return n==e.path&&To(t,e.parameters)}class pc{constructor(t,e){this.id=t,this.url=e}}class Ev extends pc{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bl extends pc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $p extends pc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class aH extends pc{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cfe extends pc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lfe extends pc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ufe extends pc{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dfe extends pc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ffe extends pc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hfe{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pfe{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mfe{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gfe{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _fe{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vfe{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oH{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class cH{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=kv(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=kv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Lv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Lv(t,this._root).map(e=>e.value)}}function kv(n,t){if(n===t.value)return t;for(const e of t.children){const i=kv(n,e);if(i)return i}return null}function Lv(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Lv(n,e);if(i.length)return i.unshift(t),i}return[]}class mc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function o4(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class lH extends cH{constructor(t,e){super(t),this.snapshot=e,Iv(this,t)}toString(){return this.snapshot.toString()}}function uH(n,t){const e=function bfe(n,t){const a=new qp([],{},{},"",{},pn,t,null,n.root,-1,{});return new fH("",new mc(a,[]))}(n,t),i=new Rr([new wf("",{})]),r=new Rr({}),s=new Rr({}),a=new Rr({}),o=new Rr(""),c=new Ul(i,r,a,o,s,pn,t,e.root);return c.snapshot=e.root,new lH(new mc(c,[]),e)}class Ul{constructor(t,e,i,r,s,a,o,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=o,this.title=this.data?.pipe(Lt(l=>l[Cf]))??gt(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Lt(t=>r4(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Lt(t=>r4(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dH(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Mfe(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class qp{constructor(t,e,i,r,s,a,o,c,l,u,d,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=o,this.title=this.data?.[Cf],this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._correctedLastPathIndex=f??u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=r4(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=r4(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fH extends cH{constructor(t,e){super(e),this.url=t,Iv(this,e)}toString(){return hH(this._root)}}function Iv(n,t){t.value._routerState=n,t.children.forEach(e=>Iv(n,e))}function hH(n){const t=n.children.length>0?` { ${n.children.map(hH).join(", ")} } `:"";return`${n.value}${t}`}function Vv(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,To(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),To(t.params,e.params)||n.params.next(e.params),function zde(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!To(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),To(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hv(n,t){const e=To(n.params,t.params)&&function Bde(n,t){return Fl(n,t)&&n.every((e,i)=>To(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Hv(n.parent,t.parent))}function Ef(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Cfe(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ef(n,i,r);return Ef(n,i)})}(n,t,e);return new mc(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(o=>Ef(n,o)),a}}const i=function wfe(n){return new Ul(new Rr(n.url),new Rr(n.params),new Rr(n.queryParams),new Rr(n.fragment),new Rr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Ef(n,s));return new mc(i,r)}}const Rv="ngNavigationCancelingError";function pH(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Ol(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=mH(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function mH(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Rv]=!0,i.cancellationCode=t,e&&(i.url=e),i}function gH(n){return _H(n)&&Ol(n.url)}function _H(n){return n&&n[Rv]}class Sfe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new kf,this.attachRef=null}}let kf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Sfe,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yp=!1;let vH=(()=>{class n{constructor(e,i,r,s,a){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new Te,this.deactivateEvents=new Te,this.attachEvents=new Te,this.detachEvents=new Te,this.name=r||pn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new we(4012,Yp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new we(4012,Yp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new we(4012,Yp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new we(4013,Yp);this._activatedRoute=e;const r=this.location,a=e._futureSnapshot.component,o=this.parentContexts.getOrCreateContext(this.name).children,c=new Tfe(e,o,r.injector);if(i&&function Afe(n){return!!n.resolveComponentFactory}(i)){const l=i.resolveComponentFactory(a);this.activated=r.createComponent(l,r.length,c)}else this.activated=r.createComponent(a,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(S(kf),S(dr),qr("name"),S(Pn),S(Jc))},n.\u0275dir=ne({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Tfe{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ul?this.route:t===kf?this.childContexts:this.parent.get(t,e)}}let zv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["ng-component"]],standalone:!0,features:[pA],decls:1,vars:0,template:function(e,i){1&e&&Re(0,"router-outlet")},dependencies:[vH],encapsulation:2}),n})();function yH(n,t){return n.providers&&!n._injector&&(n._injector=_6(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Nv(n){const t=n.children&&n.children.map(Nv),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==pn&&(e.component=zv),e}function ba(n){return n.outlet||pn}function bH(n,t){const e=n.filter(i=>ba(i)===t);return e.push(...n.filter(i=>ba(i)!==t)),e}function Lf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Ife{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Vv(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=o4(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),Fr(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=o4(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:o})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=o4(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=o4(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new vfe(s.value.snapshot))}),t.children.length&&this.forwardEvent(new gfe(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Vv(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const o=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),Vv(o.route.value),this.activateChildRoutes(t,null,a.children)}else{const o=Lf(r.snapshot),c=o?.get(Ko)??null;a.attachRef=null,a.route=r,a.resolver=c,a.injector=o,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class MH{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Xp{constructor(t,e){this.component=t,this.route=e}}function Vfe(n,t,e){const i=n._root;return If(i,t?t._root:null,e,[i.value])}function c4(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function F5(n){return null!==B1(n)}(n)?t.get(n):n:i}function If(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=o4(t);return n.children.forEach(a=>{(function Rfe(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,o=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function zfe(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Fl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Fl(n.url,t.url)||!To(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hv(n,t)||!To(n.queryParams,t.queryParams);default:return!Hv(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new MH(i)):(s.data=a.data,s._resolvedData=a._resolvedData),If(n,t,s.component?o?o.children:null:e,i,r),c&&o&&o.outlet&&o.outlet.isActivated&&r.canDeactivateChecks.push(new Xp(o.outlet.component,a))}else a&&Vf(t,o,r),r.canActivateChecks.push(new MH(i)),If(n,null,s.component?o?o.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),Fr(s,(a,o)=>Vf(a,e.getContext(o),r)),r}function Vf(n,t,e){const i=o4(n),r=n.value;Fr(i,(s,a)=>{Vf(s,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new Xp(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Hf(n){return"function"==typeof n}function Fv(n){return n instanceof Np||"EmptyError"===n?.name}const Kp=Symbol("INITIAL_VALUE");function l4(){return ds(n=>J9(n.map(t=>t.pipe(si(1),Tr(Kp)))).pipe(Lt(t=>{for(const e of t)if(!0!==e){if(e===Kp)return Kp;if(!1===e||e instanceof Nl)return e}return!0}),jn(t=>t!==Kp),si(1)))}function xH(n){return function _u(...n){return D1(n)}(ri(t=>{if(Ol(t))throw pH(0,t)}),Lt(t=>!0===t))}const Ov={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CH(n,t,e,i,r){const s=Bv(n,t,e);return s.matched?function Jfe(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?gt(r.map(a=>{const o=c4(a,n);return w2(function Ufe(n){return n&&Hf(n.canMatch)}(o)?o.canMatch(t,e):n.runInContext(()=>o(t,e)))})).pipe(l4(),xH()):gt(!0)}(i=yH(t,i),t,e).pipe(Lt(a=>!0===a?s:{...Ov})):gt(s)}function Bv(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Ov}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Rde)(e,n,t);if(!r)return{...Ov};const s={};Fr(r.posParams,(o,c)=>{s[c]=o.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Zp(n,t,e,i,r="corrected"){if(e.length>0&&function nhe(n,t,e){return e.some(i=>Qp(n,t,i)&&ba(i)!==pn)}(n,e,i)){const a=new _n(t,function the(n,t,e,i){const r={};r[pn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&ba(s)!==pn){const a=new _n([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[ba(s)]=a}return r}(n,t,i,new _n(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function ihe(n,t,e){return e.some(i=>Qp(n,t,i))}(n,e,i)){const a=new _n(n.segments,function ehe(n,t,e,i,r,s){const a={};for(const o of i)if(Qp(n,e,o)&&!r[ba(o)]){const c=new _n([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===s?n.segments.length:t.length,a[ba(o)]=c}return{...r,...a}}(n,t,e,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const s=new _n(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function Qp(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function wH(n,t,e,i){return!!(ba(n)===i||i!==pn&&Qp(t,e,n))&&("**"===n.path||Bv(t,n,e).matched)}function SH(n,t,e){return 0===t.length&&!n.children[e]}const Jp=!1;class em{constructor(t){this.segmentGroup=t||null}}class TH{constructor(t){this.urlTree=t}}function Rf(n){return t4(new em(n))}function AH(n){return t4(new TH(n))}class ohe{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=Zp(this.urlTree.root,[],[],this.config).segmentGroup,e=new _n(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,pn).pipe(Lt(s=>this.createUrlTree(jp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(uc(s=>{if(s instanceof TH)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof em?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,pn).pipe(Lt(r=>this.createUrlTree(jp(r),t.queryParams,t.fragment))).pipe(uc(r=>{throw r instanceof em?this.noMatchError(r):r}))}noMatchError(t){return new we(4002,Jp)}createUrlTree(t,e,i){const r=Sv(t);return new Nl(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(Lt(s=>new _n([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Un(r).pipe(M2(s=>{const a=i.children[s],o=bH(e,s);return this.expandSegmentGroup(t,o,a,s).pipe(Lt(c=>({segment:c,outlet:s})))}),OV((s,a)=>(s[a.outlet]=a.segment,s),{}),BV())}expandSegment(t,e,i,r,s,a){return Un(i).pipe(M2(o=>this.expandSegmentAgainstRoute(t,e,i,o,r,s,a).pipe(uc(l=>{if(l instanceof em)return gt(null);throw l}))),C2(o=>!!o),uc((o,c)=>{if(Fv(o))return SH(e,r,s)?gt(new _n([],{})):Rf(e);throw o}))}expandSegmentAgainstRoute(t,e,i,r,s,a,o){return wH(r,e,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a):Rf(e):Rf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?AH(s):this.lineralizeSegments(i,s).pipe(Oi(a=>{const o=new _n(a,{});return this.expandSegment(t,o,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:o,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=Bv(e,r,s);if(!o)return Rf(e);const d=this.applyRedirectCommands(c,r.redirectTo,u);return r.redirectTo.startsWith("/")?AH(d):this.lineralizeSegments(r,d).pipe(Oi(f=>this.expandSegment(t,e,i,f.concat(l),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=yH(i,t),i.loadChildren?(i._loadedRoutes?gt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(Lt(o=>(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,new _n(r,{})))):gt(new _n(r,{}))):CH(e,i,r,t).pipe(ds(({matched:a,consumedSegments:o,remainingSegments:c})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe(Oi(u=>{const d=u.injector??t,f=u.routes,{segmentGroup:h,slicedSegments:p}=Zp(e,o,c,f),v=new _n(h.segments,h.children);if(0===p.length&&v.hasChildren())return this.expandChildren(d,f,v).pipe(Lt(b=>new _n(o,b)));if(0===f.length&&0===p.length)return gt(new _n(o,{}));const g=ba(i)===s;return this.expandSegment(d,v,f,p,g?pn:s,!0).pipe(Lt(C=>new _n(o.concat(C.segments),C.children)))})):Rf(e)))}getChildConfig(t,e,i){return e.children?gt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?gt({routes:e._loadedRoutes,injector:e._loadedInjector}):function Qfe(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?gt(!0):gt(r.map(a=>{const o=c4(a,n);return w2(function Nfe(n){return n&&Hf(n.canLoad)}(o)?o.canLoad(t,e):n.runInContext(()=>o(t,e)))})).pipe(l4(),xH())}(t,e,i).pipe(Oi(r=>r?this.configLoader.loadChildren(t,e).pipe(ri(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function she(n){return t4(mH(Jp,3))}())):gt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return gt(i);if(r.numberOfChildren>1||!r.children[pn])return t4(new we(4e3,Jp));r=r.children[pn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Nl(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Fr(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const o=r.substring(1);i[s]=e[o]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return Fr(e.children,(o,c)=>{a[c]=this.createSegmentGroup(t,o,i,r)}),new _n(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new we(4001,Jp);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class lhe{}class fhe{constructor(t,e,i,r,s,a,o,c){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o,this.urlSerializer=c}recognize(){const t=Zp(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,pn).pipe(Lt(e=>{if(null===e)return null;const i=new qp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new mc(i,e),s=new fH(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=dH(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return Un(Object.keys(i.children)).pipe(M2(r=>{const s=i.children[r],a=bH(e,r);return this.processSegmentGroup(t,a,s,r)}),OV((r,s)=>r&&s?(r.push(...s),r):null),eI(r=>null!==r),Fp(null),BV(),Lt(r=>{if(null===r)return null;const s=DH(r);return function hhe(n){n.sort((t,e)=>t.value.outlet===pn?-1:e.value.outlet===pn?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return Un(e).pipe(M2(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,s)),C2(a=>!!a),uc(a=>{if(Fv(a))return SH(i,r,s)?gt([]):gt(null);throw a}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!wH(e,i,r,s))return gt(null);let a;if("**"===e.path){const o=r.length>0?WV(r).parameters:{},c=kH(i)+r.length;a=gt({snapshot:new qp(r,o,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IH(e),ba(e),e.component??e._loadedComponent??null,e,EH(i),c,VH(e),c),consumedSegments:[],remainingSegments:[]})}else a=CH(i,e,r,t).pipe(Lt(({matched:o,consumedSegments:c,remainingSegments:l,parameters:u})=>{if(!o)return null;const d=kH(i)+c.length;return{snapshot:new qp(c,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IH(e),ba(e),e.component??e._loadedComponent??null,e,EH(i),d,VH(e),d),consumedSegments:c,remainingSegments:l}}));return a.pipe(ds(o=>{if(null===o)return gt(null);const{snapshot:c,consumedSegments:l,remainingSegments:u}=o;t=e._injector??t;const d=e._loadedInjector??t,f=function phe(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:h,slicedSegments:p}=Zp(i,l,u,f.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===p.length&&h.hasChildren())return this.processChildren(d,f,h).pipe(Lt(g=>null===g?null:[new mc(c,g)]));if(0===f.length&&0===p.length)return gt([new mc(c,[])]);const v=ba(e)===s;return this.processSegment(d,f,h,p,v?pn:s).pipe(Lt(g=>null===g?null:[new mc(c,g)]))}))}}function mhe(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function DH(n){const t=[],e=new Set;for(const i of n){if(!mhe(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=DH(i.children);t.push(new mc(i.value,r))}return t.filter(i=>!e.has(i))}function EH(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function kH(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function IH(n){return n.data||{}}function VH(n){return n.resolve||{}}function vhe(n,t){return Oi(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return gt(e);let s=0;return Un(r).pipe(M2(a=>function yhe(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!HH(r)&&(s[Cf]=r.title),function bhe(n,t,e,i){const r=function Mhe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return gt({});const s={};return Un(r).pipe(Oi(a=>function xhe(n,t,e,i){const r=Lf(t)??i,s=c4(n,r);return w2(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[a],t,e,i).pipe(C2(),ri(o=>{s[a]=o}))),Mv(1),function HV(n){return Lt(()=>n)}(s),uc(a=>Fv(a)?Hs:t4(a)))}(s,n,t,i).pipe(Lt(a=>(n._resolvedData=a,n.data=dH(n,e).resolve,r&&HH(r)&&(n.data[Cf]=r.title),null)))}(a.route,i,n,t)),ri(()=>s++),Mv(1),Oi(a=>s===r.length?gt(e):Hs))})}function HH(n){return"string"==typeof n.title||null===n.title}function Uv(n){return ds(t=>{const e=n(t);return e?Un(e).pipe(Lt(()=>t)):gt(t)})}let RH=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===pn);return i}getResolvedTitleForRoute(e){return e.data[Cf]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:function(){return Wn(zH)},providedIn:"root"}),n})(),zH=(()=>{class n extends RH{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(j(yE))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Che{}class She extends class whe{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const nm=new he("",{providedIn:"root",factory:()=>({})}),Gv=new he("ROUTES");let Wv=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return gt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=w2(e.loadComponent()).pipe(ri(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Dp(()=>{this.componentLoaders.delete(e)})),r=new iv(i,()=>new Xe).pipe(nv());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return gt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Lt(o=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l,u=!1;Array.isArray(o)?l=o:(c=o.create(e).injector,l=GV(c.get(Gv,[],Vt.Self|Vt.Optional)));return{routes:l.map(Nv),injector:c}}),Dp(()=>{this.childrenLoaders.delete(i)})),a=new iv(s,()=>new Xe).pipe(nv());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(e){return w2(e()).pipe(Oi(i=>i instanceof fA||Array.isArray(i)?gt(i):Un(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(j(Gi),j(a9))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ahe{}class Dhe{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ehe(n){throw n}function khe(n,t,e){return t.parse("/")}const Lhe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ihe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function NH(){const n=Wn(KV),t=Wn(kf),e=Wn(Ld),i=Wn(Gi),r=Wn(a9),s=Wn(Gv,{optional:!0})??[],a=Wn(nm,{optional:!0})??{},o=Wn(zH),c=Wn(RH,{optional:!0}),l=Wn(Ahe,{optional:!0}),u=Wn(Che,{optional:!0}),d=new Or(null,n,t,e,i,r,GV(s));return l&&(d.urlHandlingStrategy=l),u&&(d.routeReuseStrategy=u),d.titleStrategy=c??o,function Vhe(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,d),d}let Or=(()=>{class n{constructor(e,i,r,s,a,o,c){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xe,this.errorHandler=Ehe,this.malformedUriErrorHandler=khe,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>gt(void 0),this.urlHandlingStrategy=new Dhe,this.routeReuseStrategy=new She,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=a.get(Wv),this.configLoader.onLoadEndListener=f=>this.triggerEvent(new pfe(f)),this.configLoader.onLoadStartListener=f=>this.triggerEvent(new hfe(f)),this.ngModule=a.get(yl),this.console=a.get(Iee);const d=a.get(Ht);this.isNgZoneEnabled=d instanceof Ht&&Ht.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function Pde(){return new Nl(new _n([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=uH(this.currentUrlTree,this.rootComponentType),this.transitions=new Rr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(jn(r=>0!==r.id),Lt(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ds(r=>{let s=!1,a=!1;return gt(r).pipe(ri(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ds(o=>{const c=this.browserUrlTree.toString(),l=!this.navigated||o.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return FH(o.source)&&(this.browserUrlTree=o.extractedUrl),gt(o).pipe(ds(d=>{const f=this.transitions.getValue();return i.next(new Ev(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions.getValue()?Hs:Promise.resolve(d)}),function che(n,t,e,i){return ds(r=>function ahe(n,t,e,i,r){return new ohe(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(Lt(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ri(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function _he(n,t,e,i,r,s){return Oi(a=>function dhe(n,t,e,i,r,s,a="emptyOnly",o="legacy"){return new fhe(n,t,e,i,r,a,o,s).recognize().pipe(ds(c=>null===c?function uhe(n){return new In(t=>t.error(n))}(new lhe):gt(c)))}(n,t,e,a.urlAfterRedirects,i.serialize(a.urlAfterRedirects),i,r,s).pipe(Lt(o=>({...a,targetSnapshot:o}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ri(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const h=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(h,d)}this.browserUrlTree=d.urlAfterRedirects}const f=new cfe(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(f)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:f,extractedUrl:h,source:p,restoredState:v,extras:g}=o,m=new Ev(f,this.serializeUrl(h),p,v);i.next(m);const C=uH(h,this.rootComponentType).snapshot;return gt(r={...o,targetSnapshot:C,urlAfterRedirects:h,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=o.rawUrl,o.resolve(null),Hs}),ri(o=>{const c=new lfe(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(o.urlAfterRedirects),o.targetSnapshot);this.triggerEvent(c)}),Lt(o=>r={...o,guards:Vfe(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function Wfe(n,t){return Oi(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?gt({...e,guardsResult:!0}):function jfe(n,t,e,i){return Un(n).pipe(Oi(r=>function Zfe(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?gt(s.map(o=>{const c=Lf(t)??r,l=c4(o,c);return w2(function Bfe(n){return n&&Hf(n.canDeactivate)}(l)?l.canDeactivate(n,t,e,i):c.runInContext(()=>l(n,t,e,i))).pipe(C2())})).pipe(l4()):gt(!0)}(r.component,r.route,e,t,i)),C2(r=>!0!==r,!0))}(a,i,r,n).pipe(Oi(o=>o&&function Pfe(n){return"boolean"==typeof n}(o)?function $fe(n,t,e,i){return Un(t).pipe(M2(r=>$d(function Yfe(n,t){return null!==n&&t&&t(new mfe(n)),gt(!0)}(r.route.parent,i),function qfe(n,t){return null!==n&&t&&t(new _fe(n)),gt(!0)}(r.route,i),function Kfe(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function Hfe(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>J3(()=>gt(a.guards.map(c=>{const l=Lf(a.node)??e,u=c4(c,l);return w2(function Ofe(n){return n&&Hf(n.canActivateChild)}(u)?u.canActivateChild(i,n):l.runInContext(()=>u(i,n))).pipe(C2())})).pipe(l4())));return gt(s).pipe(l4())}(n,r.path,e),function Xfe(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return gt(!0);const r=i.map(s=>J3(()=>{const a=Lf(t)??e,o=c4(s,a);return w2(function Ffe(n){return n&&Hf(n.canActivate)}(o)?o.canActivate(t,n):a.runInContext(()=>o(t,n))).pipe(C2())}));return gt(r).pipe(l4())}(n,r.route,e))),C2(r=>!0!==r,!0))}(i,s,n,t):gt(o)),Lt(o=>({...e,guardsResult:o})))})}(this.ngModule.injector,o=>this.triggerEvent(o)),ri(o=>{if(r.guardsResult=o.guardsResult,Ol(o.guardsResult))throw pH(0,o.guardsResult);const c=new ufe(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.triggerEvent(c)}),jn(o=>!!o.guardsResult||(this.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Uv(o=>{if(o.guards.canActivateChecks.length)return gt(o).pipe(ri(c=>{const l=new dfe(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(l)}),ds(c=>{let l=!1;return gt(c).pipe(vhe(this.paramsInheritanceStrategy,this.ngModule.injector),ri({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),ri(c=>{const l=new ffe(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(l)}))}),Uv(o=>{const c=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(ri(d=>{l.component=d}),Lt(()=>{})));for(const d of l.children)u.push(...c(d));return u};return J9(c(o.targetSnapshot.root)).pipe(Fp(),si(1))}),Uv(()=>this.afterPreactivation()),Lt(o=>{const c=function xfe(n,t,e){const i=Ef(n,t._root,e?e._root:void 0);return new lH(i,t)}(this.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:c}}),ri(o=>{this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects)}),((n,t,e)=>Lt(i=>(new Ife(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,o=>this.triggerEvent(o)),ri({next(){s=!0},complete(){s=!0}}),Dp(()=>{s||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),uc(o=>{if(a=!0,_H(o)){gH(o)||(this.navigated=!0,this.restoreHistory(r,!0));const c=new $p(r.id,this.serializeUrl(r.extractedUrl),o.message,o.cancellationCode);if(i.next(c),gH(o)){const l=this.urlHandlingStrategy.merge(o.url,this.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||FH(r.source)};this.scheduleNavigation(l,"imperative",null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const c=new aH(r.id,this.serializeUrl(r.extractedUrl),o,r.targetSnapshot??void 0);i.next(c);try{r.resolve(this.errorHandler(o))}catch(l){r.reject(l)}}return Hs}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const o={...s};delete o.navigationId,delete o.\u0275routerPageId,0!==Object.keys(o).length&&(r.state=o)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Nv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:o,preserveFragment:c}=i,l=r||this.routerState.root,u=c?this.currentUrlTree.fragment:a;let d=null;switch(o){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),nfe(l,this.currentUrlTree,e,d,u??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ol(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Hhe(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new we(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...Lhe}:!1===i?{...Ihe}:i,Ol(e))return $V(this.currentUrlTree,e,r);const s=this.parseUrl(e);return $V(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Bl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let o,c,l;a?(o=a.resolve,c=a.reject,l=a.promise):l=new Promise((f,h)=>{o=f,c=h});const u=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),d=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:u,targetPageId:d,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:o,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new $p(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){da()},n.\u0275prov=_e({token:n,factory:function(){return NH()},providedIn:"root"}),n})();function FH(n){return"imperative"!==n}class OH{}let Phe=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(jn(e=>e instanceof Bl),M2(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=_6(s.providers,e,`Route: ${s.path}`));const a=s._injector??e,o=s._loadedInjector??a;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(a,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(o,s.children??s._loadedRoutes))}return Un(r).pipe(Bc())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):gt(null);const s=r.pipe(Oi(a=>null===a?gt(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return i.loadComponent&&!i._loadedComponent?Un([s,this.loader.loadComponent(i)]).pipe(Bc()):s})}}return n.\u0275fac=function(e){return new(e||n)(j(Or),j(a9),j(Jc),j(OH),j(Wv))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qv=new he("");let BH=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ev?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Bl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof oH&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new oH(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){da()},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();function u4(n,t){return{\u0275kind:n,\u0275providers:t}}function Yv(n){return[{provide:Gv,multi:!0,useValue:n}]}function GH(){const n=Wn(Gi);return t=>{const e=n.get(a2);if(t!==e.components[0])return;const i=n.get(Or),r=n.get(WH);1===n.get(Xv)&&i.initialNavigation(),n.get(jH,null,Vt.Optional)?.setUpPreloading(),n.get(qv,null,Vt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const WH=new he("",{factory:()=>new Xe}),Xv=new he("",{providedIn:"root",factory:()=>1});const jH=new he("");function Bhe(n){return u4(0,[{provide:jH,useExisting:Phe},{provide:OH,useExisting:n}])}const $H=new he("ROUTER_FORROOT_GUARD"),Uhe=[Ld,{provide:KV,useClass:Cv},{provide:Or,useFactory:NH},kf,{provide:Ul,useFactory:function UH(n){return n.routerState.root},deps:[Or]},Wv];function Ghe(){return new cD("Router",Or)}let qH=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Uhe,[],Yv(e),{provide:$H,useFactory:qhe,deps:[[Or,new ws,new fo]]},{provide:nm,useValue:i||{}},i?.useHash?{provide:Cl,useClass:bte}:{provide:Cl,useClass:VD},{provide:qv,useFactory:()=>{const n=Wn(Or),t=Wn(Ine),e=Wn(nm);return e.scrollOffset&&t.setOffset(e.scrollOffset),new BH(n,t,e)}},i?.preloadingStrategy?Bhe(i.preloadingStrategy).\u0275providers:[],{provide:cD,multi:!0,useFactory:Ghe},i?.initialNavigation?Yhe(i):[],[{provide:YH,useFactory:GH},{provide:s9,multi:!0,useExisting:YH}]]}}static forChild(e){return{ngModule:n,providers:[Yv(e)]}}}return n.\u0275fac=function(e){return new(e||n)(j($H,8))},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[zv]}),n})();function qhe(n){return"guarded"}function Yhe(n){return["disabled"===n.initialNavigation?u4(3,[{provide:M6,multi:!0,useFactory:()=>{const t=Wn(Or);return()=>{t.setUpLocationChangeListener()}}},{provide:Xv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?u4(2,[{provide:Xv,useValue:0},{provide:M6,multi:!0,deps:[Gi],useFactory:t=>{const e=t.get(vte,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const a=t.get(Or),o=t.get(WH);(function r(s){t.get(Or).events.pipe(jn(o=>o instanceof Bl||o instanceof $p||o instanceof aH),Lt(o=>o instanceof Bl||o instanceof $p&&(0===o.code||1===o.code)&&null),jn(o=>null!==o),si(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),a.afterPreactivation=()=>(s(!0),i||o.closed?gt(void 0):o),a.initialNavigation()}))}}]).\u0275providers:[]]}const YH=new he(""),Khe=[];let Zhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[qH.forRoot(Khe),qH]}),n})(),XH=(()=>{class n{constructor(e){this.http=e,this.type="me",this.run=new Te,this.nodeURL="http://localhost:3000/"}homeApi(e){let i=(new fc).set("query",e.query);return e.startTime?.length&&(i=i.set("startTime",e.startTime.toISOString())),e.endTime?.length&&(i=i.set("endTime",e.endTime.toISOString())),i=i.set("max",e.max),i=i.set("Content-Type","application/json"),this.http.get(this.nodeURL,{params:i})}runAfter(){this.type="after",setTimeout(()=>{this.type="me"},100)}}return n.\u0275fac=function(e){return new(e||n)(j(vf))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var JF={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zM432 456c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"]},qB={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M184 48H328c4.4 0 8 3.6 8 8V96H176V56c0-4.4 3.6-8 8-8zm-56 8V96H64C28.7 96 0 124.7 0 160v96H192 320 512V160c0-35.3-28.7-64-64-64H384V56c0-30.9-25.1-56-56-56H184c-30.9 0-56 25.1-56 56zM512 288H320v32c0 17.7-14.3 32-32 32H224c-17.7 0-32-14.3-32-32V288H0V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V288z"]},QB={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432V346.1z"]},Uy={prefix:"fas",iconName:"graduation-cap",icon:[640,512,[127891,"mortar-board"],"f19d","M320 32c-8.1 0-16.1 1.4-23.7 4.1L15.8 137.4C6.3 140.9 0 149.9 0 160s6.3 19.1 15.8 22.6l57.9 20.9C57.3 229.3 48 259.8 48 291.9v28.1c0 28.4-10.8 57.7-22.3 80.8c-6.5 13-13.9 25.8-22.5 37.6C0 442.7-.9 448.3 .9 453.4s6 8.9 11.2 10.2l64 16c4.2 1.1 8.7 .3 12.4-2s6.3-6.1 7.1-10.4c8.6-42.8 4.3-81.2-2.1-108.7C90.3 344.3 86 329.8 80 316.5V291.9c0-30.2 10.2-58.7 27.9-81.5c12.9-15.5 29.6-28 49.2-35.7l157-61.7c8.2-3.2 17.5 .8 20.7 9s-.8 17.5-9 20.7l-157 61.7c-12.4 4.9-23.3 12.4-32.2 21.6l159.6 57.6c7.6 2.7 15.6 4.1 23.7 4.1s16.1-1.4 23.7-4.1L624.2 182.6c9.5-3.4 15.8-12.5 15.8-22.6s-6.3-19.1-15.8-22.6L343.7 36.1C336.1 33.4 328.1 32 320 32zM128 408c0 35.3 86 72 192 72s192-36.7 192-72L496.7 262.6 354.5 314c-11.1 4-22.8 6-34.5 6s-23.5-2-34.5-6L143.3 262.6 128 408z"]};function wU(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function mt(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?wU(Object(e),!0).forEach(function(i){_r(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wU(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function xm(n){return(xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function SU(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _r(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Gy(n,t){return function wRe(n){if(Array.isArray(n))return n}(n)||function TRe(n,t){var e=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var a,o,i=[],r=!0,s=!1;try{for(e=e.call(n);!(r=(a=e.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(c){s=!0,o=c}finally{try{!r&&null!=e.return&&e.return()}finally{if(s)throw o}}return i}}(n,t)||TU(n,t)||function DRe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uf(n){return function CRe(n){if(Array.isArray(n))return Wy(n)}(n)||function SRe(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||TU(n)||function ARe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TU(n,t){if(n){if("string"==typeof n)return Wy(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Wy(n,t)}}function Wy(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=n[e];return i}var AU=function(){},jy={},DU={},EU=null,kU={mark:AU,measure:AU};try{typeof window<"u"&&(jy=window),typeof document<"u"&&(DU=document),typeof MutationObserver<"u"&&(EU=MutationObserver),typeof performance<"u"&&(kU=performance)}catch{}var Sm,Tm,Am,Dm,Em,LU=(jy.navigator||{}).userAgent,IU=void 0===LU?"":LU,S2=jy,pi=DU,VU=EU,wm=kU,gc=!!pi.documentElement&&!!pi.head&&"function"==typeof pi.addEventListener&&"function"==typeof pi.createElement,HU=~IU.indexOf("MSIE")||~IU.indexOf("Trident/"),_c="___FONT_AWESOME___",zU="svg-inline--fa",Gl="data-fa-i2svg",qy="data-fa-pseudo-element",Yy="data-prefix",Xy="data-icon",PU="fontawesome-i2svg",IRe=["HTML","HEAD","STYLE","SCRIPT"],NU=function(){try{return!0}catch{return!1}}(),mi="classic",Hi="sharp",Ky=[mi,Hi];function Gf(n){return new Proxy(n,{get:function(e,i){return i in e?e[i]:e[mi]}})}var Wf=Gf((_r(Sm={},mi,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),_r(Sm,Hi,{fa:"solid",fass:"solid","fa-solid":"solid"}),Sm)),jf=Gf((_r(Tm={},mi,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_r(Tm,Hi,{solid:"fass"}),Tm)),$f=Gf((_r(Am={},mi,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_r(Am,Hi,{fass:"fa-solid"}),Am)),VRe=Gf((_r(Dm={},mi,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_r(Dm,Hi,{"fa-solid":"fass"}),Dm)),HRe=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,FU="fa-layers-text",RRe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,zRe=Gf((_r(Em={},mi,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_r(Em,Hi,{900:"fass"}),Em)),OU=[1,2,3,4,5,6,7,8,9,10],PRe=OU.concat([11,12,13,14,15,16,17,18,19,20]),NRe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],qf=new Set;Object.keys(jf[mi]).map(qf.add.bind(qf)),Object.keys(jf[Hi]).map(qf.add.bind(qf));var FRe=[].concat(Ky,Uf(qf),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(OU.map(function(n){return"".concat(n,"x")})).concat(PRe.map(function(n){return"w-".concat(n)})),Yf=S2.FontAwesomeConfig||{};pi&&"function"==typeof pi.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var t=Gy(n,2),i=t[1],r=function BRe(n){return""===n||"false"!==n&&("true"===n||n)}(function ORe(n){var t=pi.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}(t[0]));null!=r&&(Yf[i]=r)});var BU={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:zU,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Yf.familyPrefix&&(Yf.cssPrefix=Yf.familyPrefix);var d4=mt(mt({},BU),Yf);d4.autoReplaceSvg||(d4.observeMutations=!1);var St={};Object.keys(BU).forEach(function(n){Object.defineProperty(St,n,{enumerable:!0,set:function(e){d4[n]=e,Xf.forEach(function(i){return i(St)})},get:function(){return d4[n]}})}),Object.defineProperty(St,"familyPrefix",{enumerable:!0,set:function(t){d4.cssPrefix=t,Xf.forEach(function(e){return e(St)})},get:function(){return d4.cssPrefix}}),S2.FontAwesomeConfig=St;var Xf=[],Ao={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Kf(){for(var n=12,t="";n-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function f4(n){for(var t=[],e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function Zy(n){return n.classList?f4(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(t){return t})}function UU(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function km(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e].trim(),";")},"")}function Qy(n){return n.size!==Ao.size||n.x!==Ao.x||n.y!==Ao.y||n.rotate!==Ao.rotate||n.flipX||n.flipY}function GU(){var n="fa",t=zU,e=St.cssPrefix,i=St.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(e!==n||i!==t){var s=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");r=r.replace(s,".".concat(e,"-")).replace(a,"--".concat(e,"-")).replace(o,".".concat(i))}return r}var WU=!1;function Jy(){St.autoAddCss&&!WU&&(function WRe(n){if(n&&gc){var t=pi.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=pi.head.childNodes,i=null,r=e.length-1;r>-1;r--){var s=e[r],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=s)}pi.head.insertBefore(t,i)}}(GU()),WU=!0)}var KRe={mixout:function(){return{dom:{css:GU,insertCss:Jy}}},hooks:function(){return{beforeDOMElementCreation:function(){Jy()},beforeI2svg:function(){Jy()}}}},vc=S2||{};vc[_c]||(vc[_c]={}),vc[_c].styles||(vc[_c].styles={}),vc[_c].hooks||(vc[_c].hooks={}),vc[_c].shims||(vc[_c].shims=[]);var $a=vc[_c],jU=[],Lm=!1;function QRe(n){!gc||(Lm?setTimeout(n,0):jU.push(n))}function Zf(n){var t=n.tag,e=n.attributes,i=void 0===e?{}:e,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?UU(n):"<".concat(t," ").concat(function $Re(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(UU(n[e]),'" ')},"").trim()}(i),">").concat(s.map(Zf).join(""),"</").concat(t,">")}function $U(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}gc&&((Lm=(pi.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(pi.readyState))||pi.addEventListener("DOMContentLoaded",function n(){pi.removeEventListener("DOMContentLoaded",n),Lm=1,jU.map(function(t){return t()})}));var eb=function(t,e,i,r){var c,l,u,s=Object.keys(t),a=s.length,o=void 0!==r?function(t,e){return function(i,r,s,a){return t.call(e,i,r,s,a)}}(e,r):e;for(void 0===i?(c=1,u=t[s[0]]):(c=0,u=i);c<a;c++)u=o(u,t[l=s[c]],l,t);return u};function tb(n){var t=function eze(n){for(var t=[],e=0,i=n.length;e<i;){var r=n.charCodeAt(e++);if(r>=55296&&r<=56319&&e<i){var s=n.charCodeAt(e++);56320==(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),e--)}else t.push(r)}return t}(n);return 1===t.length?t[0].toString(16):null}function qU(n){return Object.keys(n).reduce(function(t,e){var i=n[e];return i.icon?t[i.iconName]=i.icon:t[e]=i,t},{})}function nb(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.skipHooks,r=void 0!==i&&i,s=qU(t);"function"!=typeof $a.hooks.addPack||r?$a.styles[n]=mt(mt({},$a.styles[n]||{}),s):$a.hooks.addPack(n,qU(t)),"fas"===n&&nb("fa",t)}var Im,Vm,Hm,h4=$a.styles,nze=$a.shims,ize=(_r(Im={},mi,Object.values($f[mi])),_r(Im,Hi,Object.values($f[Hi])),Im),ib=null,YU={},XU={},KU={},ZU={},QU={},rze=(_r(Vm={},mi,Object.keys(Wf[mi])),_r(Vm,Hi,Object.keys(Wf[Hi])),Vm);function aze(n,t){var e=t.split("-"),i=e[0],r=e.slice(1).join("-");return i!==n||""===r||function sze(n){return~FRe.indexOf(n)}(r)?null:r}var JU=function(){var t=function(s){return eb(h4,function(a,o,c){return a[c]=eb(o,s,{}),a},{})};YU=t(function(r,s,a){return s[3]&&(r[s[3]]=a),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){r[c.toString(16)]=a}),r}),XU=t(function(r,s,a){return r[a]=a,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){r[c]=a}),r}),QU=t(function(r,s,a){var o=s[2];return r[a]=a,o.forEach(function(c){r[c]=a}),r});var e="far"in h4||St.autoFetchSvg,i=eb(nze,function(r,s){var a=s[0],o=s[1],c=s[2];return"far"===o&&!e&&(o="fas"),"string"==typeof a&&(r.names[a]={prefix:o,iconName:c}),"number"==typeof a&&(r.unicodes[a.toString(16)]={prefix:o,iconName:c}),r},{names:{},unicodes:{}});KU=i.names,ZU=i.unicodes,ib=Rm(St.styleDefault,{family:St.familyDefault})};function rb(n,t){return(YU[n]||{})[t]}function jl(n,t){return(QU[n]||{})[t]}function eG(n){return KU[n]||{prefix:null,iconName:null}}function A2(){return ib}function Rm(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.family,i=void 0===e?mi:e,r=Wf[i][n],s=jf[i][n]||jf[i][r],a=n in $a.styles?n:null;return s||a||null}(function GRe(n){Xf.push(n)})(function(n){ib=Rm(n.styleDefault,{family:St.familyDefault})}),JU();var tG=(_r(Hm={},mi,Object.keys($f[mi])),_r(Hm,Hi,Object.keys($f[Hi])),Hm);function zm(n){var t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.skipLookups,r=void 0!==i&&i,s=(_r(t={},mi,"".concat(St.cssPrefix,"-").concat(mi)),_r(t,Hi,"".concat(St.cssPrefix,"-").concat(Hi)),t),a=null,o=mi;(n.includes(s[mi])||n.some(function(l){return tG[mi].includes(l)}))&&(o=mi),(n.includes(s[Hi])||n.some(function(l){return tG[Hi].includes(l)}))&&(o=Hi);var c=n.reduce(function(l,u){var d=aze(St.cssPrefix,u);if(h4[u]?(u=ize[o].includes(u)?VRe[o][u]:u,a=u,l.prefix=u):rze[o].indexOf(u)>-1?(a=u,l.prefix=Rm(u,{family:o})):d?l.iconName=d:u!==St.replacementClass&&u!==s[mi]&&u!==s[Hi]&&l.rest.push(u),!r&&l.prefix&&l.iconName){var f="fa"===a?eG(l.iconName):{},h=jl(l.prefix,l.iconName);f.prefix&&(a=null),l.iconName=f.iconName||h||l.iconName,l.prefix=f.prefix||l.prefix,"far"===l.prefix&&!h4.far&&h4.fas&&!St.autoFetchSvg&&(l.prefix="fas")}return l},{prefix:null,iconName:null,rest:[]});return(n.includes("fa-brands")||n.includes("fab"))&&(c.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(c.prefix="fad"),!c.prefix&&o===Hi&&(h4.fass||St.autoFetchSvg)&&(c.prefix="fass",c.iconName=jl(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===a)&&(c.prefix=A2()||"fas"),c}var lze=function(){function n(){(function bRe(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function MRe(n,t,e){t&&SU(n.prototype,t),e&&SU(n,e),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var e=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var a=r.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(o){e.definitions[o]=mt(mt({},e.definitions[o]||{}),a[o]),nb(o,a[o]);var c=$f[mi][o];c&&nb(c,a[o]),JU()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var a=r[s],o=a.prefix,c=a.iconName,l=a.icon,u=l[2];e[o]||(e[o]={}),u.length>0&&u.forEach(function(d){"string"==typeof d&&(e[o][d]=l)}),e[o][c]=l}),e}}]),n}(),nG=[],p4={},m4={},uze=Object.keys(m4);function ab(n,t){for(var e=arguments.length,i=new Array(e>2?e-2:0),r=2;r<e;r++)i[r-2]=arguments[r];var s=p4[n]||[];return s.forEach(function(a){t=a.apply(null,[t].concat(i))}),t}function $l(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];var r=p4[n]||[];r.forEach(function(s){s.apply(null,e)})}function yc(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);return m4[n]?m4[n].apply(null,t):void 0}function ob(n){"fa"===n.prefix&&(n.prefix="fas");var t=n.iconName,e=n.prefix||A2();if(t)return t=jl(e,t)||t,$U(iG.definitions,e,t)||$U($a.styles,e,t)}var iG=new lze,hze={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return gc?($l("beforeI2svg",t),yc("pseudoElements2svg",t),yc("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot;!1===St.autoReplaceSvg&&(St.autoReplaceSvg=!0),St.observeMutations=!0,QRe(function(){mze({autoReplaceSvgRoot:e}),$l("watch",t)})}},Js={noAuto:function(){St.autoReplaceSvg=!1,St.observeMutations=!1,$l("noAuto")},config:St,dom:hze,parse:{icon:function(t){if(null===t)return null;if("object"===xm(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:jl(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],i=Rm(t[0]);return{prefix:i,iconName:jl(i,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(St.cssPrefix,"-"))>-1||t.match(HRe))){var r=zm(t.split(" "),{skipLookups:!0});return{prefix:r.prefix||A2(),iconName:jl(r.prefix,r.iconName)||r.iconName}}if("string"==typeof t){var s=A2();return{prefix:s,iconName:jl(s,t)||t}}}},library:iG,findIconDefinition:ob,toHtml:Zf},mze=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,i=void 0===e?pi:e;(Object.keys($a.styles).length>0||St.autoFetchSvg)&&gc&&St.autoReplaceSvg&&Js.dom.i2svg({node:i})};function Pm(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return Zf(i)})}}),Object.defineProperty(n,"node",{get:function(){if(gc){var i=pi.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function cb(n){var t=n.icons,e=t.main,i=t.mask,r=n.prefix,s=n.iconName,a=n.transform,o=n.symbol,c=n.title,l=n.maskId,u=n.titleId,d=n.extra,f=n.watchable,h=void 0!==f&&f,p=i.found?i:e,v=p.width,g=p.height,m="fak"===r,C=[St.replacementClass,s?"".concat(St.cssPrefix,"-").concat(s):""].filter(function(D){return-1===d.classes.indexOf(D)}).filter(function(D){return""!==D||!!D}).concat(d.classes).join(" "),b={children:[],attributes:mt(mt({},d.attributes),{},{"data-prefix":r,"data-icon":s,class:C,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(g)})},T=m&&!~d.classes.indexOf("fa-fw")?{width:"".concat(v/g*16*.0625,"em")}:{};h&&(b.attributes[Gl]=""),c&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||Kf())},children:[c]}),delete b.attributes.title);var E=mt(mt({},b),{},{prefix:r,iconName:s,main:e,mask:i,maskId:l,transform:a,symbol:o,styles:mt(mt({},T),d.styles)}),L=i.found&&e.found?yc("generateAbstractMask",E)||{children:[],attributes:{}}:yc("generateAbstractIcon",E)||{children:[],attributes:{}},O=L.attributes;return E.children=L.children,E.attributes=O,o?function _ze(n){var e=n.iconName,i=n.children,r=n.attributes,s=n.symbol,a=!0===s?"".concat(n.prefix,"-").concat(St.cssPrefix,"-").concat(e):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:mt(mt({},r),{},{id:a}),children:i}]}]}(E):function gze(n){var t=n.children,e=n.main,i=n.mask,r=n.attributes,s=n.styles,a=n.transform;if(Qy(a)&&e.found&&!i.found){var l={x:e.width/e.height/2,y:.5};r.style=km(mt(mt({},s),{},{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(E)}function rG(n){var t=n.content,e=n.width,i=n.height,r=n.transform,s=n.title,a=n.extra,o=n.watchable,c=void 0!==o&&o,l=mt(mt(mt({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});c&&(l[Gl]="");var u=mt({},a.styles);Qy(r)&&(u.transform=function YRe(n){var t=n.transform,e=n.width,r=n.height,s=void 0===r?16:r,a=n.startCentered,o=void 0!==a&&a,c="";return c+=o&&HU?"translate(".concat(t.x/16-(void 0===e?16:e)/2,"em, ").concat(t.y/16-s/2,"em) "):o?"translate(calc(-50% + ".concat(t.x/16,"em), calc(-50% + ").concat(t.y/16,"em)) "):"translate(".concat(t.x/16,"em, ").concat(t.y/16,"em) "),(c+="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:r,startCentered:!0,width:e,height:i}),u["-webkit-transform"]=u.transform);var d=km(u);d.length>0&&(l.style=d);var f=[];return f.push({tag:"span",attributes:l,children:[t]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function vze(n){var t=n.content,e=n.title,i=n.extra,r=mt(mt(mt({},i.attributes),e?{title:e}:{}),{},{class:i.classes.join(" ")}),s=km(i.styles);s.length>0&&(r.style=s);var a=[];return a.push({tag:"span",attributes:r,children:[t]}),e&&a.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),a}var lb=$a.styles;function ub(n){var t=n[0],e=n[1],s=Gy(n.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(St.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(St.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(St.cssPrefix,"-").concat("primary"),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var yze={found:!1,width:512,height:512};function db(n,t){var e=t;return"fa"===t&&null!==St.styleDefault&&(t=A2()),new Promise(function(i,r){if(yc("missingIconAbstract"),"fa"===e){var a=eG(n)||{};n=a.iconName||n,t=a.prefix||t}if(n&&t&&lb[t]&&lb[t][n])return i(ub(lb[t][n]));(function bze(n,t){!NU&&!St.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))})(n,t),i(mt(mt({},yze),{},{icon:St.showMissingIcons&&n&&yc("missingIconAbstract")||{}}))})}var sG=function(){},fb=St.measurePerformance&&wm&&wm.mark&&wm.measure?wm:{mark:sG,measure:sG},Qf='FA "6.2.1"',hb_begin=function(t){return fb.mark("".concat(Qf," ").concat(t," begins")),function(){return function(t){fb.mark("".concat(Qf," ").concat(t," ends")),fb.measure("".concat(Qf," ").concat(t),"".concat(Qf," ").concat(t," begins"),"".concat(Qf," ").concat(t," ends"))}(t)}},Nm=function(){};function oG(n){return"string"==typeof(n.getAttribute?n.getAttribute(Gl):null)}function Sze(n){return pi.createElementNS("http://www.w3.org/2000/svg",n)}function Tze(n){return pi.createElement(n)}function cG(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.ceFn,i=void 0===e?"svg"===n.tag?Sze:Tze:e;if("string"==typeof n)return pi.createTextNode(n);var r=i(n.tag);Object.keys(n.attributes||[]).forEach(function(a){r.setAttribute(a,n.attributes[a])});var s=n.children||[];return s.forEach(function(a){r.appendChild(cG(a,{ceFn:i}))}),r}var Fm={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(r){e.parentNode.insertBefore(cG(r),e)}),null===e.getAttribute(Gl)&&St.keepOriginalSource){var i=pi.createComment(function Aze(n){var t=" ".concat(n.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(e));e.parentNode.replaceChild(i,e)}else e.remove()},nest:function(t){var e=t[0],i=t[1];if(~Zy(e).indexOf(St.replacementClass))return Fm.replace(t);var r=new RegExp("".concat(St.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(o,c){return c===St.replacementClass||c.match(r)?o.toSvg.push(c):o.toNode.push(c),o},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}var a=i.map(function(o){return Zf(o)}).join("\n");e.setAttribute(Gl,""),e.innerHTML=a}};function lG(n){n()}function uG(n,t){var e="function"==typeof t?t:Nm;if(0===n.length)e();else{var i=lG;"async"===St.mutateApproach&&(i=S2.requestAnimationFrame||lG),i(function(){var r=function wze(){return!0===St.autoReplaceSvg?Fm.replace:Fm[St.autoReplaceSvg]||Fm.replace}(),s=hb_begin("mutate");n.map(r),s(),e()})}}var pb=!1;function dG(){pb=!0}function mb(){pb=!1}var Om=null;function fG(n){if(VU&&St.observeMutations){var t=n.treeCallback,e=void 0===t?Nm:t,i=n.nodeCallback,r=void 0===i?Nm:i,s=n.pseudoElementsCallback,a=void 0===s?Nm:s,o=n.observeMutationsRoot,c=void 0===o?pi:o;Om=new VU(function(l){if(!pb){var u=A2();f4(l).forEach(function(d){if("childList"===d.type&&d.addedNodes.length>0&&!oG(d.addedNodes[0])&&(St.searchPseudoElements&&a(d.target),e(d.target)),"attributes"===d.type&&d.target.parentNode&&St.searchPseudoElements&&a(d.target.parentNode),"attributes"===d.type&&oG(d.target)&&~NRe.indexOf(d.attributeName))if("class"===d.attributeName&&function xze(n){var t=n.getAttribute?n.getAttribute(Yy):null,e=n.getAttribute?n.getAttribute(Xy):null;return t&&e}(d.target)){var f=zm(Zy(d.target)),p=f.iconName;d.target.setAttribute(Yy,f.prefix||u),p&&d.target.setAttribute(Xy,p)}else(function Cze(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(St.replacementClass)})(d.target)&&r(d.target)})}}),gc&&Om.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Eze(n){var t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(i,r){var s=r.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(i[a]=o.join(":").trim()),i},{})),e}function kze(n){var t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),i=void 0!==n.innerText?n.innerText.trim():"",r=zm(Zy(n));return r.prefix||(r.prefix=A2()),t&&e&&(r.prefix=t,r.iconName=e),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function oze(n,t){return(XU[n]||{})[t]}(r.prefix,n.innerText)||rb(r.prefix,tb(n.innerText))),!r.iconName&&St.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=n.firstChild.data)),r}function Lze(n){var t=f4(n.attributes).reduce(function(r,s){return"class"!==r.name&&"style"!==r.name&&(r[s.name]=s.value),r},{}),e=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return St.autoA11y&&(e?t["aria-labelledby"]="".concat(St.replacementClass,"-title-").concat(i||Kf()):(t["aria-hidden"]="true",t.focusable="false")),t}function hG(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},e=kze(n),i=e.iconName,r=e.prefix,s=e.rest,a=Lze(n),o=ab("parseNodeAttributes",{},n),c=t.styleParser?Eze(n):[];return mt({iconName:i,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:Ao,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:a}},o)}var Vze=$a.styles;function pG(n){var t="nest"===St.autoReplaceSvg?hG(n,{styleParser:!1}):hG(n);return~t.extra.classes.indexOf(FU)?yc("generateLayersText",n,t):yc("generateSvgReplacementMutation",n,t)}var D2=new Set;function mG(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!gc)return Promise.resolve();var e=pi.documentElement.classList,i=function(d){return e.add("".concat(PU,"-").concat(d))},r=function(d){return e.remove("".concat(PU,"-").concat(d))},s=St.autoFetchSvg?D2:Ky.map(function(u){return"fa-".concat(u)}).concat(Object.keys(Vze));s.includes("fa")||s.push("fa");var a=[".".concat(FU,":not([").concat(Gl,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(Gl,"])")})).join(", ");if(0===a.length)return Promise.resolve();var o=[];try{o=f4(n.querySelectorAll(a))}catch{}if(!(o.length>0))return Promise.resolve();i("pending"),r("complete");var c=hb_begin("onTree"),l=o.reduce(function(u,d){try{var f=pG(d);f&&u.push(f)}catch(h){NU||"MissingIcon"===h.name&&console.error(h)}return u},[]);return new Promise(function(u,d){Promise.all(l).then(function(f){uG(f,function(){i("active"),i("complete"),r("pending"),"function"==typeof t&&t(),c(),u()})}).catch(function(f){c(),d(f)})})}function Hze(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;pG(n).then(function(e){e&&uG([e],t)})}Ky.map(function(n){D2.add("fa-".concat(n))}),Object.keys(Wf[mi]).map(D2.add.bind(D2)),Object.keys(Wf[Hi]).map(D2.add.bind(D2)),D2=Uf(D2);var zze=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.transform,r=void 0===i?Ao:i,s=e.symbol,a=void 0!==s&&s,o=e.mask,c=void 0===o?null:o,l=e.maskId,u=void 0===l?null:l,d=e.title,f=void 0===d?null:d,h=e.titleId,p=void 0===h?null:h,v=e.classes,g=void 0===v?[]:v,m=e.attributes,C=void 0===m?{}:m,b=e.styles,T=void 0===b?{}:b;if(t){var E=t.prefix,L=t.iconName,k=t.icon;return Pm(mt({type:"icon"},t),function(){return $l("beforeDOMElementCreation",{iconDefinition:t,params:e}),St.autoA11y&&(f?C["aria-labelledby"]="".concat(St.replacementClass,"-title-").concat(p||Kf()):(C["aria-hidden"]="true",C.focusable="false")),cb({icons:{main:ub(k),mask:c?ub(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:L,transform:mt(mt({},Ao),r),symbol:a,title:f,maskId:u,titleId:p,extra:{attributes:C,styles:T,classes:g}})})}},Pze={mixout:function(){return{icon:(n=zze,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(t||{}).icon?t:ob(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:ob(r||{})),n(i,mt(mt({},e),{},{mask:r}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=mG,e.nodeCallback=Hze,e}}},provides:function(t){t.i2svg=function(e){var i=e.node,s=e.callback;return mG(void 0===i?pi:i,void 0===s?function(){}:s)},t.generateSvgReplacementMutation=function(e,i){var r=i.iconName,s=i.title,a=i.titleId,o=i.prefix,c=i.transform,l=i.symbol,u=i.mask,d=i.maskId,f=i.extra;return new Promise(function(h,p){Promise.all([db(r,o),u.iconName?db(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(v){var g=Gy(v,2);h([e,cb({icons:{main:g[0],mask:g[1]},prefix:o,iconName:r,transform:c,symbol:l,maskId:d,title:s,titleId:a,extra:f,watchable:!0})])}).catch(p)})},t.generateAbstractIcon=function(e){var l,i=e.children,r=e.attributes,s=e.main,a=e.transform,c=km(e.styles);return c.length>0&&(r.style=c),Qy(a)&&(l=yc("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),i.push(l||s.icon),{children:i,attributes:r}}}},Nze={mixout:function(){return{layer:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,s=void 0===r?[]:r;return Pm({type:"layer"},function(){$l("beforeDOMElementCreation",{assembler:e,params:i});var a=[];return e(function(o){Array.isArray(o)?o.map(function(c){a=a.concat(c.abstract)}):a=a.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(St.cssPrefix,"-layers")].concat(Uf(s)).join(" ")},children:a}]})}}}},Fze={mixout:function(){return{counter:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,s=void 0===r?null:r,a=i.classes,o=void 0===a?[]:a,c=i.attributes,l=void 0===c?{}:c,u=i.styles,d=void 0===u?{}:u;return Pm({type:"counter",content:e},function(){return $l("beforeDOMElementCreation",{content:e,params:i}),vze({content:e.toString(),title:s,extra:{attributes:l,styles:d,classes:["".concat(St.cssPrefix,"-layers-counter")].concat(Uf(o))}})})}}}},Oze={mixout:function(){return{text:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,s=void 0===r?Ao:r,a=i.title,o=void 0===a?null:a,c=i.classes,l=void 0===c?[]:c,u=i.attributes,d=void 0===u?{}:u,f=i.styles,h=void 0===f?{}:f;return Pm({type:"text",content:e},function(){return $l("beforeDOMElementCreation",{content:e,params:i}),rG({content:e,transform:mt(mt({},Ao),s),title:o,extra:{attributes:d,styles:h,classes:["".concat(St.cssPrefix,"-layers-text")].concat(Uf(l))}})})}}},provides:function(t){t.generateLayersText=function(e,i){var r=i.title,s=i.transform,a=i.extra,o=null,c=null;if(HU){var l=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/l,c=u.height/l}return St.autoA11y&&!r&&(a.attributes["aria-hidden"]="true"),Promise.resolve([e,rG({content:e.innerHTML,width:o,height:c,transform:s,title:r,extra:a,watchable:!0})])}}},Bze=new RegExp('"',"ug"),gG=[1105920,1112319];function _G(n,t){var e="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(i,r){if(null!==n.getAttribute(e))return i();var a=f4(n.children).filter(function(k){return k.getAttribute(qy)===t})[0],o=S2.getComputedStyle(n,t),c=o.getPropertyValue("font-family").match(RRe),l=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(a&&!c)return n.removeChild(a),i();if(c&&"none"!==u&&""!==u){var d=o.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?Hi:mi,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?jf[f][c[2].toLowerCase()]:zRe[f][l],p=function Uze(n){var t=n.replace(Bze,""),e=function tze(n,t){var r,e=n.length,i=n.charCodeAt(t);return i>=55296&&i<=56319&&e>t+1&&(r=n.charCodeAt(t+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(t,0),i=e>=gG[0]&&e<=gG[1],r=2===t.length&&t[0]===t[1];return{value:tb(r?t[0]:t),isSecondary:i||r}}(d),v=p.value,g=p.isSecondary,m=c[0].startsWith("FontAwesome"),C=rb(h,v),b=C;if(m){var T=function cze(n){var t=ZU[n],e=rb("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(v);T.iconName&&T.prefix&&(C=T.iconName,h=T.prefix)}if(!C||g||a&&a.getAttribute(Yy)===h&&a.getAttribute(Xy)===b)i();else{n.setAttribute(e,b),a&&n.removeChild(a);var E=function Ize(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ao,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),L=E.extra;L.attributes[qy]=t,db(C,h).then(function(k){var O=cb(mt(mt({},E),{},{icons:{main:k,mask:{prefix:null,iconName:null,rest:[]}},prefix:h,iconName:b,extra:L,watchable:!0})),D=pi.createElement("svg");"::before"===t?n.insertBefore(D,n.firstChild):n.appendChild(D),D.outerHTML=O.map(function(R){return Zf(R)}).join("\n"),n.removeAttribute(e),i()}).catch(r)}}else i()})}function Gze(n){return Promise.all([_G(n,"::before"),_G(n,"::after")])}function Wze(n){return!(n.parentNode===document.head||~IRe.indexOf(n.tagName.toUpperCase())||n.getAttribute(qy)||n.parentNode&&"svg"===n.parentNode.tagName)}function vG(n){if(gc)return new Promise(function(t,e){var i=f4(n.querySelectorAll("*")).filter(Wze).map(Gze),r=hb_begin("searchPseudoElements");dG(),Promise.all(i).then(function(){r(),mb(),t()}).catch(function(){r(),mb(),e()})})}var yG=!1,bG=function(t){return t.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),a=s[0],o=s.slice(1).join("-");if(a&&"h"===o)return i.flipX=!0,i;if(a&&"v"===o)return i.flipY=!0,i;if(o=parseFloat(o),isNaN(o))return i;switch(a){case"grow":i.size=i.size+o;break;case"shrink":i.size=i.size-o;break;case"left":i.x=i.x-o;break;case"right":i.x=i.x+o;break;case"up":i.y=i.y-o;break;case"down":i.y=i.y+o;break;case"rotate":i.rotate=i.rotate+o}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},gb={x:0,y:0,width:"100%",height:"100%"};function MG(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}!function dze(n,t){var e=t.mixoutsTo;nG=n,p4={},Object.keys(m4).forEach(function(i){-1===uze.indexOf(i)&&delete m4[i]}),nG.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(a){"function"==typeof r[a]&&(e[a]=r[a]),"object"===xm(r[a])&&Object.keys(r[a]).forEach(function(o){e[a]||(e[a]={}),e[a][o]=r[a][o]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(a){p4[a]||(p4[a]=[]),p4[a].push(s[a])})}i.provides&&i.provides(m4)})}([KRe,Pze,Nze,Fze,Oze,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=vG,e}}},provides:function(t){t.pseudoElements2svg=function(e){var i=e.node;St.searchPseudoElements&&vG(void 0===i?pi:i)}}},{mixout:function(){return{dom:{unwatch:function(){dG(),yG=!0}}}},hooks:function(){return{bootstrap:function(){fG(ab("mutationObserverCallbacks",{}))},noAuto:function(){!function Dze(){!Om||Om.disconnect()}()},watch:function(e){var i=e.observeMutationsRoot;yG?mb():fG(ab("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(e){return bG(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-transform");return r&&(e.transform=bG(r)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var i=e.main,r=e.transform,a=e.iconWidth,o={transform:"translate(".concat(e.containerWidth/2," 256)")},c="translate(".concat(32*r.x,", ").concat(32*r.y,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),h={outer:o,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:mt({},h.outer),children:[{tag:"g",attributes:mt({},h.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:mt(mt({},i.icon.attributes),h.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-mask"),s=r?zm(r.split(" ").map(function(a){return a.trim()})):{prefix:null,iconName:null,rest:[]};return s.prefix||(s.prefix=A2()),e.mask=s,e.maskId=i.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var n,i=e.children,r=e.attributes,s=e.main,a=e.mask,o=e.maskId,u=s.icon,f=a.icon,h=function qRe(n){var t=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(a," ").concat(o)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:e.transform,containerWidth:a.width,iconWidth:s.width}),p={tag:"rect",attributes:mt(mt({},gb),{},{fill:"white"})},v=u.children?{children:u.children.map(MG)}:{},g={tag:"g",attributes:mt({},h.inner),children:[MG(mt({tag:u.tag,attributes:mt(mt({},u.attributes),h.path)},v))]},m={tag:"g",attributes:mt({},h.outer),children:[g]},C="mask-".concat(o||Kf()),b="clip-".concat(o||Kf()),T={tag:"mask",attributes:mt(mt({},gb),{},{id:C,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,m]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(n=f,"g"===n.tag?n.children:[n])},T]};return i.push(E,{tag:"rect",attributes:mt({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(C,")")},gb)}),{children:i,attributes:r}}}},{provides:function(t){var e=!1;S2.matchMedia&&(e=S2.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:mt(mt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=mt(mt({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:mt(mt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:mt(mt({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:mt(mt({},a),{},{values:"1;0;1;1;0;1;"})}),i.push(o),i.push({tag:"path",attributes:mt(mt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:mt(mt({},a),{},{values:"1;0;0;0;0;1;"})}]}),e||i.push({tag:"path",attributes:mt(mt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:mt(mt({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(e,i){var r=i.getAttribute("data-fa-symbol");return e.symbol=null!==r&&(""===r||r),e}}}}],{mixoutsTo:Js});var Jze=Js.parse,ePe=Js.icon;const tPe=["*"],rPe=n=>{const t={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let oPe=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cPe=(()=>{class n{constructor(){this.definitions={}}addIcons(...e){for(const i of e){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...e){for(const i of e){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(e,i){return e in this.definitions&&i in this.definitions[e]?this.definitions[e][i]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lPe=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Qt]}),n})(),uPe=(()=>{class n{constructor(e,i){this.renderer=e,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return n.\u0275fac=function(e){return new(e||n)(S($s),S(Ge))},n.\u0275cmp=st({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Qt],ngContentSelectors:tPe,decls:1,vars:0,template:function(e,i){1&e&&(li(),Jt(0))},encapsulation:2}),n})(),dPe=(()=>{class n{constructor(e,i,r,s,a){this.sanitizer=e,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=a&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let i=null;if(i=this.icon??this.config.fallbackIcon,e){const r=this.findIconDefinition(i);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}render(){this.ngOnChanges({})}findIconDefinition(e){const i=((n,t)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:t,iconName:n}:void 0)(e,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?Jze.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...rPe(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,i){const r=ePe(e,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(e){return new(e||n)(S(P3),S(oPe),S(cPe),S(lPe,8),S(uPe,8))},n.\u0275cmp=st({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,i){2&e&&(Ys("innerHTML",i.renderedIconHTML,sw),Je("title",i.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Qt],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),fPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({}),n})(),Jf=(()=>{class n{constructor(){this.color="#38ad48",this.enabled=!0,this.size=50,this.speed=100,this.still=!1,this.styles={},this.thickness=100}get svgStyle(){return Object.assign({color:this.color,overflow:"visible",width:xG(this.size),height:xG(this.size)},"string"==typeof this.styles?JSON.parse(this.styles):this.styles)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,inputs:{color:"color",enabled:"enabled",size:"size",speed:"speed",still:"still",styles:"styles",thickness:"thickness"}}),n})();const xG=n=>parseFloat(n.toString()).toString()===n.toString()?`${n}px`:n.toString();function hPe(n,t){if(1&n&&(ti(),Re(0,"circle",3)),2&n){const e=t.index,i=ue(2);U("ngStyle",i.circleStyle(e)),Je("r",i.thickness/100*3)}}function pPe(n,t){if(1&n&&(ti(),I(0,"svg",1),Le(1,hPe,1,2,"circle",2),Re(2,"circle",3),V()),2&n){const e=ue();U("ngStyle",e.svgStyle),Y(1),U("ngForOf",e.coords),Y(1),U("ngStyle",e.centerStyle),Je("r",e.thickness/100*6)}}let mPe=(()=>{class n extends Jf{constructor(){super(...arguments),this.coords=[{x:22,y:-20},{x:29,y:0},{x:22,y:20},{x:0,y:30},{x:-23,y:20},{x:-30,y:0},{x:-23,y:-20},{x:0,y:-30}]}get duration(){return 200/this.speed}get centerStyle(){return this.still?{display:"none"}:{animation:`spinners-angular-dotted-center ${this.duration}s ease-out infinite`,transformOrigin:"center"}}circleStyle(e){return Object.assign({transform:`translate(${this.coords[e].x}px, ${this.coords[e].y}px)`},this.still?{}:{animation:`spinners-angular-dotted-shrink ${this.duration}s cubic-bezier(0, 0.9, 0, 0.9) ${this.duration/20*e}s infinite`})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Qe(n)))(i||n)}}(),n.\u0275cmp=st({type:n,selectors:[["sa-spinner-dotted"]],features:[me],decls:1,vars:1,consts:[["fill","none","viewBox","0 0 66 66",3,"ngStyle",4,"ngIf"],["fill","none","viewBox","0 0 66 66",3,"ngStyle"],["cx","33","cy","33","fill","currentColor",3,"ngStyle",4,"ngFor","ngForOf"],["cx","33","cy","33","fill","currentColor",3,"ngStyle"]],template:function(e,i){1&e&&Le(0,pPe,3,4,"svg",0),2&e&&U("ngIf",i.enabled)},dependencies:[Co,Kn,Ds],styles:["@-webkit-keyframes spinners-angular-dotted-center{0%,15%,85%,to{transform:scale(0)}40%,50%{transform:scale(1)}84%{transform:scale(.45)}}@keyframes spinners-angular-dotted-center{0%,15%,85%,to{transform:scale(0)}40%,50%{transform:scale(1)}84%{transform:scale(.45)}}@-webkit-keyframes spinners-angular-dotted-shrink{50%{transform:translate(0)}}@keyframes spinners-angular-dotted-shrink{50%{transform:translate(0)}}"]}),n})(),gPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Ua]}),n})();function _Pe(n,t){if(1&n&&(I(0,"mat-option",19),K(1),V()),2&n){const e=t.$implicit;U("value",e),Y(1),as(" ",e," ")}}function vPe(n,t){if(1&n){const e=fi();I(0,"mat-form-field",16)(1,"mat-select",17),ve("selectionChange",function(r){return dt(e),ft(ue(2)._changePageSize(r.value))}),Le(2,_Pe,2,2,"mat-option",18),V()()}if(2&n){const e=ue(2);U("appearance",e._formFieldAppearance)("color",e.color),Y(1),U("value",e.pageSize)("disabled",e.disabled)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering)("aria-label",e._intl.itemsPerPageLabel),Y(1),U("ngForOf",e._displayedPageSizeOptions)}}function yPe(n,t){if(1&n&&(I(0,"div",20),K(1),V()),2&n){const e=ue(2);Y(1),ur(e.pageSize)}}function bPe(n,t){if(1&n&&(I(0,"div",12)(1,"div",13),K(2),V(),Le(3,vPe,3,8,"mat-form-field",14),Le(4,yPe,2,1,"div",15),V()),2&n){const e=ue();Y(2),as(" ",e._intl.itemsPerPageLabel," "),Y(1),U("ngIf",e._displayedPageSizeOptions.length>1),Y(1),U("ngIf",e._displayedPageSizeOptions.length<=1)}}function MPe(n,t){if(1&n){const e=fi();I(0,"button",21),ve("click",function(){return dt(e),ft(ue().firstPage())}),ti(),I(1,"svg",7),Re(2,"path",22),V()()}if(2&n){const e=ue();U("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),Je("aria-label",e._intl.firstPageLabel)}}function xPe(n,t){if(1&n){const e=fi();ti(),Ku(),I(0,"button",23),ve("click",function(){return dt(e),ft(ue().lastPage())}),ti(),I(1,"svg",7),Re(2,"path",24),V()()}if(2&n){const e=ue();U("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),Je("aria-label",e._intl.lastPageLabel)}}let Bm=(()=>{class n{constructor(){this.changes=new Xe,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wPe={provide:Bm,deps:[[new ws,new fo,Bm]],useFactory:function CPe(n){return n||new Bm}},TPe=new he("MAT_PAGINATOR_DEFAULT_OPTIONS"),APe=Ll(Kce(class{}));let DPe=(()=>{class n extends APe{constructor(e,i,r){if(super(),this._intl=e,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.selectConfig={},this.page=new Te,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:a,hidePageSize:o,showFirstLastButtons:c}=r;null!=s&&(this._pageSize=s),null!=a&&(this._pageSizeOptions=a),null!=o&&(this._hidePageSize=o),null!=c&&(this._showFirstLastButtons=c)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(ji(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=ji(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(ji(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>ji(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=at(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=at(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(e){da()},n.\u0275dir=ne({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",selectConfig:"selectConfig"},outputs:{page:"page"},features:[me]}),n})(),EPe=(()=>{class n extends DPe{constructor(e,i,r){super(e,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(e){return new(e||n)(S(Bm),S(Pn),S(TPe,8))},n.\u0275cmp=st({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[me],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","panelClass","disableOptionCentering","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1),Le(2,bPe,5,3,"div",2),I(3,"div",3)(4,"div",4),K(5),V(),Le(6,MPe,3,5,"button",5),I(7,"button",6),ve("click",function(){return i.previousPage()}),ti(),I(8,"svg",7),Re(9,"path",8),V()(),Ku(),I(10,"button",9),ve("click",function(){return i.nextPage()}),ti(),I(11,"svg",7),Re(12,"path",10),V()(),Le(13,xPe,3,5,"button",11),V()()()),2&e&&(Y(2),U("ngIf",!i.hidePageSize),Y(3),as(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),Y(1),U("ngIf",i.showFirstLastButtons),Y(1),U("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),Je("aria-label",i._intl.previousPageLabel),Y(3),U("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),Je("aria-label",i._intl.nextPageLabel),Y(3),U("ngIf",i.showFirstLastButtons))},dependencies:[Co,Kn,Y3,yI,j4e,GL,due],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{display:inline-block;width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),kPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:[wPe],imports:[pr,F_,vV,wV,Et]}),n})();const _b=["*"],LPe=function(n,t){return{"mzd-timeline-card":n,"mzd-timeline-border":t}},IPe=function(n,t,e){return{"no-alternate":n,left:t,right:e}};let VPe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["mzd-icon"]],ngContentSelectors:_b,decls:1,vars:0,template:function(e,i){1&e&&(li(),Jt(0))}}),n})(),CG=(()=>{class n{constructor(e){this.elementRef=e,this.card=!0,this.border=!1}set left(e){this.elementRef.nativeElement.classList.toggle("content-left",e)}set right(e){this.elementRef.nativeElement.classList.toggle("content-right",e)}set noAlternate(e){this.elementRef.nativeElement.classList.toggle("no-alternate",e)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(S(Ge))},n.\u0275cmp=st({type:n,selectors:[["mzd-timeline-content"]],inputs:{card:"card",border:"border"},ngContentSelectors:_b,decls:2,vars:4,consts:[[3,"ngClass"]],template:function(e,i){1&e&&(li(),I(0,"div",0),Jt(1),V()),2&e&&U("ngClass",Ad(1,LPe,i.card,i.border))},dependencies:[Sr],styles:['mzd-timeline-content{background-color:inherit;display:block;padding:10px 30px;position:relative;width:50%}mzd-timeline-content .mzd-timeline-card{border-radius:4px;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);padding:16px}mzd-timeline-content .mzd-timeline-card mat-card{box-shadow:none!important;padding:0}mzd-timeline-content .mzd-timeline-border{border:1px solid grey;border-radius:4px}mzd-timeline-content.no-alternate{width:100%}mzd-timeline-content.no-alternate.content-right{left:0;padding-left:60px;right:auto}mzd-timeline-content.no-alternate.content-right:after{left:15px;right:auto}mzd-timeline-content.no-alternate.content-right mzd-icon{left:23px;right:auto}mzd-timeline-content.no-alternate.content-right:before{border-color:transparent grey transparent transparent;border-width:5px 10px 5px 20px;left:30px;right:auto}mzd-timeline-content.no-alternate.content-left{left:auto;padding-right:60px;right:0}mzd-timeline-content.no-alternate.content-left:after{left:auto;right:15px}mzd-timeline-content.no-alternate.content-left mzd-icon{left:auto;right:23px}mzd-timeline-content.no-alternate.content-left:before{border:solid transparent;border-left:solid grey;border-width:5px 20px 5px 10px;left:auto;right:30px}mzd-timeline-content:after{background:#f5f5f5;border:2px solid orange;border-radius:50%;box-sizing:border-box;content:"";height:30px;left:auto;position:absolute;right:-15px;top:15px;width:30px;z-index:1}mzd-timeline-content mzd-icon{border-radius:50%;box-sizing:border-box;left:auto;position:absolute;right:-7px;text-align:center;top:21px;width:14px;z-index:2}mzd-timeline-content.content-left{left:0;right:auto}mzd-timeline-content.content-left:before{border:solid transparent;border-left:solid grey;border-width:5px 20px 5px 10px;content:"";height:0;left:auto;position:absolute;right:0;top:25px;width:0;z-index:1}mzd-timeline-content.content-right{left:auto;right:-50%}mzd-timeline-content.content-right:after{left:-15px;right:auto}mzd-timeline-content.content-right mzd-icon{left:-7px;right:auto}mzd-timeline-content.content-right:before{border:solid transparent;border-right:solid grey;border-width:5px 10px 5px 20px;content:"";height:0;left:0;position:absolute;right:auto;top:25px;width:0;z-index:1}@media screen and (max-width:599px){mzd-timeline-content{padding-left:60px;width:100%}mzd-timeline-content.no-alternate{padding-left:30Px}mzd-timeline-content.content-left:after,mzd-timeline-content.content-right:after{left:15px;right:auto}mzd-timeline-content.content-left{left:0;right:auto}mzd-timeline-content.content-left mzd-icon{left:23px;right:auto}mzd-timeline-content.content-left:before,mzd-timeline-content.content-right:before{border-color:transparent grey transparent transparent;border-width:5px 10px 5px 20px;left:30px;right:auto}mzd-timeline-content.content-right{left:0;right:auto}mzd-timeline-content.content-right mzd-icon{left:23px;right:auto}}'],encapsulation:2}),n})(),HPe=(()=>{class n{constructor(){this.firstContentSide="left",this.alternateSide=!0}ngOnChanges(e){this.updateContent()}ngOnInit(){}ngAfterViewInit(){this.updateContent()}updateContent(){this.contents&&(this.contents.forEach(this.alternateSide?"left"===this.firstContentSide?(e,i)=>{e.left=i%2==0,e.right=i%2!=0}:(e,i)=>{e.left=i%2!=0,e.right=i%2==0}:e=>{e.left="left"===this.firstContentSide,e.right="right"===this.firstContentSide}),this.contents.forEach(e=>e.noAlternate=!this.alternateSide))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["mzd-timeline"]],contentQueries:function(e,i,r){if(1&e&&Fn(r,CG,4),2&e){let s;vt(s=yt())&&(i.contents=s)}},inputs:{firstContentSide:"firstContentSide",alternateSide:"alternateSide"},features:[Qt],ngContentSelectors:_b,decls:2,vars:5,consts:[[1,"mzd-timeline-line",3,"ngClass"]],template:function(e,i){1&e&&(li(),Re(0,"div",0),Jt(1)),2&e&&U("ngClass",function MA(n,t,e,i,r,s){return wA(Ae(),is(),n,t,e,i,r,s)}(1,IPe,!i.alternateSide,"left"!==i.firstContentSide,"right"!==i.firstContentSide))},dependencies:[Sr],styles:["*{box-sizing:border-box}mzd-timeline{display:block;padding:50px 0;position:relative;width:100%}mzd-timeline .mzd-timeline-line{background:grey;height:100%;left:50%;position:absolute;right:auto;top:0;width:1px}mzd-timeline .mzd-timeline-line.no-alternate.left{left:30px;right:auto}mzd-timeline .mzd-timeline-line.no-alternate.right{left:auto;right:30px}@media screen and (max-width:599px){mzd-timeline .mzd-timeline-line{left:30px;right:auto}}"],encapsulation:2}),n})(),RPe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[pr]}),n})(),zPe=(()=>{class n{constructor(e){this._sanitizer=e,this.videoURL="https://youtube.com/embed/yvhQkRc0jKg",this.safeURL=this._sanitizer.bypassSecurityTrustResourceUrl(this.videoURL)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(S(P3))},n.\u0275cmp=st({type:n,selectors:[["app-mini-player"]],decls:2,vars:1,consts:[["fxLayout","row","fxLayoutAlign","center"],["frameborder","0","width","720px","height","400px","allowfullscreen","",3,"src"]],template:function(e,i){1&e&&(I(0,"div",0),Re(1,"iframe",1),V()),2&e&&(Y(1),U("src",i.safeURL,L7))},dependencies:[np,rp]}),n})();function PPe(n,t){1&n&&(I(0,"span",1),K(1,"|"),V())}let NPe=(()=>{class n{constructor(){this.textToType="",this.animationDone=new Te,this.displayedText="",this.currentIndex=0}ngOnInit(){this.startTyping()}startTyping(){this.typingInterval=setInterval(()=>{this.currentIndex<=this.textToType.length?(this.displayedText=this.textToType.slice(0,this.currentIndex),this.currentIndex++):(this.showCursor||clearInterval(this.typingInterval),this.checkAllAnimationsDone())},100)}checkAllAnimationsDone(){this.animationDone.emit(!0)}ngOnDestroy(){clearInterval(this.typingInterval)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-typing-animation"]],inputs:{textToType:"textToType",showCursor:"showCursor"},outputs:{animationDone:"animationDone"},decls:3,vars:2,consts:[["class","cursor",4,"ngIf"],[1,"cursor"]],template:function(e,i){1&e&&(I(0,"span"),K(1),Le(2,PPe,2,0,"span",0),V()),2&e&&(Y(1),ur(i.displayedText),Y(1),U("ngIf",i.showCursor))},dependencies:[Kn],styles:[".cursor[_ngcontent-%COMP%]{display:inline-block;width:.5em;height:1em;background-color:#171717;animation:blink .75s infinite}@keyframes blink{0%,to{opacity:1}50%{opacity:0}}"]}),n})();function wG(n,t,e,i,r,s,a){try{var o=n[s](a),c=o.value}catch(l){return void e(l)}o.done?t(c):Promise.resolve(c).then(i,r)}const Yl=1e3,Zr=1001,$i=1003,Ri=1006,xc=1008,I2=1009,V2=1014,Cc=1015,rh=1016,Xl=1020,Ma=1023,Kl=1026,b4=1027,sh=2300,M4=2301,Zl=3001,Wt="srgb",Eo="srgb-linear",fW="display-p3",wc=2e3;class e1{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const r=this._listeners[t];if(void 0!==r){const s=r.indexOf(e);-1!==s&&r.splice(s,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const i=this._listeners[t.type];if(void 0!==i){t.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,t);t.target=null}}}const Qr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const t1=Math.PI/180,w4=180/Math.PI;function ea(){const n=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Qr[255&n]+Qr[n>>8&255]+Qr[n>>16&255]+Qr[n>>24&255]+"-"+Qr[255&t]+Qr[t>>8&255]+"-"+Qr[t>>16&15|64]+Qr[t>>24&255]+"-"+Qr[63&e|128]+Qr[e>>8&255]+"-"+Qr[e>>16&255]+Qr[e>>24&255]+Qr[255&i]+Qr[i>>8&255]+Qr[i>>16&255]+Qr[i>>24&255]).toLowerCase()}function zi(n,t,e){return Math.max(t,Math.min(e,n))}function Vb(n,t){return(n%t+t)%t}function ah(n,t,e){return(1-e)*n+e*t}function Hb(n){return 0==(n&n-1)&&0!==n}function mW(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Xm(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Ls(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function cn(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const gW_DEG2RAD=t1,gW_radToDeg=function ZNe(n){return n*w4};class Ce{constructor(t=0,e=0){Ce.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(zi(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),r=Math.sin(e),s=this.x-t.x,a=this.y-t.y;return this.x=s*i-a*r+t.x,this.y=s*r+a*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class mn{constructor(t,e,i,r,s,a,o,c,l){mn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,i,r,s,a,o,c,l)}set(t,e,i,r,s,a,o,c,l){const u=this.elements;return u[0]=t,u[1]=r,u[2]=o,u[3]=e,u[4]=s,u[5]=c,u[6]=i,u[7]=a,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,s=this.elements,a=i[0],o=i[3],c=i[6],l=i[1],u=i[4],d=i[7],f=i[2],h=i[5],p=i[8],v=r[0],g=r[3],m=r[6],C=r[1],b=r[4],T=r[7],E=r[2],L=r[5],k=r[8];return s[0]=a*v+o*C+c*E,s[3]=a*g+o*b+c*L,s[6]=a*m+o*T+c*k,s[1]=l*v+u*C+d*E,s[4]=l*g+u*b+d*L,s[7]=l*m+u*T+d*k,s[2]=f*v+h*C+p*E,s[5]=f*g+h*b+p*L,s[8]=f*m+h*T+p*k,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],c=t[6],l=t[7],u=t[8];return e*a*u-e*o*l-i*s*u+i*o*c+r*s*l-r*a*c}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],c=t[6],l=t[7],u=t[8],d=u*a-o*l,f=o*c-u*s,h=l*s-a*c,p=e*d+i*f+r*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const v=1/p;return t[0]=d*v,t[1]=(r*l-u*i)*v,t[2]=(o*i-r*a)*v,t[3]=f*v,t[4]=(u*e-r*c)*v,t[5]=(r*s-o*e)*v,t[6]=h*v,t[7]=(i*c-l*e)*v,t[8]=(a*e-i*s)*v,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,r,s,a,o){const c=Math.cos(s),l=Math.sin(s);return this.set(i*c,i*l,-i*(c*a+l*o)+a+t,-r*l,r*c,-r*(-l*a+c*o)+o+e,0,0,1),this}scale(t,e){return this.premultiply(Rb.makeScale(t,e)),this}rotate(t){return this.premultiply(Rb.makeRotation(-t)),this}translate(t,e){return this.premultiply(Rb.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const Rb=new mn;function _W(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}function oh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const vW={};function ch(n){n in vW||(vW[n]=!0,console.warn(n))}function T4(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function zb(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const eFe=(new mn).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),tFe=(new mn).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),rFe={[Eo]:n=>n,[Wt]:n=>n.convertSRGBToLinear(),[fW]:function nFe(n){return n.convertSRGBToLinear().applyMatrix3(tFe)}},sFe={[Eo]:n=>n,[Wt]:n=>n.convertLinearToSRGB(),[fW]:function iFe(n){return n.applyMatrix3(eFe).convertLinearToSRGB()}},qa={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return Eo},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,t,e){if(!1===this.enabled||t===e||!t||!e)return n;const i=rFe[t],r=sFe[e];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${t}" to "${e}".`);return r(i(n))},fromWorkingColorSpace:function(n,t){return this.convert(n,this.workingColorSpace,t)},toWorkingColorSpace:function(n,t){return this.convert(n,t,this.workingColorSpace)}};let A4;class yW{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===A4&&(A4=oh("canvas")),A4.width=t.width,A4.height=t.height;const i=A4.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=A4}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=oh("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const r=i.getImageData(0,0,t.width,t.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=255*T4(s[a]/255);return i.putImageData(r,0,0),e}if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e[i]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*T4(e[i]/255)):T4(e[i]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let aFe=0;class D4{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:aFe++}),this.uuid=ea(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)s.push(Pb(r[a].isDataTexture?r[a].image:r[a]))}else s=Pb(r);i.url=s}return e||(t.images[this.uuid]=i),i}}function Pb(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?yW.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let oFe=0,Ya=(()=>{class n extends e1{constructor(e=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=Zr,s=Zr,a=Ri,o=xc,c=Ma,l=I2,u=n.DEFAULT_ANISOTROPY,d=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:oFe++}),this.uuid=ea(),this.name="",this.source=new D4(e),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=c,this.internalFormat=null,this.type=l,this.offset=new Ce(0,0),this.repeat=new Ce(1,1),this.center=new Ce(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new mn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof d?this.colorSpace=d:(ch("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===Zl?Wt:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const i=void 0===e||"string"==typeof e;if(!i&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Yl:e.x=e.x-Math.floor(e.x);break;case Zr:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Yl:e.y=e.y-Math.floor(e.y);break;case Zr:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return ch("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Wt?Zl:3e3}set encoding(e){ch("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Zl?Wt:""}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class ni{constructor(t=0,e=0,i=0,r=1){ni.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,s=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*e+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*e+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*e+a[7]*i+a[11]*r+a[15]*s,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,r,s;const c=t.elements,l=c[0],u=c[4],d=c[8],f=c[1],h=c[5],p=c[9],v=c[2],g=c[6],m=c[10];if(Math.abs(u-f)<.01&&Math.abs(d-v)<.01&&Math.abs(p-g)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+v)<.1&&Math.abs(p+g)<.1&&Math.abs(l+h+m-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const b=(l+1)/2,T=(h+1)/2,E=(m+1)/2,L=(u+f)/4,k=(d+v)/4,O=(p+g)/4;return b>T&&b>E?b<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(b),r=L/i,s=k/i):T>E?T<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(T),i=L/r,s=O/r):E<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(E),i=k/s,r=O/s),this.set(i,r,s,e),this}let C=Math.sqrt((g-p)*(g-p)+(d-v)*(d-v)+(f-u)*(f-u));return Math.abs(C)<.001&&(C=1),this.x=(g-p)/C,this.y=(d-v)/C,this.z=(f-u)/C,this.w=Math.acos((l+h+m-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class cFe extends e1{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new ni(0,0,t,e),this.scissorTest=!1,this.viewport=new ni(0,0,t,e);const r={width:t,height:e,depth:1};void 0!==i.encoding&&(ch("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Zl?Wt:""),this.texture=new Ya(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:Ri,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(t,e,i=1){(this.width!==t||this.height!==e||this.depth!==i)&&(this.width=t,this.height=e,this.depth=i,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new D4(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class n1 extends cFe{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class Nb extends Ya{constructor(t=null,e=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=$i,this.minFilter=$i,this.wrapR=Zr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bW extends Ya{constructor(t=null,e=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=$i,this.minFilter=$i,this.wrapR=Zr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Br{constructor(t=0,e=0,i=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=r}static slerpFlat(t,e,i,r,s,a,o){let c=i[r+0],l=i[r+1],u=i[r+2],d=i[r+3];const f=s[a+0],h=s[a+1],p=s[a+2],v=s[a+3];if(0===o)return t[e+0]=c,t[e+1]=l,t[e+2]=u,void(t[e+3]=d);if(1===o)return t[e+0]=f,t[e+1]=h,t[e+2]=p,void(t[e+3]=v);if(d!==v||c!==f||l!==h||u!==p){let g=1-o;const m=c*f+l*h+u*p+d*v,C=m>=0?1:-1,b=1-m*m;if(b>Number.EPSILON){const E=Math.sqrt(b),L=Math.atan2(E,m*C);g=Math.sin(g*L)/E,o=Math.sin(o*L)/E}const T=o*C;if(c=c*g+f*T,l=l*g+h*T,u=u*g+p*T,d=d*g+v*T,g===1-o){const E=1/Math.sqrt(c*c+l*l+u*u+d*d);c*=E,l*=E,u*=E,d*=E}}t[e]=c,t[e+1]=l,t[e+2]=u,t[e+3]=d}static multiplyQuaternionsFlat(t,e,i,r,s,a){const o=i[r],c=i[r+1],l=i[r+2],u=i[r+3],d=s[a],f=s[a+1],h=s[a+2],p=s[a+3];return t[e]=o*p+u*d+c*h-l*f,t[e+1]=c*p+u*f+l*d-o*h,t[e+2]=l*p+u*h+o*f-c*d,t[e+3]=u*p-o*d-c*f-l*h,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){const i=t._x,r=t._y,s=t._z,a=t._order,o=Math.cos,c=Math.sin,l=o(i/2),u=o(r/2),d=o(s/2),f=c(i/2),h=c(r/2),p=c(s/2);switch(a){case"XYZ":this._x=f*u*d+l*h*p,this._y=l*h*d-f*u*p,this._z=l*u*p+f*h*d,this._w=l*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+l*h*p,this._y=l*h*d-f*u*p,this._z=l*u*p-f*h*d,this._w=l*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-l*h*p,this._y=l*h*d+f*u*p,this._z=l*u*p+f*h*d,this._w=l*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-l*h*p,this._y=l*h*d+f*u*p,this._z=l*u*p-f*h*d,this._w=l*u*d+f*h*p;break;case"YZX":this._x=f*u*d+l*h*p,this._y=l*h*d+f*u*p,this._z=l*u*p-f*h*d,this._w=l*u*d-f*h*p;break;case"XZY":this._x=f*u*d-l*h*p,this._y=l*h*d-f*u*p,this._z=l*u*p+f*h*d,this._w=l*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],r=e[4],s=e[8],a=e[1],o=e[5],c=e[9],l=e[2],u=e[6],d=e[10],f=i+o+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-c)*h,this._y=(s-l)*h,this._z=(a-r)*h}else if(i>o&&i>d){const h=2*Math.sqrt(1+i-o-d);this._w=(u-c)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(s+l)/h}else if(o>d){const h=2*Math.sqrt(1+o-i-d);this._w=(s-l)/h,this._x=(r+a)/h,this._y=.25*h,this._z=(c+u)/h}else{const h=2*Math.sqrt(1+d-i-o);this._w=(a-r)/h,this._x=(s+l)/h,this._y=(c+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(zi(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const r=Math.min(1,e/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,r=t._y,s=t._z,a=t._w,o=e._x,c=e._y,l=e._z,u=e._w;return this._x=i*u+a*o+r*l-s*c,this._y=r*u+a*c+s*o-i*l,this._z=s*u+a*l+i*c-r*o,this._w=a*u-i*o-r*c-s*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*t._w+i*t._x+r*t._y+s*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const c=1-o*o;if(c<=Number.EPSILON){const h=1-e;return this._w=h*a+e*this._w,this._x=h*i+e*this._x,this._y=h*r+e*this._y,this._z=h*s+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(c),u=Math.atan2(l,o),d=Math.sin((1-e)*u)/l,f=Math.sin(e*u)/l;return this._w=a*d+this._w*f,this._x=i*d+this._x*f,this._y=r*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(e*Math.cos(r),i*Math.sin(s),i*Math.cos(s),e*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class P{constructor(t=0,e=0,i=0){P.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(MW.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(MW.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6]*r,this.y=s[1]*e+s[4]*i+s[7]*r,this.z=s[2]*e+s[5]*i+s[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,s=t.elements,a=1/(s[3]*e+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*e+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*e+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*e+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(t){const e=this.x,i=this.y,r=this.z,s=t.x,a=t.y,o=t.z,c=t.w,l=c*e+a*r-o*i,u=c*i+o*e-s*r,d=c*r+s*i-a*e,f=-s*e-a*i-o*r;return this.x=l*c+f*-s+u*-o-d*-a,this.y=u*c+f*-a+d*-s-l*-o,this.z=d*c+f*-o+l*-a-u*-s,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[4]*i+s[8]*r,this.y=s[1]*e+s[5]*i+s[9]*r,this.z=s[2]*e+s[6]*i+s[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,r=t.y,s=t.z,a=e.x,o=e.y,c=e.z;return this.x=r*c-s*o,this.y=s*a-i*c,this.z=i*o-r*a,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return Fb.copy(this).projectOnVector(t),this.sub(Fb)}reflect(t){return this.sub(Fb.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(zi(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Fb=new P,MW=new Br;class ko{constructor(t=new P(1/0,1/0,1/0),e=new P(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(Tc.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(Tc.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Tc.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){if(t.updateWorldMatrix(!1,!1),void 0!==t.boundingBox)null===t.boundingBox&&t.computeBoundingBox(),E4.copy(t.boundingBox),E4.applyMatrix4(t.matrixWorld),this.union(E4);else{const r=t.geometry;if(void 0!==r)if(e&&void 0!==r.attributes&&void 0!==r.attributes.position){const s=r.attributes.position;for(let a=0,o=s.count;a<o;a++)Tc.fromBufferAttribute(s,a).applyMatrix4(t.matrixWorld),this.expandByPoint(Tc)}else null===r.boundingBox&&r.computeBoundingBox(),E4.copy(r.boundingBox),E4.applyMatrix4(t.matrixWorld),this.union(E4)}const i=t.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Tc),Tc.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(lh),Km.subVectors(this.max,lh),k4.subVectors(t.a,lh),L4.subVectors(t.b,lh),I4.subVectors(t.c,lh),H2.subVectors(L4,k4),R2.subVectors(I4,L4),r1.subVectors(k4,I4);let e=[0,-H2.z,H2.y,0,-R2.z,R2.y,0,-r1.z,r1.y,H2.z,0,-H2.x,R2.z,0,-R2.x,r1.z,0,-r1.x,-H2.y,H2.x,0,-R2.y,R2.x,0,-r1.y,r1.x,0];return!(!Ob(e,k4,L4,I4,Km)||(e=[1,0,0,0,1,0,0,0,1],!Ob(e,k4,L4,I4,Km)))&&(Zm.crossVectors(H2,R2),e=[Zm.x,Zm.y,Zm.z],Ob(e,k4,L4,I4,Km))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Tc).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(Tc).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(Sc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Sc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Sc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Sc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Sc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Sc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Sc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Sc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Sc)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Sc=[new P,new P,new P,new P,new P,new P,new P,new P],Tc=new P,E4=new ko,k4=new P,L4=new P,I4=new P,H2=new P,R2=new P,r1=new P,lh=new P,Km=new P,Zm=new P,s1=new P;function Ob(n,t,e,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){s1.fromArray(n,s);const o=r.x*Math.abs(s1.x)+r.y*Math.abs(s1.y)+r.z*Math.abs(s1.z),c=t.dot(s1),l=e.dot(s1),u=i.dot(s1);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>o)return!1}return!0}const lFe=new ko,uh=new P,Bb=new P;class Xa{constructor(t=new P,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;void 0!==e?i.copy(e):lFe.setFromPoints(t).getCenter(i);let r=0;for(let s=0,a=t.length;s<a;s++)r=Math.max(r,i.distanceToSquared(t[s]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;uh.subVectors(t,this.center);const e=uh.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),r=.5*(i-this.radius);this.center.addScaledVector(uh,r/i),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(Bb.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(uh.copy(t.center).add(Bb)),this.expandByPoint(uh.copy(t.center).sub(Bb))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Ac=new P,Ub=new P,Qm=new P,z2=new P,Gb=new P,Jm=new P,Wb=new P;class V4{constructor(t=new P,e=new P(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ac)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Ac.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Ac.copy(this.origin).addScaledVector(this.direction,e),Ac.distanceToSquared(t))}distanceSqToSegment(t,e,i,r){Ub.copy(t).add(e).multiplyScalar(.5),Qm.copy(e).sub(t).normalize(),z2.copy(this.origin).sub(Ub);const s=.5*t.distanceTo(e),a=-this.direction.dot(Qm),o=z2.dot(this.direction),c=-z2.dot(Qm),l=z2.lengthSq(),u=Math.abs(1-a*a);let d,f,h,p;if(u>0)if(d=a*c-o,f=a*o-c,p=s*u,d>=0)if(f>=-p)if(f<=p){const v=1/u;d*=v,f*=v,h=d*(d+a*f+2*o)+f*(a*d+f+2*c)+l}else f=s,d=Math.max(0,-(a*f+o)),h=-d*d+f*(f+2*c)+l;else f=-s,d=Math.max(0,-(a*f+o)),h=-d*d+f*(f+2*c)+l;else f<=-p?(d=Math.max(0,-(-a*s+o)),f=d>0?-s:Math.min(Math.max(-s,-c),s),h=-d*d+f*(f+2*c)+l):f<=p?(d=0,f=Math.min(Math.max(-s,-c),s),h=f*(f+2*c)+l):(d=Math.max(0,-(a*s+o)),f=d>0?s:Math.min(Math.max(-s,-c),s),h=-d*d+f*(f+2*c)+l);else f=a>0?-s:s,d=Math.max(0,-(a*f+o)),h=-d*d+f*(f+2*c)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(Ub).addScaledVector(Qm,f),h}intersectSphere(t,e){Ac.subVectors(t.center,this.origin);const i=Ac.dot(this.direction),r=Ac.dot(Ac)-i*i,s=t.radius*t.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,c=i+a;return c<0?null:this.at(o<0?c:o,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return null===i?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,r,s,a,o,c;const l=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return l>=0?(i=(t.min.x-f.x)*l,r=(t.max.x-f.x)*l):(i=(t.max.x-f.x)*l,r=(t.min.x-f.x)*l),u>=0?(s=(t.min.y-f.y)*u,a=(t.max.y-f.y)*u):(s=(t.max.y-f.y)*u,a=(t.min.y-f.y)*u),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),d>=0?(o=(t.min.z-f.z)*d,c=(t.max.z-f.z)*d):(o=(t.max.z-f.z)*d,c=(t.min.z-f.z)*d),i>c||o>r)||((o>i||i!=i)&&(i=o),(c<r||r!=r)&&(r=c),r<0)?null:this.at(i>=0?i:r,e)}intersectsBox(t){return null!==this.intersectBox(t,Ac)}intersectTriangle(t,e,i,r,s){Gb.subVectors(e,t),Jm.subVectors(i,t),Wb.crossVectors(Gb,Jm);let o,a=this.direction.dot(Wb);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}z2.subVectors(this.origin,t);const c=o*this.direction.dot(Jm.crossVectors(z2,Jm));if(c<0)return null;const l=o*this.direction.dot(Gb.cross(z2));if(l<0||c+l>a)return null;const u=-o*z2.dot(Wb);return u<0?null:this.at(u/a,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class jt{constructor(t,e,i,r,s,a,o,c,l,u,d,f,h,p,v,g){jt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,i,r,s,a,o,c,l,u,d,f,h,p,v,g)}set(t,e,i,r,s,a,o,c,l,u,d,f,h,p,v,g){const m=this.elements;return m[0]=t,m[4]=e,m[8]=i,m[12]=r,m[1]=s,m[5]=a,m[9]=o,m[13]=c,m[2]=l,m[6]=u,m[10]=d,m[14]=f,m[3]=h,m[7]=p,m[11]=v,m[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new jt).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,r=1/H4.setFromMatrixColumn(t,0).length(),s=1/H4.setFromMatrixColumn(t,1).length(),a=1/H4.setFromMatrixColumn(t,2).length();return e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r,e[3]=0,e[4]=i[4]*s,e[5]=i[5]*s,e[6]=i[6]*s,e[7]=0,e[8]=i[8]*a,e[9]=i[9]*a,e[10]=i[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,r=t.y,s=t.z,a=Math.cos(i),o=Math.sin(i),c=Math.cos(r),l=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if("XYZ"===t.order){const f=a*u,h=a*d,p=o*u,v=o*d;e[0]=c*u,e[4]=-c*d,e[8]=l,e[1]=h+p*l,e[5]=f-v*l,e[9]=-o*c,e[2]=v-f*l,e[6]=p+h*l,e[10]=a*c}else if("YXZ"===t.order){const f=c*u,h=c*d,p=l*u,v=l*d;e[0]=f+v*o,e[4]=p*o-h,e[8]=a*l,e[1]=a*d,e[5]=a*u,e[9]=-o,e[2]=h*o-p,e[6]=v+f*o,e[10]=a*c}else if("ZXY"===t.order){const f=c*u,h=c*d,p=l*u,v=l*d;e[0]=f-v*o,e[4]=-a*d,e[8]=p+h*o,e[1]=h+p*o,e[5]=a*u,e[9]=v-f*o,e[2]=-a*l,e[6]=o,e[10]=a*c}else if("ZYX"===t.order){const f=a*u,h=a*d,p=o*u,v=o*d;e[0]=c*u,e[4]=p*l-h,e[8]=f*l+v,e[1]=c*d,e[5]=v*l+f,e[9]=h*l-p,e[2]=-l,e[6]=o*c,e[10]=a*c}else if("YZX"===t.order){const f=a*c,h=a*l,p=o*c,v=o*l;e[0]=c*u,e[4]=v-f*d,e[8]=p*d+h,e[1]=d,e[5]=a*u,e[9]=-o*u,e[2]=-l*u,e[6]=h*d+p,e[10]=f-v*d}else if("XZY"===t.order){const f=a*c,h=a*l,p=o*c,v=o*l;e[0]=c*u,e[4]=-d,e[8]=l*u,e[1]=f*d+v,e[5]=a*u,e[9]=h*d-p,e[2]=p*d-h,e[6]=o*u,e[10]=v*d+f}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(uFe,t,dFe)}lookAt(t,e,i){const r=this.elements;return ta.subVectors(t,e),0===ta.lengthSq()&&(ta.z=1),ta.normalize(),P2.crossVectors(i,ta),0===P2.lengthSq()&&(1===Math.abs(i.z)?ta.x+=1e-4:ta.z+=1e-4,ta.normalize(),P2.crossVectors(i,ta)),P2.normalize(),e8.crossVectors(ta,P2),r[0]=P2.x,r[4]=e8.x,r[8]=ta.x,r[1]=P2.y,r[5]=e8.y,r[9]=ta.y,r[2]=P2.z,r[6]=e8.z,r[10]=ta.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,s=this.elements,a=i[0],o=i[4],c=i[8],l=i[12],u=i[1],d=i[5],f=i[9],h=i[13],p=i[2],v=i[6],g=i[10],m=i[14],C=i[3],b=i[7],T=i[11],E=i[15],L=r[0],k=r[4],O=r[8],D=r[12],R=r[1],ie=r[5],ge=r[9],Q=r[13],J=r[2],se=r[6],X=r[10],Z=r[14],te=r[3],oe=r[7],Me=r[11],ee=r[15];return s[0]=a*L+o*R+c*J+l*te,s[4]=a*k+o*ie+c*se+l*oe,s[8]=a*O+o*ge+c*X+l*Me,s[12]=a*D+o*Q+c*Z+l*ee,s[1]=u*L+d*R+f*J+h*te,s[5]=u*k+d*ie+f*se+h*oe,s[9]=u*O+d*ge+f*X+h*Me,s[13]=u*D+d*Q+f*Z+h*ee,s[2]=p*L+v*R+g*J+m*te,s[6]=p*k+v*ie+g*se+m*oe,s[10]=p*O+v*ge+g*X+m*Me,s[14]=p*D+v*Q+g*Z+m*ee,s[3]=C*L+b*R+T*J+E*te,s[7]=C*k+b*ie+T*se+E*oe,s[11]=C*O+b*ge+T*X+E*Me,s[15]=C*D+b*Q+T*Z+E*ee,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],r=t[8],s=t[12],a=t[1],o=t[5],c=t[9],l=t[13],u=t[2],d=t[6],f=t[10],h=t[14];return t[3]*(+s*c*d-r*l*d-s*o*f+i*l*f+r*o*h-i*c*h)+t[7]*(+e*c*h-e*l*f+s*a*f-r*a*h+r*l*u-s*c*u)+t[11]*(+e*l*d-e*o*h-s*a*d+i*a*h+s*o*u-i*l*u)+t[15]*(-r*o*u-e*c*d+e*o*f+r*a*d-i*a*f+i*c*u)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],h=t[11],p=t[12],v=t[13],g=t[14],m=t[15],C=d*g*l-v*f*l+v*c*h-o*g*h-d*c*m+o*f*m,b=p*f*l-u*g*l-p*c*h+a*g*h+u*c*m-a*f*m,T=u*v*l-p*d*l+p*o*h-a*v*h-u*o*m+a*d*m,E=p*d*c-u*v*c-p*o*f+a*v*f+u*o*g-a*d*g,L=e*C+i*b+r*T+s*E;if(0===L)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const k=1/L;return t[0]=C*k,t[1]=(v*f*s-d*g*s-v*r*h+i*g*h+d*r*m-i*f*m)*k,t[2]=(o*g*s-v*c*s+v*r*l-i*g*l-o*r*m+i*c*m)*k,t[3]=(d*c*s-o*f*s-d*r*l+i*f*l+o*r*h-i*c*h)*k,t[4]=b*k,t[5]=(u*g*s-p*f*s+p*r*h-e*g*h-u*r*m+e*f*m)*k,t[6]=(p*c*s-a*g*s-p*r*l+e*g*l+a*r*m-e*c*m)*k,t[7]=(a*f*s-u*c*s+u*r*l-e*f*l-a*r*h+e*c*h)*k,t[8]=T*k,t[9]=(p*d*s-u*v*s-p*i*h+e*v*h+u*i*m-e*d*m)*k,t[10]=(a*v*s-p*o*s+p*i*l-e*v*l-a*i*m+e*o*m)*k,t[11]=(u*o*s-a*d*s-u*i*l+e*d*l+a*i*h-e*o*h)*k,t[12]=E*k,t[13]=(u*v*r-p*d*r+p*i*f-e*v*f-u*i*g+e*d*g)*k,t[14]=(p*o*r-a*v*r-p*i*c+e*v*c+a*i*g-e*o*g)*k,t[15]=(a*d*r-u*o*r+u*i*c-e*d*c-a*i*f+e*o*f)*k,this}scale(t){const e=this.elements,i=t.x,r=t.y,s=t.z;return e[0]*=i,e[4]*=r,e[8]*=s,e[1]*=i,e[5]*=r,e[9]*=s,e[2]*=i,e[6]*=r,e[10]*=s,e[3]*=i,e[7]*=r,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),r=Math.sin(e),s=1-i,a=t.x,o=t.y,c=t.z,l=s*a,u=s*o;return this.set(l*a+i,l*o-r*c,l*c+r*o,0,l*o+r*c,u*o+i,u*c-r*a,0,l*c-r*o,u*c+r*a,s*c*c+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,r,s,a){return this.set(1,i,s,0,t,1,a,0,e,r,1,0,0,0,0,1),this}compose(t,e,i){const r=this.elements,s=e._x,a=e._y,o=e._z,c=e._w,l=s+s,u=a+a,d=o+o,f=s*l,h=s*u,p=s*d,v=a*u,g=a*d,m=o*d,C=c*l,b=c*u,T=c*d,E=i.x,L=i.y,k=i.z;return r[0]=(1-(v+m))*E,r[1]=(h+T)*E,r[2]=(p-b)*E,r[3]=0,r[4]=(h-T)*L,r[5]=(1-(f+m))*L,r[6]=(g+C)*L,r[7]=0,r[8]=(p+b)*k,r[9]=(g-C)*k,r[10]=(1-(f+v))*k,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,i){const r=this.elements;let s=H4.set(r[0],r[1],r[2]).length();const a=H4.set(r[4],r[5],r[6]).length(),o=H4.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),t.x=r[12],t.y=r[13],t.z=r[14],Ka.copy(this);const l=1/s,u=1/a,d=1/o;return Ka.elements[0]*=l,Ka.elements[1]*=l,Ka.elements[2]*=l,Ka.elements[4]*=u,Ka.elements[5]*=u,Ka.elements[6]*=u,Ka.elements[8]*=d,Ka.elements[9]*=d,Ka.elements[10]*=d,e.setFromRotationMatrix(Ka),i.x=s,i.y=a,i.z=o,this}makePerspective(t,e,i,r,s,a,o=wc){const c=this.elements,l=2*s/(e-t),u=2*s/(i-r),d=(e+t)/(e-t),f=(i+r)/(i-r);let h,p;if(o===wc)h=-(a+s)/(a-s),p=-2*a*s/(a-s);else{if(2001!==o)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);h=-a/(a-s),p=-a*s/(a-s)}return c[0]=l,c[4]=0,c[8]=d,c[12]=0,c[1]=0,c[5]=u,c[9]=f,c[13]=0,c[2]=0,c[6]=0,c[10]=h,c[14]=p,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(t,e,i,r,s,a,o=wc){const c=this.elements,l=1/(e-t),u=1/(i-r),d=1/(a-s),f=(e+t)*l,h=(i+r)*u;let p,v;if(o===wc)p=(a+s)*d,v=-2*d;else{if(2001!==o)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);p=s*d,v=-1*d}return c[0]=2*l,c[4]=0,c[8]=0,c[12]=-f,c[1]=0,c[5]=2*u,c[9]=0,c[13]=-h,c[2]=0,c[6]=0,c[10]=v,c[14]=-p,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const H4=new P,Ka=new jt,uFe=new P(0,0,0),dFe=new P(1,1,1),P2=new P,e8=new P,ta=new P,xW=new jt,CW=new Br;let fFe=(()=>{class n{constructor(e=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,r,s=this._order){return this._x=e,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i=this._order,r=!0){const s=e.elements,a=s[0],o=s[4],c=s[8],l=s[1],u=s[5],d=s[9],f=s[2],h=s[6],p=s[10];switch(i){case"XYZ":this._y=Math.asin(zi(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-zi(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(c,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(zi(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-zi(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(zi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(c,p));break;case"XZY":this._z=Math.asin(-zi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(e,i,r){return xW.makeRotationFromQuaternion(e),this.setFromRotationMatrix(xW,i,r)}setFromVector3(e,i=this._order){return this.set(e.x,e.y,e.z,i)}reorder(e){return CW.setFromEuler(this),this.setFromQuaternion(CW,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class jb{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let hFe=0;const wW=new P,R4=new Br,Dc=new jt,t8=new P,dh=new P,pFe=new P,mFe=new Br,SW=new P(1,0,0),TW=new P(0,1,0),AW=new P(0,0,1),gFe={type:"added"},DW={type:"removed"};let Ar=(()=>{class n extends e1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:hFe++}),this.uuid=ea(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const e=new P,i=new fFe,r=new Br,s=new P(1,1,1);i._onChange(function a(){r.setFromEuler(i,!1)}),r._onChange(function o(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new jt},normalMatrix:{value:new mn}}),this.matrix=new jt,this.matrixWorld=new jt,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new jb,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,i){this.quaternion.setFromAxisAngle(e,i)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,i){return R4.setFromAxisAngle(e,i),this.quaternion.multiply(R4),this}rotateOnWorldAxis(e,i){return R4.setFromAxisAngle(e,i),this.quaternion.premultiply(R4),this}rotateX(e){return this.rotateOnAxis(SW,e)}rotateY(e){return this.rotateOnAxis(TW,e)}rotateZ(e){return this.rotateOnAxis(AW,e)}translateOnAxis(e,i){return wW.copy(e).applyQuaternion(this.quaternion),this.position.add(wW.multiplyScalar(i)),this}translateX(e){return this.translateOnAxis(SW,e)}translateY(e){return this.translateOnAxis(TW,e)}translateZ(e){return this.translateOnAxis(AW,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Dc.copy(this.matrixWorld).invert())}lookAt(e,i,r){e.isVector3?t8.copy(e):t8.set(e,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),dh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Dc.lookAt(dh,t8,this.up):Dc.lookAt(t8,dh,this.up),this.quaternion.setFromRotationMatrix(Dc),s&&(Dc.extractRotation(s.matrixWorld),R4.setFromRotationMatrix(Dc),this.quaternion.premultiply(R4.invert()))}add(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(gFe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(e);return-1!==i&&(e.parent=null,this.children.splice(i,1),e.dispatchEvent(DW)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const i=this.children[e];i.parent=null,i.dispatchEvent(DW)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Dc.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Dc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Dc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,i){if(this[e]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectByProperty(e,i);if(void 0!==o)return o}}getObjectsByProperty(e,i){let r=[];this[e]===i&&r.push(this);for(let s=0,a=this.children.length;s<a;s++){const o=this.children[s].getObjectsByProperty(e,i);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dh,e,pFe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dh,mFe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return e.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(e){e(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(e)}traverseAncestors(e){const i=this.parent;null!==i&&(e(i),i.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++){const a=i[r];(!0===a.matrixWorldAutoUpdate||!0===e)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,i){const r=this.parent;if(!0===e&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const s=this.children;for(let a=0,o=s.length;a<o;a++){const c=s[a];!0===c.matrixWorldAutoUpdate&&c.updateWorldMatrix(!1,!0)}}}toJSON(e){const i=void 0===e||"string"==typeof e,r={};i&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function a(c,l){return void 0===c[l.uuid]&&(c[l.uuid]=l.toJSON(e)),l.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(e.geometries,this.geometry);const c=this.geometry.parameters;if(void 0!==c&&void 0!==c.shapes){const l=c.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++)a(e.shapes,l[u]);else a(e.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(a(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const c=[];for(let l=0,u=this.material.length;l<u;l++)c.push(a(e.materials,this.material[l]));s.material=c}else s.material=a(e.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++)s.animations.push(a(e.animations,this.animations[c]))}if(i){const c=o(e.geometries),l=o(e.materials),u=o(e.textures),d=o(e.images),f=o(e.shapes),h=o(e.skeletons),p=o(e.animations),v=o(e.nodes);c.length>0&&(r.geometries=c),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),v.length>0&&(r.nodes=v)}return r.object=s,r;function o(c){const l=[];for(const u in c){const d=c[u];delete d.metadata,l.push(d)}return l}}clone(e){return(new this.constructor).copy(this,e)}copy(e,i=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===i)for(let r=0;r<e.children.length;r++)this.add(e.children[r].clone());return this}}return n.DEFAULT_UP=new P(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Za=new P,Ec=new P,$b=new P,kc=new P,z4=new P,P4=new P,EW=new P,qb=new P,Yb=new P,Xb=new P;let n8=!1;class na{constructor(t=new P,e=new P,i=new P){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,r){r.subVectors(i,e),Za.subVectors(t,e),r.cross(Za);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(t,e,i,r,s){Za.subVectors(r,e),Ec.subVectors(i,e),$b.subVectors(t,e);const a=Za.dot(Za),o=Za.dot(Ec),c=Za.dot($b),l=Ec.dot(Ec),u=Ec.dot($b),d=a*l-o*o;if(0===d)return s.set(-2,-1,-1);const f=1/d,h=(l*c-o*u)*f,p=(a*u-o*c)*f;return s.set(1-h-p,p,h)}static containsPoint(t,e,i,r){return this.getBarycoord(t,e,i,r,kc),kc.x>=0&&kc.y>=0&&kc.x+kc.y<=1}static getUV(t,e,i,r,s,a,o,c){return!1===n8&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),n8=!0),this.getInterpolation(t,e,i,r,s,a,o,c)}static getInterpolation(t,e,i,r,s,a,o,c){return this.getBarycoord(t,e,i,r,kc),c.setScalar(0),c.addScaledVector(s,kc.x),c.addScaledVector(a,kc.y),c.addScaledVector(o,kc.z),c}static isFrontFacing(t,e,i,r){return Za.subVectors(i,e),Ec.subVectors(t,e),Za.cross(Ec).dot(r)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,i,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Za.subVectors(this.c,this.b),Ec.subVectors(this.a,this.b),.5*Za.cross(Ec).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return na.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return na.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,i,r,s){return!1===n8&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),n8=!0),na.getInterpolation(t,this.a,this.b,this.c,e,i,r,s)}getInterpolation(t,e,i,r,s){return na.getInterpolation(t,this.a,this.b,this.c,e,i,r,s)}containsPoint(t){return na.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return na.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,r=this.b,s=this.c;let a,o;z4.subVectors(r,i),P4.subVectors(s,i),qb.subVectors(t,i);const c=z4.dot(qb),l=P4.dot(qb);if(c<=0&&l<=0)return e.copy(i);Yb.subVectors(t,r);const u=z4.dot(Yb),d=P4.dot(Yb);if(u>=0&&d<=u)return e.copy(r);const f=c*d-u*l;if(f<=0&&c>=0&&u<=0)return a=c/(c-u),e.copy(i).addScaledVector(z4,a);Xb.subVectors(t,s);const h=z4.dot(Xb),p=P4.dot(Xb);if(p>=0&&h<=p)return e.copy(s);const v=h*l-c*p;if(v<=0&&l>=0&&p<=0)return o=l/(l-p),e.copy(i).addScaledVector(P4,o);const g=u*p-h*d;if(g<=0&&d-u>=0&&h-p>=0)return EW.subVectors(s,r),o=(d-u)/(d-u+(h-p)),e.copy(r).addScaledVector(EW,o);const m=1/(g+v+f);return a=v*m,o=f*m,e.copy(i).addScaledVector(z4,a).addScaledVector(P4,o)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let _Fe=0;class Qa extends e1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_Fe++}),this.uuid=ea(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const i=t[e];if(void 0===i){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(s){const a=[];for(const o in s){const c=s[o];delete c.metadata,a.push(c)}return a}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),e){const s=r(t.textures),a=r(t.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(null!==e){const r=e.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=e[s].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}const kW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ja={h:0,s:0,l:0},i8={h:0,s:0,l:0};function Kb(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*(t-n)*e:e<.5?t:e<2/3?n+6*(t-n)*(2/3-e):n}class ot{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(void 0===e&&void 0===i){const r=t;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Wt){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,qa.toWorkingColorSpace(this,e),this}setRGB(t,e,i,r=qa.workingColorSpace){return this.r=t,this.g=e,this.b=i,qa.toWorkingColorSpace(this,r),this}setHSL(t,e,i,r=qa.workingColorSpace){if(t=Vb(t,1),e=zi(e,0,1),i=zi(i,0,1),0===e)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+e):i+e-i*e,a=2*i-s;this.r=Kb(a,s,t+1/3),this.g=Kb(a,s,t),this.b=Kb(a,s,t-1/3)}return qa.toWorkingColorSpace(this,r),this}setStyle(t,e=Wt){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let s;const o=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,e);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,e);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=r[1],a=s.length;if(3===a)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,e);if(6===a)return this.setHex(parseInt(s,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Wt){const i=kW[t.toLowerCase()];return void 0!==i?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=T4(t.r),this.g=T4(t.g),this.b=T4(t.b),this}copyLinearToSRGB(t){return this.r=zb(t.r),this.g=zb(t.g),this.b=zb(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Wt){return qa.fromWorkingColorSpace(Jr.copy(this),t),65536*Math.round(zi(255*Jr.r,0,255))+256*Math.round(zi(255*Jr.g,0,255))+Math.round(zi(255*Jr.b,0,255))}getHexString(t=Wt){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=qa.workingColorSpace){qa.fromWorkingColorSpace(Jr.copy(this),e);const i=Jr.r,r=Jr.g,s=Jr.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let c,l;const u=(o+a)/2;if(o===a)c=0,l=0;else{const d=a-o;switch(l=u<=.5?d/(a+o):d/(2-a-o),a){case i:c=(r-s)/d+(r<s?6:0);break;case r:c=(s-i)/d+2;break;case s:c=(i-r)/d+4}c/=6}return t.h=c,t.s=l,t.l=u,t}getRGB(t,e=qa.workingColorSpace){return qa.fromWorkingColorSpace(Jr.copy(this),e),t.r=Jr.r,t.g=Jr.g,t.b=Jr.b,t}getStyle(t=Wt){qa.fromWorkingColorSpace(Jr.copy(this),t);const e=Jr.r,i=Jr.g,r=Jr.b;return t!==Wt?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(t,e,i){return this.getHSL(Ja),Ja.h+=t,Ja.s+=e,Ja.l+=i,this.setHSL(Ja.h,Ja.s,Ja.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Ja),t.getHSL(i8);const i=ah(Ja.h,i8.h,e),r=ah(Ja.s,i8.s,e),s=ah(Ja.l,i8.l,e);return this.setHSL(i,r,s),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,r=this.b,s=t.elements;return this.r=s[0]*e+s[3]*i+s[6]*r,this.g=s[1]*e+s[4]*i+s[7]*r,this.b=s[2]*e+s[5]*i+s[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Jr=new ot;ot.NAMES=kW;class xa extends Qa{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ot(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const nr=new P,r8=new Ce;class Pi{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=Cc,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[t+r]=e.array[i+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,i=this.count;e<i;e++)r8.fromBufferAttribute(this,e),r8.applyMatrix3(t),this.setXY(e,r8.x,r8.y);else if(3===this.itemSize)for(let e=0,i=this.count;e<i;e++)nr.fromBufferAttribute(this,e),nr.applyMatrix3(t),this.setXYZ(e,nr.x,nr.y,nr.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)nr.fromBufferAttribute(this,e),nr.applyMatrix4(t),this.setXYZ(e,nr.x,nr.y,nr.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)nr.fromBufferAttribute(this,e),nr.applyNormalMatrix(t),this.setXYZ(e,nr.x,nr.y,nr.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)nr.fromBufferAttribute(this,e),nr.transformDirection(t),this.setXYZ(e,nr.x,nr.y,nr.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=Ls(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=cn(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Ls(e,this.array)),e}setX(t,e){return this.normalized&&(e=cn(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Ls(e,this.array)),e}setY(t,e){return this.normalized&&(e=cn(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Ls(e,this.array)),e}setZ(t,e){return this.normalized&&(e=cn(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Ls(e,this.array)),e}setW(t,e){return this.normalized&&(e=cn(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=cn(e,this.array),i=cn(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,r){return t*=this.itemSize,this.normalized&&(e=cn(e,this.array),i=cn(i,this.array),r=cn(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this}setXYZW(t,e,i,r,s){return t*=this.itemSize,this.normalized&&(e=cn(e,this.array),i=cn(i,this.array),r=cn(r,this.array),s=cn(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}class LW extends Pi{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class IW extends Pi{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class Tt extends Pi{constructor(t,e,i){super(new Float32Array(t),e,i)}}let yFe=0;const Ca=new jt,Zb=new Ar,N4=new P,ia=new ko,hh=new ko,Dr=new P;class vn extends e1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:yFe++}),this.uuid=ea(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(_W(t)?IW:LW)(t,1):t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new mn).getNormalMatrix(t);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Ca.makeRotationFromQuaternion(t),this.applyMatrix4(Ca),this}rotateX(t){return Ca.makeRotationX(t),this.applyMatrix4(Ca),this}rotateY(t){return Ca.makeRotationY(t),this.applyMatrix4(Ca),this}rotateZ(t){return Ca.makeRotationZ(t),this.applyMatrix4(Ca),this}translate(t,e,i){return Ca.makeTranslation(t,e,i),this.applyMatrix4(Ca),this}scale(t,e,i){return Ca.makeScale(t,e,i),this.applyMatrix4(Ca),this}lookAt(t){return Zb.lookAt(t),Zb.updateMatrix(),this.applyMatrix4(Zb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(N4).negate(),this.translate(N4.x,N4.y,N4.z),this}setFromPoints(t){const e=[];for(let i=0,r=t.length;i<r;i++){const s=t[i];e.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Tt(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ko);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new P(-1/0,-1/0,-1/0),new P(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,r=e.length;i<r;i++)ia.setFromBufferAttribute(e[i]),this.morphTargetsRelative?(Dr.addVectors(this.boundingBox.min,ia.min),this.boundingBox.expandByPoint(Dr),Dr.addVectors(this.boundingBox.max,ia.max),this.boundingBox.expandByPoint(Dr)):(this.boundingBox.expandByPoint(ia.min),this.boundingBox.expandByPoint(ia.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Xa);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new P,1/0);if(t){const i=this.boundingSphere.center;if(ia.setFromBufferAttribute(t),e)for(let s=0,a=e.length;s<a;s++)hh.setFromBufferAttribute(e[s]),this.morphTargetsRelative?(Dr.addVectors(ia.min,hh.min),ia.expandByPoint(Dr),Dr.addVectors(ia.max,hh.max),ia.expandByPoint(Dr)):(ia.expandByPoint(hh.min),ia.expandByPoint(hh.max));ia.getCenter(i);let r=0;for(let s=0,a=t.count;s<a;s++)Dr.fromBufferAttribute(t,s),r=Math.max(r,i.distanceToSquared(Dr));if(e)for(let s=0,a=e.length;s<a;s++){const o=e[s],c=this.morphTargetsRelative;for(let l=0,u=o.count;l<u;l++)Dr.fromBufferAttribute(o,l),c&&(N4.fromBufferAttribute(t,l),Dr.add(N4)),r=Math.max(r,i.distanceToSquared(Dr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=t.array,r=e.position.array,s=e.normal.array,a=e.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Pi(new Float32Array(4*o),4));const c=this.getAttribute("tangent").array,l=[],u=[];for(let R=0;R<o;R++)l[R]=new P,u[R]=new P;const d=new P,f=new P,h=new P,p=new Ce,v=new Ce,g=new Ce,m=new P,C=new P;function b(R,ie,ge){d.fromArray(r,3*R),f.fromArray(r,3*ie),h.fromArray(r,3*ge),p.fromArray(a,2*R),v.fromArray(a,2*ie),g.fromArray(a,2*ge),f.sub(d),h.sub(d),v.sub(p),g.sub(p);const Q=1/(v.x*g.y-g.x*v.y);!isFinite(Q)||(m.copy(f).multiplyScalar(g.y).addScaledVector(h,-v.y).multiplyScalar(Q),C.copy(h).multiplyScalar(v.x).addScaledVector(f,-g.x).multiplyScalar(Q),l[R].add(m),l[ie].add(m),l[ge].add(m),u[R].add(C),u[ie].add(C),u[ge].add(C))}let T=this.groups;0===T.length&&(T=[{start:0,count:i.length}]);for(let R=0,ie=T.length;R<ie;++R){const ge=T[R],Q=ge.start;for(let se=Q,X=Q+ge.count;se<X;se+=3)b(i[se+0],i[se+1],i[se+2])}const E=new P,L=new P,k=new P,O=new P;function D(R){k.fromArray(s,3*R),O.copy(k);const ie=l[R];E.copy(ie),E.sub(k.multiplyScalar(k.dot(ie))).normalize(),L.crossVectors(O,ie);const Q=L.dot(u[R])<0?-1:1;c[4*R]=E.x,c[4*R+1]=E.y,c[4*R+2]=E.z,c[4*R+3]=Q}for(let R=0,ie=T.length;R<ie;++R){const ge=T[R],Q=ge.start;for(let se=Q,X=Q+ge.count;se<X;se+=3)D(i[se+0]),D(i[se+1]),D(i[se+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let i=this.getAttribute("normal");if(void 0===i)i=new Pi(new Float32Array(3*e.count),3),this.setAttribute("normal",i);else for(let f=0,h=i.count;f<h;f++)i.setXYZ(f,0,0,0);const r=new P,s=new P,a=new P,o=new P,c=new P,l=new P,u=new P,d=new P;if(t)for(let f=0,h=t.count;f<h;f+=3){const p=t.getX(f+0),v=t.getX(f+1),g=t.getX(f+2);r.fromBufferAttribute(e,p),s.fromBufferAttribute(e,v),a.fromBufferAttribute(e,g),u.subVectors(a,s),d.subVectors(r,s),u.cross(d),o.fromBufferAttribute(i,p),c.fromBufferAttribute(i,v),l.fromBufferAttribute(i,g),o.add(u),c.add(u),l.add(u),i.setXYZ(p,o.x,o.y,o.z),i.setXYZ(v,c.x,c.y,c.z),i.setXYZ(g,l.x,l.y,l.z)}else for(let f=0,h=e.count;f<h;f+=3)r.fromBufferAttribute(e,f+0),s.fromBufferAttribute(e,f+1),a.fromBufferAttribute(e,f+2),u.subVectors(a,s),d.subVectors(r,s),u.cross(d),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)Dr.fromBufferAttribute(t,e),Dr.normalize(),t.setXYZ(e,Dr.x,Dr.y,Dr.z)}toNonIndexed(){function t(o,c){const l=o.array,u=o.itemSize,d=o.normalized,f=new l.constructor(c.length*u);let h=0,p=0;for(let v=0,g=c.length;v<g;v++){h=o.isInterleavedBufferAttribute?c[v]*o.data.stride+o.offset:c[v]*u;for(let m=0;m<u;m++)f[p++]=l[h++]}return new Pi(f,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new vn,i=this.index.array,r=this.attributes;for(const o in r){const l=t(r[o],i);e.setAttribute(o,l)}const s=this.morphAttributes;for(const o in s){const c=[],l=s[o];for(let u=0,d=l.length;u<d;u++){const h=t(l[u],i);c.push(h)}e.morphAttributes[o]=c}e.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,c=a.length;o<c;o++){const l=a[o];e.addGroup(l.start,l.count,l.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const c=this.parameters;for(const l in c)void 0!==c[l]&&(t[l]=c[l]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const c in i)t.data.attributes[c]=i[c].toJSON(t.data);const r={};let s=!1;for(const c in this.morphAttributes){const l=this.morphAttributes[c],u=[];for(let d=0,f=l.length;d<f;d++)u.push(l[d].toJSON(t.data));u.length>0&&(r[c]=u,s=!0)}s&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(t.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;null!==i&&this.setIndex(i.clone(e));const r=t.attributes;for(const l in r)this.setAttribute(l,r[l].clone(e));const s=t.morphAttributes;for(const l in s){const u=[],d=s[l];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(e));this.morphAttributes[l]=u}this.morphTargetsRelative=t.morphTargetsRelative;const a=t.groups;for(let l=0,u=a.length;l<u;l++){const d=a[l];this.addGroup(d.start,d.count,d.materialIndex)}const o=t.boundingBox;null!==o&&(this.boundingBox=o.clone());const c=t.boundingSphere;return null!==c&&(this.boundingSphere=c.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const VW=new jt,a1=new V4,s8=new Xa,HW=new P,F4=new P,O4=new P,B4=new P,Qb=new P,a8=new P,o8=new Ce,c8=new Ce,l8=new Ce,RW=new P,zW=new P,PW=new P,u8=new P,d8=new P;class es extends Ar{constructor(t=new vn,e=new xa){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(t,e){const i=this.geometry,s=i.morphAttributes.position,a=i.morphTargetsRelative;e.fromBufferAttribute(i.attributes.position,t);const o=this.morphTargetInfluences;if(s&&o){a8.set(0,0,0);for(let c=0,l=s.length;c<l;c++){const u=o[c],d=s[c];0!==u&&(Qb.fromBufferAttribute(d,t),a8.addScaledVector(a?Qb:Qb.sub(e),u))}e.add(a8)}return e}raycast(t,e){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),s8.copy(i.boundingSphere),s8.applyMatrix4(s),a1.copy(t.ray).recast(t.near),(!1!==s8.containsPoint(a1.origin)||!(null===a1.intersectSphere(s8,HW)||a1.origin.distanceToSquared(HW)>(t.far-t.near)**2))&&(VW.copy(s).invert(),a1.copy(t.ray).applyMatrix4(VW),(null===i.boundingBox||!1!==a1.intersectsBox(i.boundingBox))&&this._computeIntersections(t,e,a1)))}_computeIntersections(t,e,i){let r;const s=this.geometry,a=this.material,o=s.index,c=s.attributes.position,l=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,f=s.groups,h=s.drawRange;if(null!==o)if(Array.isArray(a))for(let p=0,v=f.length;p<v;p++){const g=f[p],m=a[g.materialIndex];for(let T=Math.max(g.start,h.start),E=Math.min(o.count,Math.min(g.start+g.count,h.start+h.count));T<E;T+=3)r=f8(this,m,t,i,l,u,d,o.getX(T),o.getX(T+1),o.getX(T+2)),r&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=g.materialIndex,e.push(r))}else for(let g=Math.max(0,h.start),m=Math.min(o.count,h.start+h.count);g<m;g+=3)r=f8(this,a,t,i,l,u,d,o.getX(g),o.getX(g+1),o.getX(g+2)),r&&(r.faceIndex=Math.floor(g/3),e.push(r));else if(void 0!==c)if(Array.isArray(a))for(let p=0,v=f.length;p<v;p++){const g=f[p],m=a[g.materialIndex];for(let T=Math.max(g.start,h.start),E=Math.min(c.count,Math.min(g.start+g.count,h.start+h.count));T<E;T+=3)r=f8(this,m,t,i,l,u,d,T,T+1,T+2),r&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=g.materialIndex,e.push(r))}else for(let g=Math.max(0,h.start),m=Math.min(c.count,h.start+h.count);g<m;g+=3)r=f8(this,a,t,i,l,u,d,g,g+1,g+2),r&&(r.faceIndex=Math.floor(g/3),e.push(r))}}function f8(n,t,e,i,r,s,a,o,c,l){n.getVertexPosition(o,F4),n.getVertexPosition(c,O4),n.getVertexPosition(l,B4);const u=function bFe(n,t,e,i,r,s,a,o){let c;if(c=1===t.side?i.intersectTriangle(a,s,r,!0,o):i.intersectTriangle(r,s,a,0===t.side,o),null===c)return null;d8.copy(o),d8.applyMatrix4(n.matrixWorld);const l=e.ray.origin.distanceTo(d8);return l<e.near||l>e.far?null:{distance:l,point:d8.clone(),object:n}}(n,t,e,i,F4,O4,B4,u8);if(u){r&&(o8.fromBufferAttribute(r,o),c8.fromBufferAttribute(r,c),l8.fromBufferAttribute(r,l),u.uv=na.getInterpolation(u8,F4,O4,B4,o8,c8,l8,new Ce)),s&&(o8.fromBufferAttribute(s,o),c8.fromBufferAttribute(s,c),l8.fromBufferAttribute(s,l),u.uv1=na.getInterpolation(u8,F4,O4,B4,o8,c8,l8,new Ce),u.uv2=u.uv1),a&&(RW.fromBufferAttribute(a,o),zW.fromBufferAttribute(a,c),PW.fromBufferAttribute(a,l),u.normal=na.getInterpolation(u8,F4,O4,B4,RW,zW,PW,new P),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a:o,b:c,c:l,normal:new P,materialIndex:0};na.getNormal(F4,O4,B4,d.normal),u.face=d}return u}class U4 extends vn{constructor(t=1,e=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const c=[],l=[],u=[],d=[];let f=0,h=0;function p(v,g,m,C,b,T,E,L,k,O,D){const R=T/k,ie=E/O,ge=T/2,Q=E/2,J=L/2,se=k+1,X=O+1;let Z=0,te=0;const oe=new P;for(let Me=0;Me<X;Me++){const ee=Me*ie-Q;for(let pe=0;pe<se;pe++)oe[v]=(pe*R-ge)*C,oe[g]=ee*b,oe[m]=J,l.push(oe.x,oe.y,oe.z),oe[v]=0,oe[g]=0,oe[m]=L>0?1:-1,u.push(oe.x,oe.y,oe.z),d.push(pe/k),d.push(1-Me/O),Z+=1}for(let Me=0;Me<O;Me++)for(let ee=0;ee<k;ee++){const ze=f+ee+se*(Me+1),Ee=f+(ee+1)+se*(Me+1),Ye=f+(ee+1)+se*Me;c.push(f+ee+se*Me,ze,Ye),c.push(ze,Ee,Ye),te+=6}o.addGroup(h,te,D),h+=te,f+=Z}p("z","y","x",-1,-1,i,e,t,a,s,0),p("z","y","x",1,-1,i,e,-t,a,s,1),p("x","z","y",1,1,t,i,e,r,a,2),p("x","z","y",1,-1,t,i,-e,r,a,3),p("x","y","z",1,-1,t,e,i,r,s,4),p("x","y","z",-1,-1,t,e,-i,r,s,5),this.setIndex(c),this.setAttribute("position",new Tt(l,3)),this.setAttribute("normal",new Tt(u,3)),this.setAttribute("uv",new Tt(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new U4(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function G4(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const r=n[e][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=r.clone():t[e][i]=Array.isArray(r)?r.slice():r}}return t}function fs(n){const t={};for(let e=0;e<n.length;e++){const i=G4(n[e]);for(const r in i)t[r]=i[r]}return t}function NW(n){return null===n.getRenderTarget()?n.outputColorSpace:Eo}const xFe={clone:G4,merge:fs};class N2 extends Qa{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=G4(t.uniforms),this.uniformsGroups=function MFe(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;e.uniforms[r]=a&&a.isTexture?{type:"t",value:a.toJSON(t).uuid}:a&&a.isColor?{type:"c",value:a.getHex()}:a&&a.isVector2?{type:"v2",value:a.toArray()}:a&&a.isVector3?{type:"v3",value:a.toArray()}:a&&a.isVector4?{type:"v4",value:a.toArray()}:a&&a.isMatrix3?{type:"m3",value:a.toArray()}:a&&a.isMatrix4?{type:"m4",value:a.toArray()}:{value:a}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class Jb extends Ar{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new jt,this.projectionMatrix=new jt,this.projectionMatrixInverse=new jt,this.coordinateSystem=wc}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Er extends Jb{constructor(t=50,e=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*w4*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*t1*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*w4*Math.atan(Math.tan(.5*t1*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,i,r,s,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*t1*this.fov)/this.zoom,i=2*e,r=this.aspect*i,s=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const c=a.fullWidth,l=a.fullHeight;s+=a.offsetX*r/c,e-=a.offsetY*i/l,r*=a.width/c,i*=a.height/l}const o=this.filmOffset;0!==o&&(s+=t*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}class SFe extends Ar{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new Er(-90,1,t,e);r.layers=this.layers,this.add(r);const s=new Er(-90,1,t,e);s.layers=this.layers,this.add(s);const a=new Er(-90,1,t,e);a.layers=this.layers,this.add(a);const o=new Er(-90,1,t,e);o.layers=this.layers,this.add(o);const c=new Er(-90,1,t,e);c.layers=this.layers,this.add(c);const l=new Er(-90,1,t,e);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,r,s,a,o,c]=e;for(const l of e)this.remove(l);if(t===wc)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else{if(2001!==t)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1)}for(const l of e)this.add(l),l.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[r,s,a,o,c,l]=this.children,u=t.getRenderTarget(),d=t.xr.enabled;t.xr.enabled=!1;const f=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,r),t.setRenderTarget(i,1),t.render(e,s),t.setRenderTarget(i,2),t.render(e,a),t.setRenderTarget(i,3),t.render(e,o),t.setRenderTarget(i,4),t.render(e,c),i.texture.generateMipmaps=f,t.setRenderTarget(i,5),t.render(e,l),t.setRenderTarget(u),t.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class h8 extends Ya{constructor(t,e,i,r,s,a,o,c,l,u){super(t=void 0!==t?t:[],e=void 0!==e?e:301,i,r,s,a,o,c,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class TFe extends n1{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},r=[i,i,i,i,i,i];void 0!==e.encoding&&(ch("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),e.colorSpace=e.encoding===Zl?Wt:""),this.texture=new h8(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:Ri}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new U4(5,5,5),s=new N2({name:"CubemapFromEquirect",uniforms:G4(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=e;const a=new es(r,s),o=e.minFilter;return e.minFilter===xc&&(e.minFilter=Ri),new SFe(1,10,this).update(t,a),e.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(t,e,i,r){const s=t.getRenderTarget();for(let a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,i,r);t.setRenderTarget(s)}}const eM=new P,AFe=new P,DFe=new mn;class F2{constructor(t=new P(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const r=eM.subVectors(i,e).cross(AFe.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(eM),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const s=-(t.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:e.copy(t.start).addScaledVector(i,s)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||DFe.getNormalMatrix(t),r=this.coplanarPoint(eM).applyMatrix4(t),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const o1=new Xa,p8=new P;class tM{constructor(t=new F2,e=new F2,i=new F2,r=new F2,s=new F2,a=new F2){this.planes=[t,e,i,r,s,a]}set(t,e,i,r,s,a){const o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=wc){const i=this.planes,r=t.elements,s=r[0],a=r[1],o=r[2],c=r[3],l=r[4],u=r[5],d=r[6],f=r[7],h=r[8],p=r[9],v=r[10],g=r[11],m=r[12],C=r[13],b=r[14],T=r[15];if(i[0].setComponents(c-s,f-l,g-h,T-m).normalize(),i[1].setComponents(c+s,f+l,g+h,T+m).normalize(),i[2].setComponents(c+a,f+u,g+p,T+C).normalize(),i[3].setComponents(c-a,f-u,g-p,T-C).normalize(),i[4].setComponents(c-o,f-d,g-v,T-b).normalize(),e===wc)i[5].setComponents(c+o,f+d,g+v,T+b).normalize();else{if(2001!==e)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);i[5].setComponents(o,d,v,b).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),o1.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),o1.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(o1)}intersectsSprite(t){return o1.center.set(0,0,0),o1.radius=.7071067811865476,o1.applyMatrix4(t.matrixWorld),this.intersectsSphere(o1)}intersectsSphere(t){const e=this.planes,i=t.center,r=-t.radius;for(let s=0;s<6;s++)if(e[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const r=e[i];if(p8.x=r.normal.x>0?t.max.x:t.min.x,p8.y=r.normal.y>0?t.max.y:t.min.y,p8.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(p8)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function FW(){let n=null,t=!1,e=null,i=null;function r(s,a){e(s,a),i=n.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==e&&(i=n.requestAnimationFrame(r),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(s){e=s},setContext:function(s){n=s}}}function EFe(n,t){const e=t.isWebGL2,i=new WeakMap;return{get:function a(l){return l.isInterleavedBufferAttribute&&(l=l.data),i.get(l)},remove:function o(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=i.get(l);u&&(n.deleteBuffer(u.buffer),i.delete(l))},update:function c(l,u){if(l.isGLBufferAttribute){const f=i.get(l);return void((!f||f.version<l.version)&&i.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version}))}l.isInterleavedBufferAttribute&&(l=l.data);const d=i.get(l);void 0===d?i.set(l,function r(l,u){const d=l.array,f=l.usage,h=n.createBuffer();let p;if(n.bindBuffer(u,h),n.bufferData(u,d,f),l.onUploadCallback(),d instanceof Float32Array)p=n.FLOAT;else if(d instanceof Uint16Array)if(l.isFloat16BufferAttribute){if(!e)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=n.HALF_FLOAT}else p=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)p=n.SHORT;else if(d instanceof Uint32Array)p=n.UNSIGNED_INT;else if(d instanceof Int32Array)p=n.INT;else if(d instanceof Int8Array)p=n.BYTE;else if(d instanceof Uint8Array)p=n.UNSIGNED_BYTE;else{if(!(d instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);p=n.UNSIGNED_BYTE}return{buffer:h,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version}}(l,u)):d.version<l.version&&(function s(l,u,d){const f=u.array,h=u.updateRange;n.bindBuffer(d,l),-1===h.count?n.bufferSubData(d,0,f):(e?n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1),u.onUploadCallback()}(d.buffer,l,u),d.version=l.version)}}}class m8 extends vn{constructor(t=1,e=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};const s=t/2,a=e/2,o=Math.floor(i),c=Math.floor(r),l=o+1,u=c+1,d=t/o,f=e/c,h=[],p=[],v=[],g=[];for(let m=0;m<u;m++){const C=m*f-a;for(let b=0;b<l;b++)p.push(b*d-s,-C,0),v.push(0,0,1),g.push(b/o),g.push(1-m/c)}for(let m=0;m<c;m++)for(let C=0;C<o;C++){const T=C+l*(m+1),E=C+1+l*(m+1),L=C+1+l*m;h.push(C+l*m,T,L),h.push(T,E,L)}this.setIndex(h),this.setAttribute("position",new Tt(p,3)),this.setAttribute("normal",new Tt(v,3)),this.setAttribute("uv",new Tt(g,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new m8(t.width,t.height,t.widthSegments,t.heightSegments)}}const dn={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},et={common:{diffuse:{value:new ot(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new mn},alphaMap:{value:null},alphaMapTransform:{value:new mn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new mn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new mn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new mn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new mn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new mn},normalScale:{value:new Ce(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new mn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new mn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new mn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new mn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ot(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ot(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new mn},alphaTest:{value:0},uvTransform:{value:new mn}},sprite:{diffuse:{value:new ot(16777215)},opacity:{value:1},center:{value:new Ce(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new mn},alphaMap:{value:null},alphaMapTransform:{value:new mn},alphaTest:{value:0}}},Lo={basic:{uniforms:fs([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.fog]),vertexShader:dn.meshbasic_vert,fragmentShader:dn.meshbasic_frag},lambert:{uniforms:fs([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new ot(0)}}]),vertexShader:dn.meshlambert_vert,fragmentShader:dn.meshlambert_frag},phong:{uniforms:fs([et.common,et.specularmap,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.fog,et.lights,{emissive:{value:new ot(0)},specular:{value:new ot(1118481)},shininess:{value:30}}]),vertexShader:dn.meshphong_vert,fragmentShader:dn.meshphong_frag},standard:{uniforms:fs([et.common,et.envmap,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.roughnessmap,et.metalnessmap,et.fog,et.lights,{emissive:{value:new ot(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:dn.meshphysical_vert,fragmentShader:dn.meshphysical_frag},toon:{uniforms:fs([et.common,et.aomap,et.lightmap,et.emissivemap,et.bumpmap,et.normalmap,et.displacementmap,et.gradientmap,et.fog,et.lights,{emissive:{value:new ot(0)}}]),vertexShader:dn.meshtoon_vert,fragmentShader:dn.meshtoon_frag},matcap:{uniforms:fs([et.common,et.bumpmap,et.normalmap,et.displacementmap,et.fog,{matcap:{value:null}}]),vertexShader:dn.meshmatcap_vert,fragmentShader:dn.meshmatcap_frag},points:{uniforms:fs([et.points,et.fog]),vertexShader:dn.points_vert,fragmentShader:dn.points_frag},dashed:{uniforms:fs([et.common,et.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:dn.linedashed_vert,fragmentShader:dn.linedashed_frag},depth:{uniforms:fs([et.common,et.displacementmap]),vertexShader:dn.depth_vert,fragmentShader:dn.depth_frag},normal:{uniforms:fs([et.common,et.bumpmap,et.normalmap,et.displacementmap,{opacity:{value:1}}]),vertexShader:dn.meshnormal_vert,fragmentShader:dn.meshnormal_frag},sprite:{uniforms:fs([et.sprite,et.fog]),vertexShader:dn.sprite_vert,fragmentShader:dn.sprite_frag},background:{uniforms:{uvTransform:{value:new mn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:dn.background_vert,fragmentShader:dn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:dn.backgroundCube_vert,fragmentShader:dn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:dn.cube_vert,fragmentShader:dn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:dn.equirect_vert,fragmentShader:dn.equirect_frag},distanceRGBA:{uniforms:fs([et.common,et.displacementmap,{referencePosition:{value:new P},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:dn.distanceRGBA_vert,fragmentShader:dn.distanceRGBA_frag},shadow:{uniforms:fs([et.lights,et.fog,{color:{value:new ot(0)},opacity:{value:1}}]),vertexShader:dn.shadow_vert,fragmentShader:dn.shadow_frag}};Lo.physical={uniforms:fs([Lo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new mn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new mn},clearcoatNormalScale:{value:new Ce(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new mn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new mn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new mn},sheen:{value:0},sheenColor:{value:new ot(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new mn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new mn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new mn},transmissionSamplerSize:{value:new Ce},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new mn},attenuationDistance:{value:0},attenuationColor:{value:new ot(0)},specularColor:{value:new ot(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new mn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new mn},anisotropyVector:{value:new Ce},anisotropyMap:{value:null},anisotropyMapTransform:{value:new mn}}]),vertexShader:dn.meshphysical_vert,fragmentShader:dn.meshphysical_frag};const g8={r:0,b:0,g:0};function ABe(n,t,e,i,r,s,a){const o=new ot(0);let l,u,c=!0===s?0:1,d=null,f=0,h=null;function v(g,m){g.getRGB(g8,NW(n)),i.buffers.color.setClear(g8.r,g8.g,g8.b,m,a)}return{getClearColor:function(){return o},setClearColor:function(g,m=1){o.set(g),c=m,v(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(g){c=g,v(o,c)},render:function p(g,m){let C=!1,b=!0===m.isScene?m.background:null;switch(b&&b.isTexture&&(b=(m.backgroundBlurriness>0?e:t).get(b)),null===b?v(o,c):b&&b.isColor&&(v(b,1),C=!0),n.xr.getEnvironmentBlendMode()){case"opaque":C=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,a),C=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,a),C=!0}(n.autoClear||C)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||306===b.mapping)?(void 0===u&&(u=new es(new U4(1,1,1),new N2({name:"BackgroundCubeMaterial",uniforms:G4(Lo.backgroundCube.uniforms),vertexShader:Lo.backgroundCube.vertexShader,fragmentShader:Lo.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(L,k,O){this.matrixWorld.copyPosition(O.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&!1===b.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,u.material.toneMapped=b.colorSpace!==Wt,(d!==b||f!==b.version||h!==n.toneMapping)&&(u.material.needsUpdate=!0,d=b,f=b.version,h=n.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(void 0===l&&(l=new es(new m8(2,2),new N2({name:"BackgroundMaterial",uniforms:G4(Lo.background.uniforms),vertexShader:Lo.background.vertexShader,fragmentShader:Lo.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=b,l.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,l.material.toneMapped=b.colorSpace!==Wt,!0===b.matrixAutoUpdate&&b.updateMatrix(),l.material.uniforms.uvTransform.value.copy(b.matrix),(d!==b||f!==b.version||h!==n.toneMapping)&&(l.material.needsUpdate=!0,d=b,f=b.version,h=n.toneMapping),l.layers.enableAll(),g.unshift(l,l.geometry,l.material,0,0,null))}}}function DBe(n,t,e,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:t.get("OES_vertex_array_object"),a=i.isWebGL2||null!==s,o={},c=g(null);let l=c,u=!1;function h(J){return i.isWebGL2?n.bindVertexArray(J):s.bindVertexArrayOES(J)}function p(J){return i.isWebGL2?n.deleteVertexArray(J):s.deleteVertexArrayOES(J)}function g(J){const se=[],X=[],Z=[];for(let te=0;te<r;te++)se[te]=0,X[te]=0,Z[te]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:se,enabledAttributes:X,attributeDivisors:Z,object:J,attributes:{},index:null}}function b(){const J=l.newAttributes;for(let se=0,X=J.length;se<X;se++)J[se]=0}function T(J){E(J,0)}function E(J,se){const Z=l.enabledAttributes,te=l.attributeDivisors;l.newAttributes[J]=1,0===Z[J]&&(n.enableVertexAttribArray(J),Z[J]=1),te[J]!==se&&((i.isWebGL2?n:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](J,se),te[J]=se)}function L(){const J=l.newAttributes,se=l.enabledAttributes;for(let X=0,Z=se.length;X<Z;X++)se[X]!==J[X]&&(n.disableVertexAttribArray(X),se[X]=0)}function k(J,se,X,Z,te,oe,Me){!0===Me?n.vertexAttribIPointer(J,se,X,te,oe):n.vertexAttribPointer(J,se,X,Z,te,oe)}function ge(){Q(),u=!0,l!==c&&(l=c,h(l.object))}function Q(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function d(J,se,X,Z,te){let oe=!1;if(a){const Me=function v(J,se,X){const Z=!0===X.wireframe;let te=o[J.id];void 0===te&&(te={},o[J.id]=te);let oe=te[se.id];void 0===oe&&(oe={},te[se.id]=oe);let Me=oe[Z];return void 0===Me&&(Me=g(function f(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}()),oe[Z]=Me),Me}(Z,X,se);l!==Me&&(l=Me,h(l.object)),oe=function m(J,se,X,Z){const te=l.attributes,oe=se.attributes;let Me=0;const ee=X.getAttributes();for(const pe in ee)if(ee[pe].location>=0){const Ee=te[pe];let Ye=oe[pe];if(void 0===Ye&&("instanceMatrix"===pe&&J.instanceMatrix&&(Ye=J.instanceMatrix),"instanceColor"===pe&&J.instanceColor&&(Ye=J.instanceColor)),void 0===Ee||Ee.attribute!==Ye||Ye&&Ee.data!==Ye.data)return!0;Me++}return l.attributesNum!==Me||l.index!==Z}(J,Z,X,te),oe&&function C(J,se,X,Z){const te={},oe=se.attributes;let Me=0;const ee=X.getAttributes();for(const pe in ee)if(ee[pe].location>=0){let Ee=oe[pe];void 0===Ee&&("instanceMatrix"===pe&&J.instanceMatrix&&(Ee=J.instanceMatrix),"instanceColor"===pe&&J.instanceColor&&(Ee=J.instanceColor));const Ye={};Ye.attribute=Ee,Ee&&Ee.data&&(Ye.data=Ee.data),te[pe]=Ye,Me++}l.attributes=te,l.attributesNum=Me,l.index=Z}(J,Z,X,te)}else{const Me=!0===se.wireframe;(l.geometry!==Z.id||l.program!==X.id||l.wireframe!==Me)&&(l.geometry=Z.id,l.program=X.id,l.wireframe=Me,oe=!0)}null!==te&&e.update(te,n.ELEMENT_ARRAY_BUFFER),(oe||u)&&(u=!1,function O(J,se,X,Z){if(!1===i.isWebGL2&&(J.isInstancedMesh||Z.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;b();const te=Z.attributes,oe=X.getAttributes(),Me=se.defaultAttributeValues;for(const ee in oe){const pe=oe[ee];if(pe.location>=0){let ze=te[ee];if(void 0===ze&&("instanceMatrix"===ee&&J.instanceMatrix&&(ze=J.instanceMatrix),"instanceColor"===ee&&J.instanceColor&&(ze=J.instanceColor)),void 0!==ze){const Ee=ze.normalized,Ye=ze.itemSize,_t=e.get(ze);if(void 0===_t)continue;const nt=_t.buffer,ht=_t.type,Bt=_t.bytesPerElement,fn=!0===i.isWebGL2&&(ht===n.INT||ht===n.UNSIGNED_INT||1013===ze.gpuType);if(ze.isInterleavedBufferAttribute){const At=ze.data,G=At.stride,We=ze.offset;if(At.isInstancedInterleavedBuffer){for(let Se=0;Se<pe.locationSize;Se++)E(pe.location+Se,At.meshPerAttribute);!0!==J.isInstancedMesh&&void 0===Z._maxInstanceCount&&(Z._maxInstanceCount=At.meshPerAttribute*At.count)}else for(let Se=0;Se<pe.locationSize;Se++)T(pe.location+Se);n.bindBuffer(n.ARRAY_BUFFER,nt);for(let Se=0;Se<pe.locationSize;Se++)k(pe.location+Se,Ye/pe.locationSize,ht,Ee,G*Bt,(We+Ye/pe.locationSize*Se)*Bt,fn)}else{if(ze.isInstancedBufferAttribute){for(let At=0;At<pe.locationSize;At++)E(pe.location+At,ze.meshPerAttribute);!0!==J.isInstancedMesh&&void 0===Z._maxInstanceCount&&(Z._maxInstanceCount=ze.meshPerAttribute*ze.count)}else for(let At=0;At<pe.locationSize;At++)T(pe.location+At);n.bindBuffer(n.ARRAY_BUFFER,nt);for(let At=0;At<pe.locationSize;At++)k(pe.location+At,Ye/pe.locationSize,ht,Ee,Ye*Bt,Ye/pe.locationSize*At*Bt,fn)}}else if(void 0!==Me){const Ee=Me[ee];if(void 0!==Ee)switch(Ee.length){case 2:n.vertexAttrib2fv(pe.location,Ee);break;case 3:n.vertexAttrib3fv(pe.location,Ee);break;case 4:n.vertexAttrib4fv(pe.location,Ee);break;default:n.vertexAttrib1fv(pe.location,Ee)}}}}L()}(J,se,X,Z),null!==te&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(te).buffer))},reset:ge,resetDefaultState:Q,dispose:function D(){ge();for(const J in o){const se=o[J];for(const X in se){const Z=se[X];for(const te in Z)p(Z[te].object),delete Z[te];delete se[X]}delete o[J]}},releaseStatesOfGeometry:function R(J){if(void 0===o[J.id])return;const se=o[J.id];for(const X in se){const Z=se[X];for(const te in Z)p(Z[te].object),delete Z[te];delete se[X]}delete o[J.id]},releaseStatesOfProgram:function ie(J){for(const se in o){const X=o[se];if(void 0===X[J.id])continue;const Z=X[J.id];for(const te in Z)p(Z[te].object),delete Z[te];delete X[J.id]}},initAttributes:b,enableAttribute:T,disableUnusedAttributes:L}}function EBe(n,t,e,i){const r=i.isWebGL2;let s;this.setMode=function a(l){s=l},this.render=function o(l,u){n.drawArrays(s,l,u),e.update(u,s,1)},this.renderInstances=function c(l,u,d){if(0===d)return;let f,h;if(r)f=n,h="drawArraysInstanced";else if(f=t.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",null===f)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");f[h](s,l,u,d),e.update(u,s,d)}}function kBe(n,t,e){let i;function s(k){if("highp"===k){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";k="mediump"}return"mediump"===k&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===n.constructor.name;let o=void 0!==e.precision?e.precision:"highp";const c=s(o);c!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",c,"instead."),o=c);const l=a||t.has("WEBGL_draw_buffers"),u=!0===e.logarithmicDepthBuffer,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_TEXTURE_SIZE),p=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),v=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),m=n.getParameter(n.MAX_VARYING_VECTORS),C=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),b=f>0,T=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const k=t.get("EXT_texture_filter_anisotropic");i=n.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,precision:o,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:v,maxVertexUniforms:g,maxVaryings:m,maxFragmentUniforms:C,vertexTextures:b,floatFragmentTextures:T,floatVertexTextures:b&&T,maxSamples:a?n.getParameter(n.MAX_SAMPLES):0}}function LBe(n){const t=this;let e=null,i=0,r=!1,s=!1;const a=new F2,o=new mn,c={value:null,needsUpdate:!1};function u(d,f,h,p){const v=null!==d?d.length:0;let g=null;if(0!==v){if(g=c.value,!0!==p||null===g){const m=h+4*v,C=f.matrixWorldInverse;o.getNormalMatrix(C),(null===g||g.length<m)&&(g=new Float32Array(m));for(let b=0,T=h;b!==v;++b,T+=4)a.copy(d[b]).applyMatrix4(C,o),a.normal.toArray(g,T),g[T+3]=a.constant}c.value=g,c.needsUpdate=!0}return t.numPlanes=v,t.numIntersection=0,g}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=0!==d.length||f||0!==i||r;return r=f,i=d.length,h},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){e=u(d,f,0)},this.setState=function(d,f,h){const p=d.clippingPlanes,v=d.clipIntersection,g=d.clipShadows,m=n.get(d);if(!r||null===p||0===p.length||s&&!g)s?u(null):function l(){c.value!==e&&(c.value=e,c.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}();else{const C=s?0:i,b=4*C;let T=m.clippingState||null;c.value=T,T=u(p,f,b,h);for(let E=0;E!==b;++E)T[E]=e[E];m.clippingState=T,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=C}}}function IBe(n){let t=new WeakMap;function e(a,o){return 303===o?a.mapping=301:304===o&&(a.mapping=302),a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const c=t.get(o);void 0!==c&&(t.delete(o),c.dispose())}return{get:function i(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const o=a.mapping;if(303===o||304===o){if(t.has(a))return e(t.get(a).texture,a.mapping);{const c=a.image;if(c&&c.height>0){const l=new TFe(c.height/2);return l.fromEquirectangularTexture(n,a),t.set(a,l),a.addEventListener("dispose",r),e(l.texture,a.mapping)}return null}}}return a},dispose:function s(){t=new WeakMap}}}class _8 extends Jb{constructor(t=-1,e=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,i,r,s,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-t,a=i+t,o=r+e,c=r-e;if(null!==this.view&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=l*this.view.offsetX,a=s+l*this.view.width,o-=u*this.view.offsetY,c=o-u*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const OW=[.125,.215,.35,.446,.526,.582],nM=new _8,BW=new ot;let iM=null;const l1=(1+Math.sqrt(5))/2,q4=1/l1,UW=[new P(1,1,1),new P(-1,1,1),new P(1,1,-1),new P(-1,1,-1),new P(0,l1,q4),new P(0,l1,-q4),new P(q4,0,l1),new P(-q4,0,l1),new P(l1,q4,0),new P(-l1,q4,0)];class GW{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,r=100){iM=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(t,i,r,s),e>0&&this._blur(s,0,0,e),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=$W(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=jW(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(iM),t.scissorTest=!1,v8(t,0,0,t.width,t.height)}_fromTexture(t,e){this._setSize(301===t.mapping||302===t.mapping?0===t.image.length?16:t.image[0].width||t.image[0].image.width:t.image.width/4),iM=this._renderer.getRenderTarget();const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:Ri,minFilter:Ri,generateMipmaps:!1,type:rh,format:Ma,colorSpace:Eo,depthBuffer:!1},r=WW(t,e,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=WW(t,e,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function VBe(n){const t=[],e=[],i=[];let r=n;const s=n-4+1+OW.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);e.push(o);let c=1/o;a>n-4?c=OW[a-n+4-1]:0===a&&(c=0),i.push(c);const l=1/(o-2),u=-l,d=1+l,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,v=3,g=2,m=1,C=new Float32Array(v*p*h),b=new Float32Array(g*p*h),T=new Float32Array(m*p*h);for(let L=0;L<h;L++){const k=L%3*2/3-1,O=L>2?0:-1;C.set([k,O,0,k+2/3,O,0,k+2/3,O+1,0,k,O,0,k+2/3,O+1,0,k,O+1,0],v*p*L),b.set(f,g*p*L),T.set([L,L,L,L,L,L],m*p*L)}const E=new vn;E.setAttribute("position",new Pi(C,v)),E.setAttribute("uv",new Pi(b,g)),E.setAttribute("faceIndex",new Pi(T,m)),t.push(E),r>4&&r--}return{lodPlanes:t,sizeLods:e,sigmas:i}}(s)),this._blurMaterial=function HBe(n,t,e){const i=new Float32Array(20),r=new P(0,1,0);return new N2({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,t,e)}return r}_compileMaterial(t){const e=new es(this._lodPlanes[0],t);this._renderer.compile(e,nM)}_sceneToCubeUV(t,e,i,r){const o=new Er(90,1,e,i),c=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(BW),u.toneMapping=0,u.autoClear=!1;const h=new xa({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),p=new es(new U4,h);let v=!1;const g=t.background;g?g.isColor&&(h.color.copy(g),t.background=null,v=!0):(h.color.copy(BW),v=!0);for(let m=0;m<6;m++){const C=m%3;0===C?(o.up.set(0,c[m],0),o.lookAt(l[m],0,0)):1===C?(o.up.set(0,0,c[m]),o.lookAt(0,l[m],0)):(o.up.set(0,c[m],0),o.lookAt(0,0,l[m]));const b=this._cubeSize;v8(r,C*b,m>2?b:0,b,b),u.setRenderTarget(r),v&&u.render(p,o),u.render(t,o)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=d,t.background=g}_textureToCubeUV(t,e){const i=this._renderer,r=301===t.mapping||302===t.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=$W()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=jW());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new es(this._lodPlanes[0],s);s.uniforms.envMap.value=t;const c=this._cubeSize;v8(e,0,0,3*c,2*c),i.setRenderTarget(e),i.render(a,nM)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(t,r-1,r,s,UW[(r-1)%UW.length])}e.autoClear=i}_blur(t,e,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(t,a,e,i,r,"latitudinal",s),this._halfBlur(a,t,i,i,r,"longitudinal",s)}_halfBlur(t,e,i,r,s,a,o){const c=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new es(this._lodPlanes[r],l),f=l.uniforms,h=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*h):2*Math.PI/39,v=s/p,g=isFinite(s)?1+Math.floor(3*v):20;g>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const m=[];let C=0;for(let k=0;k<20;++k){const O=k/v,D=Math.exp(-O*O/2);m.push(D),0===k?C+=D:k<g&&(C+=2*D)}for(let k=0;k<m.length;k++)m[k]=m[k]/C;f.envMap.value=t.texture,f.samples.value=g,f.weights.value=m,f.latitudinal.value="latitudinal"===a,o&&(f.poleAxis.value=o);const{_lodMax:b}=this;f.dTheta.value=p,f.mipInt.value=b-i;const T=this._sizeLods[r];v8(e,3*T*(r>b-4?r-b+4:0),4*(this._cubeSize-T),3*T,2*T),c.setRenderTarget(e),c.render(d,nM)}}function WW(n,t,e){const i=new n1(n,t,e);return i.texture.mapping=306,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function v8(n,t,e,i,r){n.viewport.set(t,e,i,r),n.scissor.set(t,e,i,r)}function jW(){return new N2({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function $W(){return new N2({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function RBe(n){let t=new WeakMap,e=null;function s(o){const c=o.target;c.removeEventListener("dispose",s);const l=t.get(c);void 0!==l&&(t.delete(c),l.dispose())}return{get:function i(o){if(o&&o.isTexture){const c=o.mapping,l=303===c||304===c,u=301===c||302===c;if(l||u){if(o.isRenderTargetTexture&&!0===o.needsPMREMUpdate){o.needsPMREMUpdate=!1;let d=t.get(o);return null===e&&(e=new GW(n)),d=l?e.fromEquirectangular(o,d):e.fromCubemap(o,d),t.set(o,d),d.texture}if(t.has(o))return t.get(o).texture;{const d=o.image;if(l&&d&&d.height>0||u&&d&&function r(o){let c=0;for(let u=0;u<6;u++)void 0!==o[u]&&c++;return 6===c}(d)){null===e&&(e=new GW(n));const f=l?e.fromEquirectangular(o):e.fromCubemap(o);return t.set(o,f),o.addEventListener("dispose",s),f.texture}return null}}}return o},dispose:function a(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function zBe(n){const t={};function e(i){if(void 0!==t[i])return t[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return t[i]=r,r}return{has:function(i){return null!==e(i)},init:function(i){i.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(i){const r=e(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function PBe(n,t,e,i){const r={},s=new WeakMap;function a(d){const f=d.target;null!==f.index&&t.remove(f.index);for(const p in f.attributes)t.remove(f.attributes[p]);for(const p in f.morphAttributes){const v=f.morphAttributes[p];for(let g=0,m=v.length;g<m;g++)t.remove(v[g])}f.removeEventListener("dispose",a),delete r[f.id];const h=s.get(f);h&&(t.remove(h),s.delete(f)),i.releaseStatesOfGeometry(f),!0===f.isInstancedBufferGeometry&&delete f._maxInstanceCount,e.memory.geometries--}function l(d){const f=[],h=d.index,p=d.attributes.position;let v=0;if(null!==h){const C=h.array;v=h.version;for(let b=0,T=C.length;b<T;b+=3){const E=C[b+0],L=C[b+1],k=C[b+2];f.push(E,L,L,k,k,E)}}else{if(void 0===p)return;v=p.version;for(let b=0,T=p.array.length/3-1;b<T;b+=3){const E=b+0,L=b+1,k=b+2;f.push(E,L,L,k,k,E)}}const g=new(_W(f)?IW:LW)(f,1);g.version=v;const m=s.get(d);m&&t.remove(m),s.set(d,g)}return{get:function o(d,f){return!0===r[f.id]||(f.addEventListener("dispose",a),r[f.id]=!0,e.memory.geometries++),f},update:function c(d){const f=d.attributes;for(const p in f)t.update(f[p],n.ARRAY_BUFFER);const h=d.morphAttributes;for(const p in h){const v=h[p];for(let g=0,m=v.length;g<m;g++)t.update(v[g],n.ARRAY_BUFFER)}},getWireframeAttribute:function u(d){const f=s.get(d);if(f){const h=d.index;null!==h&&f.version<h.version&&l(d)}else l(d);return s.get(d)}}}function NBe(n,t,e,i){const r=i.isWebGL2;let s,o,c;this.setMode=function a(f){s=f},this.setIndex=function l(f){o=f.type,c=f.bytesPerElement},this.render=function u(f,h){n.drawElements(s,h,o,f*c),e.update(h,s,1)},this.renderInstances=function d(f,h,p){if(0===p)return;let v,g;if(r)v=n,g="drawElementsInstanced";else if(v=t.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",null===v)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");v[g](s,h,o,f*c,p),e.update(h,s,p)}}function FBe(n){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function i(s,a,o){switch(e.calls++,a){case n.TRIANGLES:e.triangles+=o*(s/3);break;case n.LINES:e.lines+=o*(s/2);break;case n.LINE_STRIP:e.lines+=o*(s-1);break;case n.LINE_LOOP:e.lines+=o*s;break;case n.POINTS:e.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a)}}}}function OBe(n,t){return n[0]-t[0]}function BBe(n,t){return Math.abs(t[1])-Math.abs(n[1])}function UBe(n,t,e){const i={},r=new Float32Array(8),s=new WeakMap,a=new ni,o=[];for(let l=0;l<8;l++)o[l]=[l,0];return{update:function c(l,u,d){const f=l.morphTargetInfluences;if(!0===t.isWebGL2){const h=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==h?h.length:0;let v=s.get(u);if(void 0===v||v.count!==p){let J=function(){ge.dispose(),s.delete(u),u.removeEventListener("dispose",J)};void 0!==v&&v.texture.dispose();const C=void 0!==u.morphAttributes.position,b=void 0!==u.morphAttributes.normal,T=void 0!==u.morphAttributes.color,E=u.morphAttributes.position||[],L=u.morphAttributes.normal||[],k=u.morphAttributes.color||[];let O=0;!0===C&&(O=1),!0===b&&(O=2),!0===T&&(O=3);let D=u.attributes.position.count*O,R=1;D>t.maxTextureSize&&(R=Math.ceil(D/t.maxTextureSize),D=t.maxTextureSize);const ie=new Float32Array(D*R*4*p),ge=new Nb(ie,D,R,p);ge.type=Cc,ge.needsUpdate=!0;const Q=4*O;for(let se=0;se<p;se++){const X=E[se],Z=L[se],te=k[se],oe=D*R*4*se;for(let Me=0;Me<X.count;Me++){const ee=Me*Q;!0===C&&(a.fromBufferAttribute(X,Me),ie[oe+ee+0]=a.x,ie[oe+ee+1]=a.y,ie[oe+ee+2]=a.z,ie[oe+ee+3]=0),!0===b&&(a.fromBufferAttribute(Z,Me),ie[oe+ee+4]=a.x,ie[oe+ee+5]=a.y,ie[oe+ee+6]=a.z,ie[oe+ee+7]=0),!0===T&&(a.fromBufferAttribute(te,Me),ie[oe+ee+8]=a.x,ie[oe+ee+9]=a.y,ie[oe+ee+10]=a.z,ie[oe+ee+11]=4===te.itemSize?a.w:1)}}v={count:p,texture:ge,size:new Ce(D,R)},s.set(u,v),u.addEventListener("dispose",J)}let g=0;for(let C=0;C<f.length;C++)g+=f[C];const m=u.morphTargetsRelative?1:1-g;d.getUniforms().setValue(n,"morphTargetBaseInfluence",m),d.getUniforms().setValue(n,"morphTargetInfluences",f),d.getUniforms().setValue(n,"morphTargetsTexture",v.texture,e),d.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const h=void 0===f?0:f.length;let p=i[u.id];if(void 0===p||p.length!==h){p=[];for(let b=0;b<h;b++)p[b]=[b,0];i[u.id]=p}for(let b=0;b<h;b++){const T=p[b];T[0]=b,T[1]=f[b]}p.sort(BBe);for(let b=0;b<8;b++)b<h&&p[b][1]?(o[b][0]=p[b][0],o[b][1]=p[b][1]):(o[b][0]=Number.MAX_SAFE_INTEGER,o[b][1]=0);o.sort(OBe);const v=u.morphAttributes.position,g=u.morphAttributes.normal;let m=0;for(let b=0;b<8;b++){const T=o[b],E=T[0],L=T[1];E!==Number.MAX_SAFE_INTEGER&&L?(v&&u.getAttribute("morphTarget"+b)!==v[E]&&u.setAttribute("morphTarget"+b,v[E]),g&&u.getAttribute("morphNormal"+b)!==g[E]&&u.setAttribute("morphNormal"+b,g[E]),r[b]=L,m+=L):(v&&!0===u.hasAttribute("morphTarget"+b)&&u.deleteAttribute("morphTarget"+b),g&&!0===u.hasAttribute("morphNormal"+b)&&u.deleteAttribute("morphNormal"+b),r[b]=0)}const C=u.morphTargetsRelative?1:1-m;d.getUniforms().setValue(n,"morphTargetBaseInfluence",C),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function GBe(n,t,e,i){let r=new WeakMap;function o(c){const l=c.target;l.removeEventListener("dispose",o),e.remove(l.instanceMatrix),null!==l.instanceColor&&e.remove(l.instanceColor)}return{update:function s(c){const l=i.render.frame,d=t.get(c,c.geometry);if(r.get(d)!==l&&(t.update(d),r.set(d,l)),c.isInstancedMesh&&(!1===c.hasEventListener("dispose",o)&&c.addEventListener("dispose",o),r.get(c)!==l&&(e.update(c.instanceMatrix,n.ARRAY_BUFFER),null!==c.instanceColor&&e.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,l))),c.isSkinnedMesh){const f=c.skeleton;r.get(f)!==l&&(f.update(),r.set(f,l))}return d},dispose:function a(){r=new WeakMap}}}const qW=new Ya,YW=new Nb,XW=new bW,KW=new h8,ZW=[],QW=[],JW=new Float32Array(16),ej=new Float32Array(9),tj=new Float32Array(4);function Y4(n,t,e){const i=n[0];if(i<=0||i>0)return n;const r=t*e;let s=ZW[r];if(void 0===s&&(s=new Float32Array(r),ZW[r]=s),0!==t){i.toArray(s,0);for(let a=1,o=0;a!==t;++a)o+=e,n[a].toArray(s,o)}return s}function vr(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function yr(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function y8(n,t){let e=QW[t];void 0===e&&(e=new Int32Array(t),QW[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function WBe(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function jBe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(vr(e,t))return;n.uniform2fv(this.addr,t),yr(e,t)}}function $Be(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(vr(e,t))return;n.uniform3fv(this.addr,t),yr(e,t)}}function qBe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(vr(e,t))return;n.uniform4fv(this.addr,t),yr(e,t)}}function YBe(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(vr(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),yr(e,t)}else{if(vr(e,i))return;tj.set(i),n.uniformMatrix2fv(this.addr,!1,tj),yr(e,i)}}function XBe(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(vr(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),yr(e,t)}else{if(vr(e,i))return;ej.set(i),n.uniformMatrix3fv(this.addr,!1,ej),yr(e,i)}}function KBe(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(vr(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),yr(e,t)}else{if(vr(e,i))return;JW.set(i),n.uniformMatrix4fv(this.addr,!1,JW),yr(e,i)}}function ZBe(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function QBe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(vr(e,t))return;n.uniform2iv(this.addr,t),yr(e,t)}}function JBe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(vr(e,t))return;n.uniform3iv(this.addr,t),yr(e,t)}}function eUe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(vr(e,t))return;n.uniform4iv(this.addr,t),yr(e,t)}}function tUe(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function nUe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(vr(e,t))return;n.uniform2uiv(this.addr,t),yr(e,t)}}function iUe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(vr(e,t))return;n.uniform3uiv(this.addr,t),yr(e,t)}}function rUe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(vr(e,t))return;n.uniform4uiv(this.addr,t),yr(e,t)}}function sUe(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2D(t||qW,r)}function aUe(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture3D(t||XW,r)}function oUe(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTextureCube(t||KW,r)}function cUe(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2DArray(t||YW,r)}function uUe(n,t){n.uniform1fv(this.addr,t)}function dUe(n,t){const e=Y4(t,this.size,2);n.uniform2fv(this.addr,e)}function fUe(n,t){const e=Y4(t,this.size,3);n.uniform3fv(this.addr,e)}function hUe(n,t){const e=Y4(t,this.size,4);n.uniform4fv(this.addr,e)}function pUe(n,t){const e=Y4(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function mUe(n,t){const e=Y4(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function gUe(n,t){const e=Y4(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function _Ue(n,t){n.uniform1iv(this.addr,t)}function vUe(n,t){n.uniform2iv(this.addr,t)}function yUe(n,t){n.uniform3iv(this.addr,t)}function bUe(n,t){n.uniform4iv(this.addr,t)}function MUe(n,t){n.uniform1uiv(this.addr,t)}function xUe(n,t){n.uniform2uiv(this.addr,t)}function CUe(n,t){n.uniform3uiv(this.addr,t)}function wUe(n,t){n.uniform4uiv(this.addr,t)}function SUe(n,t,e){const i=this.cache,r=t.length,s=y8(e,r);vr(i,s)||(n.uniform1iv(this.addr,s),yr(i,s));for(let a=0;a!==r;++a)e.setTexture2D(t[a]||qW,s[a])}function TUe(n,t,e){const i=this.cache,r=t.length,s=y8(e,r);vr(i,s)||(n.uniform1iv(this.addr,s),yr(i,s));for(let a=0;a!==r;++a)e.setTexture3D(t[a]||XW,s[a])}function AUe(n,t,e){const i=this.cache,r=t.length,s=y8(e,r);vr(i,s)||(n.uniform1iv(this.addr,s),yr(i,s));for(let a=0;a!==r;++a)e.setTextureCube(t[a]||KW,s[a])}function DUe(n,t,e){const i=this.cache,r=t.length,s=y8(e,r);vr(i,s)||(n.uniform1iv(this.addr,s),yr(i,s));for(let a=0;a!==r;++a)e.setTexture2DArray(t[a]||YW,s[a])}class kUe{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function lUe(n){switch(n){case 5126:return WBe;case 35664:return jBe;case 35665:return $Be;case 35666:return qBe;case 35674:return YBe;case 35675:return XBe;case 35676:return KBe;case 5124:case 35670:return ZBe;case 35667:case 35671:return QBe;case 35668:case 35672:return JBe;case 35669:case 35673:return eUe;case 5125:return tUe;case 36294:return nUe;case 36295:return iUe;case 36296:return rUe;case 35678:case 36198:case 36298:case 36306:case 35682:return sUe;case 35679:case 36299:case 36307:return aUe;case 35680:case 36300:case 36308:case 36293:return oUe;case 36289:case 36303:case 36311:case 36292:return cUe}}(e.type)}}class LUe{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function EUe(n){switch(n){case 5126:return uUe;case 35664:return dUe;case 35665:return fUe;case 35666:return hUe;case 35674:return pUe;case 35675:return mUe;case 35676:return gUe;case 5124:case 35670:return _Ue;case 35667:case 35671:return vUe;case 35668:case 35672:return yUe;case 35669:case 35673:return bUe;case 5125:return MUe;case 36294:return xUe;case 36295:return CUe;case 36296:return wUe;case 35678:case 36198:case 36298:case 36306:case 35682:return SUe;case 35679:case 36299:case 36307:return TUe;case 35680:case 36300:case 36308:case 36293:return AUe;case 36289:case 36303:case 36311:case 36292:return DUe}}(e.type)}}class IUe{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(t,e[o.id],i)}}}const sM=/(\w+)(\])?(\[|\.)?/g;function nj(n,t){n.seq.push(t),n.map[t.id]=t}function VUe(n,t,e){const i=n.name,r=i.length;for(sM.lastIndex=0;;){const s=sM.exec(i),a=sM.lastIndex;let o=s[1];const l=s[3];if("]"===s[2]&&(o|=0),void 0===l||"["===l&&a+2===r){nj(e,void 0===l?new kUe(o,n,t):new LUe(o,n,t));break}{let d=e.map[o];void 0===d&&(d=new IUe(o),nj(e,d)),e=d}}}class b8{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=t.getActiveUniform(e,r);VUe(s,t.getUniformLocation(e,s.name),this)}}setValue(t,e,i,r){const s=this.map[e];void 0!==s&&s.setValue(t,i,r)}setOptional(t,e,i){const r=e[i];void 0!==r&&this.setValue(t,i,r)}static upload(t,e,i,r){for(let s=0,a=e.length;s!==a;++s){const o=e[s],c=i[o.id];!1!==c.needsUpdate&&o.setValue(t,c.value,r)}}static seqWithValue(t,e){const i=[];for(let r=0,s=t.length;r!==s;++r){const a=t[r];a.id in e&&i.push(a)}return i}}function ij(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}let HUe=0;function rj(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),r=n.getShaderInfoLog(t).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return e.toUpperCase()+"\n\n"+r+"\n\n"+function RUe(n,t){const e=n.split("\n"),i=[],r=Math.max(t-6,0),s=Math.min(t+6,e.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===t?">":" "} ${o}: ${e[a]}`)}return i.join("\n")}(n.getShaderSource(t),a)}return r}function PUe(n,t){const e=function zUe(n){switch(n){case Eo:return["Linear","( value )"];case Wt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}(t);return"vec4 "+n+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function NUe(n,t){let e;switch(t){case 1:e="Linear";break;case 2:e="Reinhard";break;case 3:e="OptimizedCineon";break;case 4:e="ACESFilmic";break;case 5:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function ph(n){return""!==n}function sj(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function aj(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const UUe=/^[ \t]*#include +<([\w\d./]+)>/gm;function aM(n){return n.replace(UUe,WUe)}const GUe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function WUe(n,t){let e=dn[t];if(void 0===e){const i=GUe.get(t);if(void 0===i)throw new Error("Can not resolve #include <"+t+">");e=dn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i)}return aM(e)}const jUe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function oj(n){return n.replace(jUe,$Ue)}function $Ue(n,t,e,i){let r="";for(let s=parseInt(t);s<parseInt(e);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function cj(n){let t="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?t+="\n#define HIGH_PRECISION":"mediump"===n.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(t+="\n#define LOW_PRECISION"),t}function QUe(n,t,e,i){const r=n.getContext(),s=e.defines;let a=e.vertexShader,o=e.fragmentShader;const c=function qUe(n){let t="SHADOWMAP_TYPE_BASIC";return 1===n.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(e),l=function YUe(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),u=function XUe(n){let t="ENVMAP_MODE_REFLECTION";return n.envMap&&302===n.envMapMode&&(t="ENVMAP_MODE_REFRACTION"),t}(e),d=function KUe(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(e),f=function ZUe(n){const t=n.envMapCubeUVHeight;if(null===t)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:i,maxMip:e}}(e),h=e.isWebGL2?"":function FUe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ph).join("\n")}(e),p=function OUe(n){const t=[];for(const e in n){const i=n[e];!1!==i&&t.push("#define "+e+" "+i)}return t.join("\n")}(s),v=r.createProgram();let g,m,C=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(g=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p].filter(ph).join("\n"),g.length>0&&(g+="\n"),m=[h,"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p].filter(ph).join("\n"),m.length>0&&(m+="\n")):(g=[cj(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+u:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+c:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ph).join("\n"),m=[h,cj(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+l:"",e.envMap?"#define "+u:"",e.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+c:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==e.toneMapping?"#define TONE_MAPPING":"",0!==e.toneMapping?dn.tonemapping_pars_fragment:"",0!==e.toneMapping?NUe("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",dn.colorspace_pars_fragment,PUe("linearToOutputTexel",e.outputColorSpace),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(ph).join("\n")),a=aM(a),a=sj(a,e),a=aj(a,e),o=aM(o),o=sj(o,e),o=aj(o,e),a=oj(a),o=oj(o),e.isWebGL2&&!0!==e.isRawShaderMaterial&&(C="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,m=["#define varying in","300 es"===e.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===e.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+m);const T=C+m+o,E=ij(r,r.VERTEX_SHADER,C+g+a),L=ij(r,r.FRAGMENT_SHADER,T);if(r.attachShader(v,E),r.attachShader(v,L),void 0!==e.index0AttributeName?r.bindAttribLocation(v,0,e.index0AttributeName):!0===e.morphTargets&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),n.debug.checkShaderErrors){const D=r.getProgramInfoLog(v).trim(),R=r.getShaderInfoLog(E).trim(),ie=r.getShaderInfoLog(L).trim();let ge=!0,Q=!0;if(!1===r.getProgramParameter(v,r.LINK_STATUS))if(ge=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,v,E,L);else{const J=rj(r,E,"vertex"),se=rj(r,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+D+"\n"+J+"\n"+se)}else""!==D?console.warn("THREE.WebGLProgram: Program Info Log:",D):(""===R||""===ie)&&(Q=!1);Q&&(this.diagnostics={runnable:ge,programLog:D,vertexShader:{log:R,prefix:g},fragmentShader:{log:ie,prefix:m}})}let k,O;return r.deleteShader(E),r.deleteShader(L),this.getUniforms=function(){return void 0===k&&(k=new b8(r,v)),k},this.getAttributes=function(){return void 0===O&&(O=function BUe(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(t,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),e[a]={type:s.type,location:n.getAttribLocation(t,a),locationSize:o}}return e}(r,v)),O},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=HUe++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=L,this}let JUe=0;class eGe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const i=t.fragmentShader,r=this._getShaderStage(t.vertexShader),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(t);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(s)&&(a.add(s),s.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return void 0===i&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return void 0===i&&(i=new tGe(t),e.set(t,i)),i}}class tGe{constructor(t){this.id=JUe++,this.code=t,this.usedTimes=0}}function nGe(n,t,e,i,r,s,a){const o=new jb,c=new eGe,l=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,f=r.vertexTextures;let h=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(D){return 0===D?"uv":`uv${D}`}return{getParameters:function g(D,R,ie,ge,Q){const J=ge.fog,se=Q.geometry,Z=(D.isMeshStandardMaterial?e:t).get(D.envMap||(D.isMeshStandardMaterial?ge.environment:null)),te=Z&&306===Z.mapping?Z.image.height:null,oe=p[D.type];null!==D.precision&&(h=r.getMaxPrecision(D.precision),h!==D.precision&&console.warn("THREE.WebGLProgram.getParameters:",D.precision,"not supported, using",h,"instead."));const Me=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,ee=void 0!==Me?Me.length:0;let ze,Ee,Ye,_t,pe=0;if(void 0!==se.morphAttributes.position&&(pe=1),void 0!==se.morphAttributes.normal&&(pe=2),void 0!==se.morphAttributes.color&&(pe=3),oe){const _i=Lo[oe];ze=_i.vertexShader,Ee=_i.fragmentShader}else ze=D.vertexShader,Ee=D.fragmentShader,c.update(D),Ye=c.getVertexShaderID(D),_t=c.getFragmentShaderID(D);const nt=n.getRenderTarget(),ht=!0===Q.isInstancedMesh,Bt=!!D.map,At=!!Z,G=!!D.aoMap,We=!!D.lightMap,Se=!!D.bumpMap,Oe=!!D.normalMap,ke=!!D.displacementMap,kt=!!D.emissiveMap,pt=!!D.metalnessMap,bt=!!D.roughnessMap,Ut=D.anisotropy>0,Cn=D.clearcoat>0,Mi=D.iridescence>0,B=D.sheen>0,H=D.transmission>0,ce=Ut&&!!D.anisotropyMap,Fe=Cn&&!!D.clearcoatMap,He=Cn&&!!D.clearcoatNormalMap,Be=Cn&&!!D.clearcoatRoughnessMap,Dt=Mi&&!!D.iridescenceMap,Ue=Mi&&!!D.iridescenceThicknessMap,fe=B&&!!D.sheenColorMap,W=B&&!!D.sheenRoughnessMap,De=!!D.specularMap,lt=!!D.specularColorMap,Ke=!!D.specularIntensityMap,ct=H&&!!D.transmissionMap,Zt=H&&!!D.thicknessMap,q=!!D.alphaMap,Pe=!!D.extensions,rt=!!se.attributes.uv1,yn=!!se.attributes.uv2,Qn=!!se.attributes.uv3;let gi=0;return D.toneMapped&&(null===nt||!0===nt.isXRRenderTarget)&&(gi=n.toneMapping),{isWebGL2:u,shaderID:oe,shaderType:D.type,shaderName:D.name,vertexShader:ze,fragmentShader:Ee,defines:D.defines,customVertexShaderID:Ye,customFragmentShaderID:_t,isRawShaderMaterial:!0===D.isRawShaderMaterial,glslVersion:D.glslVersion,precision:h,instancing:ht,instancingColor:ht&&null!==Q.instanceColor,supportsVertexTextures:f,outputColorSpace:null===nt?n.outputColorSpace:!0===nt.isXRRenderTarget?nt.texture.colorSpace:Eo,map:Bt,matcap:!!D.matcap,envMap:At,envMapMode:At&&Z.mapping,envMapCubeUVHeight:te,aoMap:G,lightMap:We,bumpMap:Se,normalMap:Oe,displacementMap:f&&ke,emissiveMap:kt,normalMapObjectSpace:Oe&&1===D.normalMapType,normalMapTangentSpace:Oe&&0===D.normalMapType,metalnessMap:pt,roughnessMap:bt,anisotropy:Ut,anisotropyMap:ce,clearcoat:Cn,clearcoatMap:Fe,clearcoatNormalMap:He,clearcoatRoughnessMap:Be,iridescence:Mi,iridescenceMap:Dt,iridescenceThicknessMap:Ue,sheen:B,sheenColorMap:fe,sheenRoughnessMap:W,specularMap:De,specularColorMap:lt,specularIntensityMap:Ke,transmission:H,transmissionMap:ct,thicknessMap:Zt,gradientMap:!!D.gradientMap,opaque:!1===D.transparent&&1===D.blending,alphaMap:q,alphaTest:D.alphaTest>0,alphaHash:!!D.alphaHash,combine:D.combine,mapUv:Bt&&v(D.map.channel),aoMapUv:G&&v(D.aoMap.channel),lightMapUv:We&&v(D.lightMap.channel),bumpMapUv:Se&&v(D.bumpMap.channel),normalMapUv:Oe&&v(D.normalMap.channel),displacementMapUv:ke&&v(D.displacementMap.channel),emissiveMapUv:kt&&v(D.emissiveMap.channel),metalnessMapUv:pt&&v(D.metalnessMap.channel),roughnessMapUv:bt&&v(D.roughnessMap.channel),anisotropyMapUv:ce&&v(D.anisotropyMap.channel),clearcoatMapUv:Fe&&v(D.clearcoatMap.channel),clearcoatNormalMapUv:He&&v(D.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Be&&v(D.clearcoatRoughnessMap.channel),iridescenceMapUv:Dt&&v(D.iridescenceMap.channel),iridescenceThicknessMapUv:Ue&&v(D.iridescenceThicknessMap.channel),sheenColorMapUv:fe&&v(D.sheenColorMap.channel),sheenRoughnessMapUv:W&&v(D.sheenRoughnessMap.channel),specularMapUv:De&&v(D.specularMap.channel),specularColorMapUv:lt&&v(D.specularColorMap.channel),specularIntensityMapUv:Ke&&v(D.specularIntensityMap.channel),transmissionMapUv:ct&&v(D.transmissionMap.channel),thicknessMapUv:Zt&&v(D.thicknessMap.channel),alphaMapUv:q&&v(D.alphaMap.channel),vertexTangents:!!se.attributes.tangent&&(Oe||Ut),vertexColors:D.vertexColors,vertexAlphas:!0===D.vertexColors&&!!se.attributes.color&&4===se.attributes.color.itemSize,vertexUv1s:rt,vertexUv2s:yn,vertexUv3s:Qn,pointsUvs:!0===Q.isPoints&&!!se.attributes.uv&&(Bt||q),fog:!!J,useFog:!0===D.fog,fogExp2:J&&J.isFogExp2,flatShading:!0===D.flatShading,sizeAttenuation:!0===D.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===Q.isSkinnedMesh,morphTargets:void 0!==se.morphAttributes.position,morphNormals:void 0!==se.morphAttributes.normal,morphColors:void 0!==se.morphAttributes.color,morphTargetsCount:ee,morphTextureStride:pe,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:D.dithering,shadowMapEnabled:n.shadowMap.enabled&&ie.length>0,shadowMapType:n.shadowMap.type,toneMapping:gi,useLegacyLights:n._useLegacyLights,premultipliedAlpha:D.premultipliedAlpha,doubleSided:2===D.side,flipSided:1===D.side,useDepthPacking:D.depthPacking>=0,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionDerivatives:Pe&&!0===D.extensions.derivatives,extensionFragDepth:Pe&&!0===D.extensions.fragDepth,extensionDrawBuffers:Pe&&!0===D.extensions.drawBuffers,extensionShaderTextureLOD:Pe&&!0===D.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:D.customProgramCacheKey()}},getProgramCacheKey:function m(D){const R=[];if(D.shaderID?R.push(D.shaderID):(R.push(D.customVertexShaderID),R.push(D.customFragmentShaderID)),void 0!==D.defines)for(const ie in D.defines)R.push(ie),R.push(D.defines[ie]);return!1===D.isRawShaderMaterial&&(function C(D,R){D.push(R.precision),D.push(R.outputColorSpace),D.push(R.envMapMode),D.push(R.envMapCubeUVHeight),D.push(R.mapUv),D.push(R.alphaMapUv),D.push(R.lightMapUv),D.push(R.aoMapUv),D.push(R.bumpMapUv),D.push(R.normalMapUv),D.push(R.displacementMapUv),D.push(R.emissiveMapUv),D.push(R.metalnessMapUv),D.push(R.roughnessMapUv),D.push(R.anisotropyMapUv),D.push(R.clearcoatMapUv),D.push(R.clearcoatNormalMapUv),D.push(R.clearcoatRoughnessMapUv),D.push(R.iridescenceMapUv),D.push(R.iridescenceThicknessMapUv),D.push(R.sheenColorMapUv),D.push(R.sheenRoughnessMapUv),D.push(R.specularMapUv),D.push(R.specularColorMapUv),D.push(R.specularIntensityMapUv),D.push(R.transmissionMapUv),D.push(R.thicknessMapUv),D.push(R.combine),D.push(R.fogExp2),D.push(R.sizeAttenuation),D.push(R.morphTargetsCount),D.push(R.morphAttributeCount),D.push(R.numDirLights),D.push(R.numPointLights),D.push(R.numSpotLights),D.push(R.numSpotLightMaps),D.push(R.numHemiLights),D.push(R.numRectAreaLights),D.push(R.numDirLightShadows),D.push(R.numPointLightShadows),D.push(R.numSpotLightShadows),D.push(R.numSpotLightShadowsWithMaps),D.push(R.shadowMapType),D.push(R.toneMapping),D.push(R.numClippingPlanes),D.push(R.numClipIntersection),D.push(R.depthPacking)}(R,D),function b(D,R){o.disableAll(),R.isWebGL2&&o.enable(0),R.supportsVertexTextures&&o.enable(1),R.instancing&&o.enable(2),R.instancingColor&&o.enable(3),R.matcap&&o.enable(4),R.envMap&&o.enable(5),R.normalMapObjectSpace&&o.enable(6),R.normalMapTangentSpace&&o.enable(7),R.clearcoat&&o.enable(8),R.iridescence&&o.enable(9),R.alphaTest&&o.enable(10),R.vertexColors&&o.enable(11),R.vertexAlphas&&o.enable(12),R.vertexUv1s&&o.enable(13),R.vertexUv2s&&o.enable(14),R.vertexUv3s&&o.enable(15),R.vertexTangents&&o.enable(16),R.anisotropy&&o.enable(17),D.push(o.mask),o.disableAll(),R.fog&&o.enable(0),R.useFog&&o.enable(1),R.flatShading&&o.enable(2),R.logarithmicDepthBuffer&&o.enable(3),R.skinning&&o.enable(4),R.morphTargets&&o.enable(5),R.morphNormals&&o.enable(6),R.morphColors&&o.enable(7),R.premultipliedAlpha&&o.enable(8),R.shadowMapEnabled&&o.enable(9),R.useLegacyLights&&o.enable(10),R.doubleSided&&o.enable(11),R.flipSided&&o.enable(12),R.useDepthPacking&&o.enable(13),R.dithering&&o.enable(14),R.transmission&&o.enable(15),R.sheen&&o.enable(16),R.opaque&&o.enable(17),R.pointsUvs&&o.enable(18),D.push(o.mask)}(R,D),R.push(n.outputColorSpace)),R.push(D.customProgramCacheKey),R.join()},getUniforms:function T(D){const R=p[D.type];let ie;return ie=R?xFe.clone(Lo[R].uniforms):D.uniforms,ie},acquireProgram:function E(D,R){let ie;for(let ge=0,Q=l.length;ge<Q;ge++){const J=l[ge];if(J.cacheKey===R){ie=J,++ie.usedTimes;break}}return void 0===ie&&(ie=new QUe(n,R,D,s),l.push(ie)),ie},releaseProgram:function L(D){if(0==--D.usedTimes){const R=l.indexOf(D);l[R]=l[l.length-1],l.pop(),D.destroy()}},releaseShaderCache:function k(D){c.remove(D)},programs:l,dispose:function O(){c.dispose()}}}function iGe(){let n=new WeakMap;return{get:function t(s){let a=n.get(s);return void 0===a&&(a={},n.set(s,a)),a},remove:function e(s){n.delete(s)},update:function i(s,a,o){n.get(s)[a]=o},dispose:function r(){n=new WeakMap}}}function rGe(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function lj(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function uj(){const n=[];let t=0;const e=[],i=[],r=[];function a(d,f,h,p,v,g){let m=n[t];return void 0===m?(m={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:v,group:g},n[t]=m):(m.id=d.id,m.object=d,m.geometry=f,m.material=h,m.groupOrder=p,m.renderOrder=d.renderOrder,m.z=v,m.group=g),t++,m}return{opaque:e,transmissive:i,transparent:r,init:function s(){t=0,e.length=0,i.length=0,r.length=0},push:function o(d,f,h,p,v,g){const m=a(d,f,h,p,v,g);h.transmission>0?i.push(m):!0===h.transparent?r.push(m):e.push(m)},unshift:function c(d,f,h,p,v,g){const m=a(d,f,h,p,v,g);h.transmission>0?i.unshift(m):!0===h.transparent?r.unshift(m):e.unshift(m)},finish:function u(){for(let d=t,f=n.length;d<f;d++){const h=n[d];if(null===h.id)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}},sort:function l(d,f){e.length>1&&e.sort(d||rGe),i.length>1&&i.sort(f||lj),r.length>1&&r.sort(f||lj)}}}function sGe(){let n=new WeakMap;return{get:function t(i,r){const s=n.get(i);let a;return void 0===s?(a=new uj,n.set(i,[a])):r>=s.length?(a=new uj,s.push(a)):a=s[r],a},dispose:function e(){n=new WeakMap}}}function aGe(){const n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new P,color:new ot};break;case"SpotLight":e={position:new P,direction:new P,color:new ot,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new P,color:new ot,distance:0,decay:0};break;case"HemisphereLight":e={direction:new P,skyColor:new ot,groundColor:new ot};break;case"RectAreaLight":e={color:new ot,position:new P,halfWidth:new P,halfHeight:new P}}return n[t.id]=e,e}}}let cGe=0;function lGe(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function uGe(n,t){const e=new aGe,i=function oGe(){const n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce,shadowCameraNear:1,shadowCameraFar:1e3}}return n[t.id]=e,e}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new P);const s=new P,a=new jt,o=new jt;return{setup:function c(u,d){let f=0,h=0,p=0;for(let ie=0;ie<9;ie++)r.probe[ie].set(0,0,0);let v=0,g=0,m=0,C=0,b=0,T=0,E=0,L=0,k=0,O=0;u.sort(lGe);const D=!0===d?Math.PI:1;for(let ie=0,ge=u.length;ie<ge;ie++){const Q=u[ie],J=Q.color,se=Q.intensity,X=Q.distance,Z=Q.shadow&&Q.shadow.map?Q.shadow.map.texture:null;if(Q.isAmbientLight)f+=J.r*se*D,h+=J.g*se*D,p+=J.b*se*D;else if(Q.isLightProbe)for(let te=0;te<9;te++)r.probe[te].addScaledVector(Q.sh.coefficients[te],se);else if(Q.isDirectionalLight){const te=e.get(Q);if(te.color.copy(Q.color).multiplyScalar(Q.intensity*D),Q.castShadow){const oe=Q.shadow,Me=i.get(Q);Me.shadowBias=oe.bias,Me.shadowNormalBias=oe.normalBias,Me.shadowRadius=oe.radius,Me.shadowMapSize=oe.mapSize,r.directionalShadow[v]=Me,r.directionalShadowMap[v]=Z,r.directionalShadowMatrix[v]=Q.shadow.matrix,T++}r.directional[v]=te,v++}else if(Q.isSpotLight){const te=e.get(Q);te.position.setFromMatrixPosition(Q.matrixWorld),te.color.copy(J).multiplyScalar(se*D),te.distance=X,te.coneCos=Math.cos(Q.angle),te.penumbraCos=Math.cos(Q.angle*(1-Q.penumbra)),te.decay=Q.decay,r.spot[m]=te;const oe=Q.shadow;if(Q.map&&(r.spotLightMap[k]=Q.map,k++,oe.updateMatrices(Q),Q.castShadow&&O++),r.spotLightMatrix[m]=oe.matrix,Q.castShadow){const Me=i.get(Q);Me.shadowBias=oe.bias,Me.shadowNormalBias=oe.normalBias,Me.shadowRadius=oe.radius,Me.shadowMapSize=oe.mapSize,r.spotShadow[m]=Me,r.spotShadowMap[m]=Z,L++}m++}else if(Q.isRectAreaLight){const te=e.get(Q);te.color.copy(J).multiplyScalar(se),te.halfWidth.set(.5*Q.width,0,0),te.halfHeight.set(0,.5*Q.height,0),r.rectArea[C]=te,C++}else if(Q.isPointLight){const te=e.get(Q);if(te.color.copy(Q.color).multiplyScalar(Q.intensity*D),te.distance=Q.distance,te.decay=Q.decay,Q.castShadow){const oe=Q.shadow,Me=i.get(Q);Me.shadowBias=oe.bias,Me.shadowNormalBias=oe.normalBias,Me.shadowRadius=oe.radius,Me.shadowMapSize=oe.mapSize,Me.shadowCameraNear=oe.camera.near,Me.shadowCameraFar=oe.camera.far,r.pointShadow[g]=Me,r.pointShadowMap[g]=Z,r.pointShadowMatrix[g]=Q.shadow.matrix,E++}r.point[g]=te,g++}else if(Q.isHemisphereLight){const te=e.get(Q);te.skyColor.copy(Q.color).multiplyScalar(se*D),te.groundColor.copy(Q.groundColor).multiplyScalar(se*D),r.hemi[b]=te,b++}}C>0&&(t.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=et.LTC_FLOAT_1,r.rectAreaLTC2=et.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=et.LTC_HALF_1,r.rectAreaLTC2=et.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=h,r.ambient[2]=p;const R=r.hash;(R.directionalLength!==v||R.pointLength!==g||R.spotLength!==m||R.rectAreaLength!==C||R.hemiLength!==b||R.numDirectionalShadows!==T||R.numPointShadows!==E||R.numSpotShadows!==L||R.numSpotMaps!==k)&&(r.directional.length=v,r.spot.length=m,r.rectArea.length=C,r.point.length=g,r.hemi.length=b,r.directionalShadow.length=T,r.directionalShadowMap.length=T,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=L,r.spotShadowMap.length=L,r.directionalShadowMatrix.length=T,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=L+k-O,r.spotLightMap.length=k,r.numSpotLightShadowsWithMaps=O,R.directionalLength=v,R.pointLength=g,R.spotLength=m,R.rectAreaLength=C,R.hemiLength=b,R.numDirectionalShadows=T,R.numPointShadows=E,R.numSpotShadows=L,R.numSpotMaps=k,r.version=cGe++)},setupView:function l(u,d){let f=0,h=0,p=0,v=0,g=0;const m=d.matrixWorldInverse;for(let C=0,b=u.length;C<b;C++){const T=u[C];if(T.isDirectionalLight){const E=r.directional[f];E.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(m),f++}else if(T.isSpotLight){const E=r.spot[p];E.position.setFromMatrixPosition(T.matrixWorld),E.position.applyMatrix4(m),E.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(m),p++}else if(T.isRectAreaLight){const E=r.rectArea[v];E.position.setFromMatrixPosition(T.matrixWorld),E.position.applyMatrix4(m),o.identity(),a.copy(T.matrixWorld),a.premultiply(m),o.extractRotation(a),E.halfWidth.set(.5*T.width,0,0),E.halfHeight.set(0,.5*T.height,0),E.halfWidth.applyMatrix4(o),E.halfHeight.applyMatrix4(o),v++}else if(T.isPointLight){const E=r.point[h];E.position.setFromMatrixPosition(T.matrixWorld),E.position.applyMatrix4(m),h++}else if(T.isHemisphereLight){const E=r.hemi[g];E.direction.setFromMatrixPosition(T.matrixWorld),E.direction.transformDirection(m),g++}}},state:r}}function dj(n,t){const e=new uGe(n,t),i=[],r=[];return{init:function s(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:e},setupLights:function c(d){e.setup(i,d)},setupLightsView:function l(d){e.setupView(i,d)},pushLight:function a(d){i.push(d)},pushShadow:function o(d){r.push(d)}}}function dGe(n,t){let e=new WeakMap;return{get:function i(s,a=0){const o=e.get(s);let c;return void 0===o?(c=new dj(n,t),e.set(s,[c])):a>=o.length?(c=new dj(n,t),o.push(c)):c=o[a],c},dispose:function r(){e=new WeakMap}}}class fj extends Qa{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class hj extends Qa{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function pGe(n,t,e){let i=new tM;const r=new Ce,s=new Ce,a=new ni,o=new fj({depthPacking:3201}),c=new hj,l={},u=e.maxTextureSize,d={0:1,1:0,2:2},f=new N2({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ce},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new vn;p.setAttribute("position",new Pi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new es(p,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let m=this.type;function C(E,L){const k=t.update(v);f.defines.VSM_SAMPLES!==E.blurSamples&&(f.defines.VSM_SAMPLES=E.blurSamples,h.defines.VSM_SAMPLES=E.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),null===E.mapPass&&(E.mapPass=new n1(r.x,r.y)),f.uniforms.shadow_pass.value=E.map.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(L,null,k,f,v,null),h.uniforms.shadow_pass.value=E.mapPass.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(L,null,k,h,v,null)}function b(E,L,k,O){let D=null;const R=!0===k.isPointLight?E.customDistanceMaterial:E.customDepthMaterial;if(void 0!==R)D=R;else if(D=!0===k.isPointLight?c:o,n.localClippingEnabled&&!0===L.clipShadows&&Array.isArray(L.clippingPlanes)&&0!==L.clippingPlanes.length||L.displacementMap&&0!==L.displacementScale||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0){const ie=D.uuid,ge=L.uuid;let Q=l[ie];void 0===Q&&(Q={},l[ie]=Q);let J=Q[ge];void 0===J&&(J=D.clone(),Q[ge]=J),D=J}return D.visible=L.visible,D.wireframe=L.wireframe,D.side=3===O?null!==L.shadowSide?L.shadowSide:L.side:null!==L.shadowSide?L.shadowSide:d[L.side],D.alphaMap=L.alphaMap,D.alphaTest=L.alphaTest,D.map=L.map,D.clipShadows=L.clipShadows,D.clippingPlanes=L.clippingPlanes,D.clipIntersection=L.clipIntersection,D.displacementMap=L.displacementMap,D.displacementScale=L.displacementScale,D.displacementBias=L.displacementBias,D.wireframeLinewidth=L.wireframeLinewidth,D.linewidth=L.linewidth,!0===k.isPointLight&&!0===D.isMeshDistanceMaterial&&(n.properties.get(D).light=k),D}function T(E,L,k,O,D){if(!1===E.visible)return;if(E.layers.test(L.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&3===D)&&(!E.frustumCulled||i.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,E.matrixWorld);const ge=t.update(E),Q=E.material;if(Array.isArray(Q)){const J=ge.groups;for(let se=0,X=J.length;se<X;se++){const Z=J[se],te=Q[Z.materialIndex];if(te&&te.visible){const oe=b(E,te,O,D);n.renderBufferDirect(k,null,ge,oe,E,Z)}}}else if(Q.visible){const J=b(E,Q,O,D);n.renderBufferDirect(k,null,ge,J,E,null)}}const ie=E.children;for(let ge=0,Q=ie.length;ge<Q;ge++)T(ie[ge],L,k,O,D)}this.render=function(E,L,k){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===E.length)return;const O=n.getRenderTarget(),D=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),ie=n.state;ie.setBlending(0),ie.buffers.color.setClear(1,1,1,1),ie.buffers.depth.setTest(!0),ie.setScissorTest(!1);const ge=3!==m&&3===this.type,Q=3===m&&3!==this.type;for(let J=0,se=E.length;J<se;J++){const X=E[J],Z=X.shadow;if(void 0===Z){console.warn("THREE.WebGLShadowMap:",X,"has no shadow.");continue}if(!1===Z.autoUpdate&&!1===Z.needsUpdate)continue;r.copy(Z.mapSize);const te=Z.getFrameExtents();if(r.multiply(te),s.copy(Z.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/te.x),r.x=s.x*te.x,Z.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/te.y),r.y=s.y*te.y,Z.mapSize.y=s.y)),null===Z.map||!0===ge||!0===Q){const Me=3!==this.type?{minFilter:$i,magFilter:$i}:{};null!==Z.map&&Z.map.dispose(),Z.map=new n1(r.x,r.y,Me),Z.map.texture.name=X.name+".shadowMap",Z.camera.updateProjectionMatrix()}n.setRenderTarget(Z.map),n.clear();const oe=Z.getViewportCount();for(let Me=0;Me<oe;Me++){const ee=Z.getViewport(Me);a.set(s.x*ee.x,s.y*ee.y,s.x*ee.z,s.y*ee.w),ie.viewport(a),Z.updateMatrices(X,Me),i=Z.getFrustum(),T(L,k,Z.camera,X,this.type)}!0!==Z.isPointLightShadow&&3===this.type&&C(Z,k),Z.needsUpdate=!1}m=this.type,g.needsUpdate=!1,n.setRenderTarget(O,D,R)}}function mGe(n,t,e){const i=e.isWebGL2,o=new function r(){let q=!1;const it=new ni;let le=null;const Pe=new ni(0,0,0,0);return{setMask:function(rt){le!==rt&&!q&&(n.colorMask(rt,rt,rt,rt),le=rt)},setLocked:function(rt){q=rt},setClear:function(rt,yn,Qn,gi,$2){!0===$2&&(rt*=gi,yn*=gi,Qn*=gi),it.set(rt,yn,Qn,gi),!1===Pe.equals(it)&&(n.clearColor(rt,yn,Qn,gi),Pe.copy(it))},reset:function(){q=!1,le=null,Pe.set(-1,0,0,0)}}},c=new function s(){let q=!1,it=null,le=null,Pe=null;return{setTest:function(rt){rt?nt(n.DEPTH_TEST):ht(n.DEPTH_TEST)},setMask:function(rt){it!==rt&&!q&&(n.depthMask(rt),it=rt)},setFunc:function(rt){if(le!==rt){switch(rt){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}le=rt}},setLocked:function(rt){q=rt},setClear:function(rt){Pe!==rt&&(n.clearDepth(rt),Pe=rt)},reset:function(){q=!1,it=null,le=null,Pe=null}}},l=new function a(){let q=!1,it=null,le=null,Pe=null,rt=null,yn=null,Qn=null,gi=null,$2=null;return{setTest:function(_i){q||(_i?nt(n.STENCIL_TEST):ht(n.STENCIL_TEST))},setMask:function(_i){it!==_i&&!q&&(n.stencilMask(_i),it=_i)},setFunc:function(_i,zo,gs){(le!==_i||Pe!==zo||rt!==gs)&&(n.stencilFunc(_i,zo,gs),le=_i,Pe=zo,rt=gs)},setOp:function(_i,zo,gs){(yn!==_i||Qn!==zo||gi!==gs)&&(n.stencilOp(_i,zo,gs),yn=_i,Qn=zo,gi=gs)},setLocked:function(_i){q=_i},setClear:function(_i){$2!==_i&&(n.clearStencil(_i),$2=_i)},reset:function(){q=!1,it=null,le=null,Pe=null,rt=null,yn=null,Qn=null,gi=null,$2=null}}},u=new WeakMap,d=new WeakMap;let f={},h={},p=new WeakMap,v=[],g=null,m=!1,C=null,b=null,T=null,E=null,L=null,k=null,O=null,D=!1,R=null,ie=null,ge=null,Q=null,J=null;const se=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let X=!1,Z=0;const te=n.getParameter(n.VERSION);-1!==te.indexOf("WebGL")?(Z=parseFloat(/^WebGL (\d)/.exec(te)[1]),X=Z>=1):-1!==te.indexOf("OpenGL ES")&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(te)[1]),X=Z>=2);let oe=null,Me={};const ee=n.getParameter(n.SCISSOR_BOX),pe=n.getParameter(n.VIEWPORT),ze=(new ni).fromArray(ee),Ee=(new ni).fromArray(pe);function Ye(q,it,le,Pe){const rt=new Uint8Array(4),yn=n.createTexture();n.bindTexture(q,yn),n.texParameteri(q,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(q,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Qn=0;Qn<le;Qn++)!i||q!==n.TEXTURE_3D&&q!==n.TEXTURE_2D_ARRAY?n.texImage2D(it+Qn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,rt):n.texImage3D(it,0,n.RGBA,1,1,Pe,0,n.RGBA,n.UNSIGNED_BYTE,rt);return yn}const _t={};function nt(q){!0!==f[q]&&(n.enable(q),f[q]=!0)}function ht(q){!1!==f[q]&&(n.disable(q),f[q]=!1)}_t[n.TEXTURE_2D]=Ye(n.TEXTURE_2D,n.TEXTURE_2D,1),_t[n.TEXTURE_CUBE_MAP]=Ye(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(_t[n.TEXTURE_2D_ARRAY]=Ye(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),_t[n.TEXTURE_3D]=Ye(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),c.setClear(1),l.setClear(0),nt(n.DEPTH_TEST),c.setFunc(3),ke(!1),kt(1),nt(n.CULL_FACE),Se(0);const G={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};if(i)G[103]=n.MIN,G[104]=n.MAX;else{const q=t.get("EXT_blend_minmax");null!==q&&(G[103]=q.MIN_EXT,G[104]=q.MAX_EXT)}const We={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA};function Se(q,it,le,Pe,rt,yn,Qn,gi){if(0!==q){if(!1===m&&(nt(n.BLEND),m=!0),5===q)rt=rt||it,yn=yn||le,Qn=Qn||Pe,(it!==b||rt!==L)&&(n.blendEquationSeparate(G[it],G[rt]),b=it,L=rt),(le!==T||Pe!==E||yn!==k||Qn!==O)&&(n.blendFuncSeparate(We[le],We[Pe],We[yn],We[Qn]),T=le,E=Pe,k=yn,O=Qn),C=q,D=!1;else if(q!==C||gi!==D){if((100!==b||100!==L)&&(n.blendEquation(n.FUNC_ADD),b=100,L=100),gi)switch(q){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",q)}else switch(q){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",q)}T=null,E=null,k=null,O=null,C=q,D=gi}}else!0===m&&(ht(n.BLEND),m=!1)}function ke(q){R!==q&&(n.frontFace(q?n.CW:n.CCW),R=q)}function kt(q){0!==q?(nt(n.CULL_FACE),q!==ie&&n.cullFace(1===q?n.BACK:2===q?n.FRONT:n.FRONT_AND_BACK)):ht(n.CULL_FACE),ie=q}function bt(q,it,le){q?(nt(n.POLYGON_OFFSET_FILL),(Q!==it||J!==le)&&(n.polygonOffset(it,le),Q=it,J=le)):ht(n.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:c,stencil:l},enable:nt,disable:ht,bindFramebuffer:function Bt(q,it){return h[q]!==it&&(n.bindFramebuffer(q,it),h[q]=it,i&&(q===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=it),q===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=it)),!0)},drawBuffers:function fn(q,it){let le=v,Pe=!1;if(q)if(le=p.get(it),void 0===le&&(le=[],p.set(it,le)),q.isWebGLMultipleRenderTargets){const rt=q.texture;if(le.length!==rt.length||le[0]!==n.COLOR_ATTACHMENT0){for(let yn=0,Qn=rt.length;yn<Qn;yn++)le[yn]=n.COLOR_ATTACHMENT0+yn;le.length=rt.length,Pe=!0}}else le[0]!==n.COLOR_ATTACHMENT0&&(le[0]=n.COLOR_ATTACHMENT0,Pe=!0);else le[0]!==n.BACK&&(le[0]=n.BACK,Pe=!0);Pe&&(e.isWebGL2?n.drawBuffers(le):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(le))},useProgram:function At(q){return g!==q&&(n.useProgram(q),g=q,!0)},setBlending:Se,setMaterial:function Oe(q,it){2===q.side?ht(n.CULL_FACE):nt(n.CULL_FACE);let le=1===q.side;it&&(le=!le),ke(le),1===q.blending&&!1===q.transparent?Se(0):Se(q.blending,q.blendEquation,q.blendSrc,q.blendDst,q.blendEquationAlpha,q.blendSrcAlpha,q.blendDstAlpha,q.premultipliedAlpha),c.setFunc(q.depthFunc),c.setTest(q.depthTest),c.setMask(q.depthWrite),o.setMask(q.colorWrite);const Pe=q.stencilWrite;l.setTest(Pe),Pe&&(l.setMask(q.stencilWriteMask),l.setFunc(q.stencilFunc,q.stencilRef,q.stencilFuncMask),l.setOp(q.stencilFail,q.stencilZFail,q.stencilZPass)),bt(q.polygonOffset,q.polygonOffsetFactor,q.polygonOffsetUnits),!0===q.alphaToCoverage?nt(n.SAMPLE_ALPHA_TO_COVERAGE):ht(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ke,setCullFace:kt,setLineWidth:function pt(q){q!==ge&&(X&&n.lineWidth(q),ge=q)},setPolygonOffset:bt,setScissorTest:function Ut(q){q?nt(n.SCISSOR_TEST):ht(n.SCISSOR_TEST)},activeTexture:function Cn(q){void 0===q&&(q=n.TEXTURE0+se-1),oe!==q&&(n.activeTexture(q),oe=q)},bindTexture:function Mi(q,it,le){void 0===le&&(le=null===oe?n.TEXTURE0+se-1:oe);let Pe=Me[le];void 0===Pe&&(Pe={type:void 0,texture:void 0},Me[le]=Pe),(Pe.type!==q||Pe.texture!==it)&&(oe!==le&&(n.activeTexture(le),oe=le),n.bindTexture(q,it||_t[q]),Pe.type=q,Pe.texture=it)},unbindTexture:function B(){const q=Me[oe];void 0!==q&&void 0!==q.type&&(n.bindTexture(q.type,null),q.type=void 0,q.texture=void 0)},compressedTexImage2D:function H(){try{n.compressedTexImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},compressedTexImage3D:function ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},texImage2D:function W(){try{n.texImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},texImage3D:function De(){try{n.texImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},updateUBOMapping:function ct(q,it){let le=d.get(it);void 0===le&&(le=new WeakMap,d.set(it,le));let Pe=le.get(q);void 0===Pe&&(Pe=n.getUniformBlockIndex(it,q.name),le.set(q,Pe))},uniformBlockBinding:function Zt(q,it){const Pe=d.get(it).get(q);u.get(it)!==Pe&&(n.uniformBlockBinding(it,Pe,q.__bindingPointIndex),u.set(it,Pe))},texStorage2D:function Ue(){try{n.texStorage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},texStorage3D:function fe(){try{n.texStorage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},texSubImage2D:function Fe(){try{n.texSubImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},texSubImage3D:function He(){try{n.texSubImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},compressedTexSubImage2D:function Be(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},compressedTexSubImage3D:function Dt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(q){console.error("THREE.WebGLState:",q)}},scissor:function lt(q){!1===ze.equals(q)&&(n.scissor(q.x,q.y,q.z,q.w),ze.copy(q))},viewport:function Ke(q){!1===Ee.equals(q)&&(n.viewport(q.x,q.y,q.z,q.w),Ee.copy(q))},reset:function kn(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},oe=null,Me={},h={},p=new WeakMap,v=[],g=null,m=!1,C=null,b=null,T=null,E=null,L=null,k=null,O=null,D=!1,R=null,ie=null,ge=null,Q=null,J=null,ze.set(0,0,n.canvas.width,n.canvas.height),Ee.set(0,0,n.canvas.width,n.canvas.height),o.reset(),c.reset(),l.reset()}}}function gGe(n,t,e,i,r,s,a){const o=r.isWebGL2,c=r.maxTextures,l=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,f=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,h=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let v;const g=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function C(B,H){return m?new OffscreenCanvas(B,H):oh("canvas")}function b(B,H,ce,Fe){let He=1;if((B.width>Fe||B.height>Fe)&&(He=Fe/Math.max(B.width,B.height)),He<1||!0===H){if(typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&B instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&B instanceof ImageBitmap){const Be=H?Xm:Math.floor,Dt=Be(He*B.width),Ue=Be(He*B.height);void 0===v&&(v=C(Dt,Ue));const fe=ce?C(Dt,Ue):v;return fe.width=Dt,fe.height=Ue,fe.getContext("2d").drawImage(B,0,0,Dt,Ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+B.width+"x"+B.height+") to ("+Dt+"x"+Ue+")."),fe}return"data"in B&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+B.width+"x"+B.height+")."),B}return B}function T(B){return Hb(B.width)&&Hb(B.height)}function L(B,H){return B.generateMipmaps&&H&&B.minFilter!==$i&&B.minFilter!==Ri}function k(B){n.generateMipmap(B)}function O(B,H,ce,Fe,He=!1){if(!1===o)return H;if(null!==B){if(void 0!==n[B])return n[B];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let Be=H;return H===n.RED&&(ce===n.FLOAT&&(Be=n.R32F),ce===n.HALF_FLOAT&&(Be=n.R16F),ce===n.UNSIGNED_BYTE&&(Be=n.R8)),H===n.RED_INTEGER&&(ce===n.UNSIGNED_BYTE&&(Be=n.R8UI),ce===n.UNSIGNED_SHORT&&(Be=n.R16UI),ce===n.UNSIGNED_INT&&(Be=n.R32UI),ce===n.BYTE&&(Be=n.R8I),ce===n.SHORT&&(Be=n.R16I),ce===n.INT&&(Be=n.R32I)),H===n.RG&&(ce===n.FLOAT&&(Be=n.RG32F),ce===n.HALF_FLOAT&&(Be=n.RG16F),ce===n.UNSIGNED_BYTE&&(Be=n.RG8)),H===n.RGBA&&(ce===n.FLOAT&&(Be=n.RGBA32F),ce===n.HALF_FLOAT&&(Be=n.RGBA16F),ce===n.UNSIGNED_BYTE&&(Be=Fe===Wt&&!1===He?n.SRGB8_ALPHA8:n.RGBA8),ce===n.UNSIGNED_SHORT_4_4_4_4&&(Be=n.RGBA4),ce===n.UNSIGNED_SHORT_5_5_5_1&&(Be=n.RGB5_A1)),(Be===n.R16F||Be===n.R32F||Be===n.RG16F||Be===n.RG32F||Be===n.RGBA16F||Be===n.RGBA32F)&&t.get("EXT_color_buffer_float"),Be}function D(B,H,ce){return!0===L(B,ce)||B.isFramebufferTexture&&B.minFilter!==$i&&B.minFilter!==Ri?Math.log2(Math.max(H.width,H.height))+1:void 0!==B.mipmaps&&B.mipmaps.length>0?B.mipmaps.length:B.isCompressedTexture&&Array.isArray(B.image)?H.mipmaps.length:1}function R(B){return B===$i||1004===B||1005===B?n.NEAREST:n.LINEAR}function ie(B){const H=B.target;H.removeEventListener("dispose",ie),function Q(B){const H=i.get(B);if(void 0===H.__webglInit)return;const ce=B.source,Fe=g.get(ce);if(Fe){const He=Fe[H.__cacheKey];He.usedTimes--,0===He.usedTimes&&J(B),0===Object.keys(Fe).length&&g.delete(ce)}i.remove(B)}(H),H.isVideoTexture&&p.delete(H)}function ge(B){const H=B.target;H.removeEventListener("dispose",ge),function se(B){const H=B.texture,ce=i.get(B),Fe=i.get(H);if(void 0!==Fe.__webglTexture&&(n.deleteTexture(Fe.__webglTexture),a.memory.textures--),B.depthTexture&&B.depthTexture.dispose(),B.isWebGLCubeRenderTarget)for(let He=0;He<6;He++){if(Array.isArray(ce.__webglFramebuffer[He]))for(let Be=0;Be<ce.__webglFramebuffer[He].length;Be++)n.deleteFramebuffer(ce.__webglFramebuffer[He][Be]);else n.deleteFramebuffer(ce.__webglFramebuffer[He]);ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer[He])}else{if(Array.isArray(ce.__webglFramebuffer))for(let He=0;He<ce.__webglFramebuffer.length;He++)n.deleteFramebuffer(ce.__webglFramebuffer[He]);else n.deleteFramebuffer(ce.__webglFramebuffer);if(ce.__webglDepthbuffer&&n.deleteRenderbuffer(ce.__webglDepthbuffer),ce.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ce.__webglMultisampledFramebuffer),ce.__webglColorRenderbuffer)for(let He=0;He<ce.__webglColorRenderbuffer.length;He++)ce.__webglColorRenderbuffer[He]&&n.deleteRenderbuffer(ce.__webglColorRenderbuffer[He]);ce.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ce.__webglDepthRenderbuffer)}if(B.isWebGLMultipleRenderTargets)for(let He=0,Be=H.length;He<Be;He++){const Dt=i.get(H[He]);Dt.__webglTexture&&(n.deleteTexture(Dt.__webglTexture),a.memory.textures--),i.remove(H[He])}i.remove(H),i.remove(B)}(H)}function J(B){const H=i.get(B);n.deleteTexture(H.__webglTexture),delete g.get(B.source)[H.__cacheKey],a.memory.textures--}let X=0;function Me(B,H){const ce=i.get(B);if(B.isVideoTexture&&function Cn(B){const H=a.render.frame;p.get(B)!==H&&(p.set(B,H),B.update())}(B),!1===B.isRenderTargetTexture&&B.version>0&&ce.__version!==B.version){const Fe=B.image;if(null===Fe)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Fe.complete)return void Bt(ce,B,H);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.bindTexture(n.TEXTURE_2D,ce.__webglTexture,n.TEXTURE0+H)}const Ee={[Yl]:n.REPEAT,[Zr]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},Ye={[$i]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[Ri]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[xc]:n.LINEAR_MIPMAP_LINEAR},_t={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function nt(B,H,ce){if(ce?(n.texParameteri(B,n.TEXTURE_WRAP_S,Ee[H.wrapS]),n.texParameteri(B,n.TEXTURE_WRAP_T,Ee[H.wrapT]),(B===n.TEXTURE_3D||B===n.TEXTURE_2D_ARRAY)&&n.texParameteri(B,n.TEXTURE_WRAP_R,Ee[H.wrapR]),n.texParameteri(B,n.TEXTURE_MAG_FILTER,Ye[H.magFilter]),n.texParameteri(B,n.TEXTURE_MIN_FILTER,Ye[H.minFilter])):(n.texParameteri(B,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(B,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(B===n.TEXTURE_3D||B===n.TEXTURE_2D_ARRAY)&&n.texParameteri(B,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(H.wrapS!==Zr||H.wrapT!==Zr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(B,n.TEXTURE_MAG_FILTER,R(H.magFilter)),n.texParameteri(B,n.TEXTURE_MIN_FILTER,R(H.minFilter)),H.minFilter!==$i&&H.minFilter!==Ri&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),H.compareFunction&&(n.texParameteri(B,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(B,n.TEXTURE_COMPARE_FUNC,_t[H.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){const Fe=t.get("EXT_texture_filter_anisotropic");if(H.magFilter===$i||1005!==H.minFilter&&H.minFilter!==xc||H.type===Cc&&!1===t.has("OES_texture_float_linear")||!1===o&&H.type===rh&&!1===t.has("OES_texture_half_float_linear"))return;(H.anisotropy>1||i.get(H).__currentAnisotropy)&&(n.texParameterf(B,Fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,r.getMaxAnisotropy())),i.get(H).__currentAnisotropy=H.anisotropy)}}function ht(B,H){let ce=!1;void 0===B.__webglInit&&(B.__webglInit=!0,H.addEventListener("dispose",ie));const Fe=H.source;let He=g.get(Fe);void 0===He&&(He={},g.set(Fe,He));const Be=function oe(B){const H=[];return H.push(B.wrapS),H.push(B.wrapT),H.push(B.wrapR||0),H.push(B.magFilter),H.push(B.minFilter),H.push(B.anisotropy),H.push(B.internalFormat),H.push(B.format),H.push(B.type),H.push(B.generateMipmaps),H.push(B.premultiplyAlpha),H.push(B.flipY),H.push(B.unpackAlignment),H.push(B.colorSpace),H.join()}(H);if(Be!==B.__cacheKey){void 0===He[Be]&&(He[Be]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,ce=!0),He[Be].usedTimes++;const Dt=He[B.__cacheKey];void 0!==Dt&&(He[B.__cacheKey].usedTimes--,0===Dt.usedTimes&&J(H)),B.__cacheKey=Be,B.__webglTexture=He[Be].texture}return ce}function Bt(B,H,ce){let Fe=n.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(Fe=n.TEXTURE_2D_ARRAY),H.isData3DTexture&&(Fe=n.TEXTURE_3D);const He=ht(B,H),Be=H.source;e.bindTexture(Fe,B.__webglTexture,n.TEXTURE0+ce);const Dt=i.get(Be);if(Be.version!==Dt.__version||!0===He){e.activeTexture(n.TEXTURE0+ce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Ue=function E(B){return!o&&(B.wrapS!==Zr||B.wrapT!==Zr||B.minFilter!==$i&&B.minFilter!==Ri)}(H)&&!1===T(H.image);let fe=b(H.image,Ue,!1,u);fe=Mi(H,fe);const W=T(fe)||o,De=s.convert(H.format,H.colorSpace);let ct,lt=s.convert(H.type),Ke=O(H.internalFormat,De,lt,H.colorSpace);nt(Fe,H,W);const Zt=H.mipmaps,kn=o&&!0!==H.isVideoTexture,q=void 0===Dt.__version||!0===He,it=D(H,fe,W);if(H.isDepthTexture)Ke=n.DEPTH_COMPONENT,o?Ke=H.type===Cc?n.DEPTH_COMPONENT32F:H.type===V2?n.DEPTH_COMPONENT24:H.type===Xl?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:H.type===Cc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===Kl&&Ke===n.DEPTH_COMPONENT&&1012!==H.type&&H.type!==V2&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=V2,lt=s.convert(H.type)),H.format===b4&&Ke===n.DEPTH_COMPONENT&&(Ke=n.DEPTH_STENCIL,H.type!==Xl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=Xl,lt=s.convert(H.type))),q&&(kn?e.texStorage2D(n.TEXTURE_2D,1,Ke,fe.width,fe.height):e.texImage2D(n.TEXTURE_2D,0,Ke,fe.width,fe.height,0,De,lt,null));else if(H.isDataTexture)if(Zt.length>0&&W){kn&&q&&e.texStorage2D(n.TEXTURE_2D,it,Ke,Zt[0].width,Zt[0].height);for(let le=0,Pe=Zt.length;le<Pe;le++)ct=Zt[le],kn?e.texSubImage2D(n.TEXTURE_2D,le,0,0,ct.width,ct.height,De,lt,ct.data):e.texImage2D(n.TEXTURE_2D,le,Ke,ct.width,ct.height,0,De,lt,ct.data);H.generateMipmaps=!1}else kn?(q&&e.texStorage2D(n.TEXTURE_2D,it,Ke,fe.width,fe.height),e.texSubImage2D(n.TEXTURE_2D,0,0,0,fe.width,fe.height,De,lt,fe.data)):e.texImage2D(n.TEXTURE_2D,0,Ke,fe.width,fe.height,0,De,lt,fe.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){kn&&q&&e.texStorage3D(n.TEXTURE_2D_ARRAY,it,Ke,Zt[0].width,Zt[0].height,fe.depth);for(let le=0,Pe=Zt.length;le<Pe;le++)ct=Zt[le],H.format!==Ma?null!==De?kn?e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,le,0,0,0,ct.width,ct.height,fe.depth,De,ct.data,0,0):e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,le,Ke,ct.width,ct.height,fe.depth,0,ct.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):kn?e.texSubImage3D(n.TEXTURE_2D_ARRAY,le,0,0,0,ct.width,ct.height,fe.depth,De,lt,ct.data):e.texImage3D(n.TEXTURE_2D_ARRAY,le,Ke,ct.width,ct.height,fe.depth,0,De,lt,ct.data)}else{kn&&q&&e.texStorage2D(n.TEXTURE_2D,it,Ke,Zt[0].width,Zt[0].height);for(let le=0,Pe=Zt.length;le<Pe;le++)ct=Zt[le],H.format!==Ma?null!==De?kn?e.compressedTexSubImage2D(n.TEXTURE_2D,le,0,0,ct.width,ct.height,De,ct.data):e.compressedTexImage2D(n.TEXTURE_2D,le,Ke,ct.width,ct.height,0,ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):kn?e.texSubImage2D(n.TEXTURE_2D,le,0,0,ct.width,ct.height,De,lt,ct.data):e.texImage2D(n.TEXTURE_2D,le,Ke,ct.width,ct.height,0,De,lt,ct.data)}else if(H.isDataArrayTexture)kn?(q&&e.texStorage3D(n.TEXTURE_2D_ARRAY,it,Ke,fe.width,fe.height,fe.depth),e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,fe.width,fe.height,fe.depth,De,lt,fe.data)):e.texImage3D(n.TEXTURE_2D_ARRAY,0,Ke,fe.width,fe.height,fe.depth,0,De,lt,fe.data);else if(H.isData3DTexture)kn?(q&&e.texStorage3D(n.TEXTURE_3D,it,Ke,fe.width,fe.height,fe.depth),e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,fe.width,fe.height,fe.depth,De,lt,fe.data)):e.texImage3D(n.TEXTURE_3D,0,Ke,fe.width,fe.height,fe.depth,0,De,lt,fe.data);else if(H.isFramebufferTexture){if(q)if(kn)e.texStorage2D(n.TEXTURE_2D,it,Ke,fe.width,fe.height);else{let le=fe.width,Pe=fe.height;for(let rt=0;rt<it;rt++)e.texImage2D(n.TEXTURE_2D,rt,Ke,le,Pe,0,De,lt,null),le>>=1,Pe>>=1}}else if(Zt.length>0&&W){kn&&q&&e.texStorage2D(n.TEXTURE_2D,it,Ke,Zt[0].width,Zt[0].height);for(let le=0,Pe=Zt.length;le<Pe;le++)ct=Zt[le],kn?e.texSubImage2D(n.TEXTURE_2D,le,0,0,De,lt,ct):e.texImage2D(n.TEXTURE_2D,le,Ke,De,lt,ct);H.generateMipmaps=!1}else kn?(q&&e.texStorage2D(n.TEXTURE_2D,it,Ke,fe.width,fe.height),e.texSubImage2D(n.TEXTURE_2D,0,0,0,De,lt,fe)):e.texImage2D(n.TEXTURE_2D,0,Ke,De,lt,fe);L(H,W)&&k(Fe),Dt.__version=Be.version,H.onUpdate&&H.onUpdate(H)}B.__version=H.version}function At(B,H,ce,Fe,He,Be){const Dt=s.convert(ce.format,ce.colorSpace),Ue=s.convert(ce.type),fe=O(ce.internalFormat,Dt,Ue,ce.colorSpace);if(!i.get(H).__hasExternalTextures){const De=Math.max(1,H.width>>Be),lt=Math.max(1,H.height>>Be);He===n.TEXTURE_3D||He===n.TEXTURE_2D_ARRAY?e.texImage3D(He,Be,fe,De,lt,H.depth,0,Dt,Ue,null):e.texImage2D(He,Be,fe,De,lt,0,Dt,Ue,null)}e.bindFramebuffer(n.FRAMEBUFFER,B),Ut(H)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Fe,He,i.get(ce).__webglTexture,0,bt(H)):(He===n.TEXTURE_2D||He>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&He<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Fe,He,i.get(ce).__webglTexture,Be),e.bindFramebuffer(n.FRAMEBUFFER,null)}function G(B,H,ce){if(n.bindRenderbuffer(n.RENDERBUFFER,B),H.depthBuffer&&!H.stencilBuffer){let Fe=n.DEPTH_COMPONENT16;if(ce||Ut(H)){const He=H.depthTexture;He&&He.isDepthTexture&&(He.type===Cc?Fe=n.DEPTH_COMPONENT32F:He.type===V2&&(Fe=n.DEPTH_COMPONENT24));const Be=bt(H);Ut(H)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Be,Fe,H.width,H.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Be,Fe,H.width,H.height)}else n.renderbufferStorage(n.RENDERBUFFER,Fe,H.width,H.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,B)}else if(H.depthBuffer&&H.stencilBuffer){const Fe=bt(H);ce&&!1===Ut(H)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Fe,n.DEPTH24_STENCIL8,H.width,H.height):Ut(H)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Fe,n.DEPTH24_STENCIL8,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,H.width,H.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,B)}else{const Fe=!0===H.isWebGLMultipleRenderTargets?H.texture:[H.texture];for(let He=0;He<Fe.length;He++){const Be=Fe[He],Dt=s.convert(Be.format,Be.colorSpace),Ue=s.convert(Be.type),fe=O(Be.internalFormat,Dt,Ue,Be.colorSpace),W=bt(H);ce&&!1===Ut(H)?n.renderbufferStorageMultisample(n.RENDERBUFFER,W,fe,H.width,H.height):Ut(H)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,W,fe,H.width,H.height):n.renderbufferStorage(n.RENDERBUFFER,fe,H.width,H.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Se(B){const H=i.get(B),ce=!0===B.isWebGLCubeRenderTarget;if(B.depthTexture&&!H.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");!function We(B,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,B),!H.depthTexture||!H.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),Me(H.depthTexture,0);const Fe=i.get(H.depthTexture).__webglTexture,He=bt(H);if(H.depthTexture.format===Kl)Ut(H)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Fe,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Fe,0);else{if(H.depthTexture.format!==b4)throw new Error("Unknown depthTexture format");Ut(H)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Fe,0,He):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Fe,0)}}(H.__webglFramebuffer,B)}else if(ce){H.__webglDepthbuffer=[];for(let Fe=0;Fe<6;Fe++)e.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer[Fe]),H.__webglDepthbuffer[Fe]=n.createRenderbuffer(),G(H.__webglDepthbuffer[Fe],B,!1)}else e.bindFramebuffer(n.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer=n.createRenderbuffer(),G(H.__webglDepthbuffer,B,!1);e.bindFramebuffer(n.FRAMEBUFFER,null)}function bt(B){return Math.min(d,B.samples)}function Ut(B){const H=i.get(B);return o&&B.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==H.__useRenderToTexture}function Mi(B,H){const ce=B.colorSpace,Fe=B.format,He=B.type;return!0===B.isCompressedTexture||1035===B.format||ce!==Eo&&""!==ce&&(ce===Wt?!1===o?!0===t.has("EXT_sRGB")&&Fe===Ma?(B.format=1035,B.minFilter=Ri,B.generateMipmaps=!1):H=yW.sRGBToLinear(H):(Fe!==Ma||He!==I2)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ce)),H}this.allocateTextureUnit=function te(){const B=X;return B>=c&&console.warn("THREE.WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+c),X+=1,B},this.resetTextureUnits=function Z(){X=0},this.setTexture2D=Me,this.setTexture2DArray=function ee(B,H){const ce=i.get(B);B.version>0&&ce.__version!==B.version?Bt(ce,B,H):e.bindTexture(n.TEXTURE_2D_ARRAY,ce.__webglTexture,n.TEXTURE0+H)},this.setTexture3D=function pe(B,H){const ce=i.get(B);B.version>0&&ce.__version!==B.version?Bt(ce,B,H):e.bindTexture(n.TEXTURE_3D,ce.__webglTexture,n.TEXTURE0+H)},this.setTextureCube=function ze(B,H){const ce=i.get(B);B.version>0&&ce.__version!==B.version?function fn(B,H,ce){if(6!==H.image.length)return;const Fe=ht(B,H),He=H.source;e.bindTexture(n.TEXTURE_CUBE_MAP,B.__webglTexture,n.TEXTURE0+ce);const Be=i.get(He);if(He.version!==Be.__version||!0===Fe){e.activeTexture(n.TEXTURE0+ce),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,H.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,H.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Dt=H.isCompressedTexture||H.image[0].isCompressedTexture,Ue=H.image[0]&&H.image[0].isDataTexture,fe=[];for(let le=0;le<6;le++)fe[le]=Dt||Ue?Ue?H.image[le].image:H.image[le]:b(H.image[le],!1,!0,l),fe[le]=Mi(H,fe[le]);const W=fe[0],De=T(W)||o,lt=s.convert(H.format,H.colorSpace),Ke=s.convert(H.type),ct=O(H.internalFormat,lt,Ke,H.colorSpace),Zt=o&&!0!==H.isVideoTexture,kn=void 0===Be.__version||!0===Fe;let it,q=D(H,W,De);if(nt(n.TEXTURE_CUBE_MAP,H,De),Dt){Zt&&kn&&e.texStorage2D(n.TEXTURE_CUBE_MAP,q,ct,W.width,W.height);for(let le=0;le<6;le++){it=fe[le].mipmaps;for(let Pe=0;Pe<it.length;Pe++){const rt=it[Pe];H.format!==Ma?null!==lt?Zt?e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Pe,0,0,rt.width,rt.height,lt,rt.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Pe,ct,rt.width,rt.height,0,rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Zt?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Pe,0,0,rt.width,rt.height,lt,Ke,rt.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Pe,ct,rt.width,rt.height,0,lt,Ke,rt.data)}}}else{it=H.mipmaps,Zt&&kn&&(it.length>0&&q++,e.texStorage2D(n.TEXTURE_CUBE_MAP,q,ct,fe[0].width,fe[0].height));for(let le=0;le<6;le++)if(Ue){Zt?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,fe[le].width,fe[le].height,lt,Ke,fe[le].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,ct,fe[le].width,fe[le].height,0,lt,Ke,fe[le].data);for(let Pe=0;Pe<it.length;Pe++){const yn=it[Pe].image[le].image;Zt?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Pe+1,0,0,yn.width,yn.height,lt,Ke,yn.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Pe+1,ct,yn.width,yn.height,0,lt,Ke,yn.data)}}else{Zt?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,0,0,lt,Ke,fe[le]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,0,ct,lt,Ke,fe[le]);for(let Pe=0;Pe<it.length;Pe++){const rt=it[Pe];Zt?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Pe+1,0,0,lt,Ke,rt.image[le]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+le,Pe+1,ct,lt,Ke,rt.image[le])}}}L(H,De)&&k(n.TEXTURE_CUBE_MAP),Be.__version=He.version,H.onUpdate&&H.onUpdate(H)}B.__version=H.version}(ce,B,H):e.bindTexture(n.TEXTURE_CUBE_MAP,ce.__webglTexture,n.TEXTURE0+H)},this.rebindTextures=function Oe(B,H,ce){const Fe=i.get(B);void 0!==H&&At(Fe.__webglFramebuffer,B,B.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==ce&&Se(B)},this.setupRenderTarget=function ke(B){const H=B.texture,ce=i.get(B),Fe=i.get(H);B.addEventListener("dispose",ge),!0!==B.isWebGLMultipleRenderTargets&&(void 0===Fe.__webglTexture&&(Fe.__webglTexture=n.createTexture()),Fe.__version=H.version,a.memory.textures++);const He=!0===B.isWebGLCubeRenderTarget,Be=!0===B.isWebGLMultipleRenderTargets,Dt=T(B)||o;if(He){ce.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)if(o&&H.mipmaps&&H.mipmaps.length>0){ce.__webglFramebuffer[Ue]=[];for(let fe=0;fe<H.mipmaps.length;fe++)ce.__webglFramebuffer[Ue][fe]=n.createFramebuffer()}else ce.__webglFramebuffer[Ue]=n.createFramebuffer()}else{if(o&&H.mipmaps&&H.mipmaps.length>0){ce.__webglFramebuffer=[];for(let Ue=0;Ue<H.mipmaps.length;Ue++)ce.__webglFramebuffer[Ue]=n.createFramebuffer()}else ce.__webglFramebuffer=n.createFramebuffer();if(Be)if(r.drawBuffers){const Ue=B.texture;for(let fe=0,W=Ue.length;fe<W;fe++){const De=i.get(Ue[fe]);void 0===De.__webglTexture&&(De.__webglTexture=n.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&B.samples>0&&!1===Ut(B)){const Ue=Be?H:[H];ce.__webglMultisampledFramebuffer=n.createFramebuffer(),ce.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let fe=0;fe<Ue.length;fe++){const W=Ue[fe];ce.__webglColorRenderbuffer[fe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ce.__webglColorRenderbuffer[fe]);const De=s.convert(W.format,W.colorSpace),lt=s.convert(W.type),Ke=O(W.internalFormat,De,lt,W.colorSpace,!0===B.isXRRenderTarget),ct=bt(B);n.renderbufferStorageMultisample(n.RENDERBUFFER,ct,Ke,B.width,B.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+fe,n.RENDERBUFFER,ce.__webglColorRenderbuffer[fe])}n.bindRenderbuffer(n.RENDERBUFFER,null),B.depthBuffer&&(ce.__webglDepthRenderbuffer=n.createRenderbuffer(),G(ce.__webglDepthRenderbuffer,B,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(He){e.bindTexture(n.TEXTURE_CUBE_MAP,Fe.__webglTexture),nt(n.TEXTURE_CUBE_MAP,H,Dt);for(let Ue=0;Ue<6;Ue++)if(o&&H.mipmaps&&H.mipmaps.length>0)for(let fe=0;fe<H.mipmaps.length;fe++)At(ce.__webglFramebuffer[Ue][fe],B,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,fe);else At(ce.__webglFramebuffer[Ue],B,H,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0);L(H,Dt)&&k(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(Be){const Ue=B.texture;for(let fe=0,W=Ue.length;fe<W;fe++){const De=Ue[fe],lt=i.get(De);e.bindTexture(n.TEXTURE_2D,lt.__webglTexture),nt(n.TEXTURE_2D,De,Dt),At(ce.__webglFramebuffer,B,De,n.COLOR_ATTACHMENT0+fe,n.TEXTURE_2D,0),L(De,Dt)&&k(n.TEXTURE_2D)}e.unbindTexture()}else{let Ue=n.TEXTURE_2D;if((B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(o?Ue=B.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(Ue,Fe.__webglTexture),nt(Ue,H,Dt),o&&H.mipmaps&&H.mipmaps.length>0)for(let fe=0;fe<H.mipmaps.length;fe++)At(ce.__webglFramebuffer[fe],B,H,n.COLOR_ATTACHMENT0,Ue,fe);else At(ce.__webglFramebuffer,B,H,n.COLOR_ATTACHMENT0,Ue,0);L(H,Dt)&&k(Ue),e.unbindTexture()}B.depthBuffer&&Se(B)},this.updateRenderTargetMipmap=function kt(B){const H=T(B)||o,ce=!0===B.isWebGLMultipleRenderTargets?B.texture:[B.texture];for(let Fe=0,He=ce.length;Fe<He;Fe++){const Be=ce[Fe];if(L(Be,H)){const Dt=B.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ue=i.get(Be).__webglTexture;e.bindTexture(Dt,Ue),k(Dt),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function pt(B){if(o&&B.samples>0&&!1===Ut(B)){const H=B.isWebGLMultipleRenderTargets?B.texture:[B.texture],ce=B.width,Fe=B.height;let He=n.COLOR_BUFFER_BIT;const Be=[],Dt=B.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ue=i.get(B),fe=!0===B.isWebGLMultipleRenderTargets;if(fe)for(let W=0;W<H.length;W++)e.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+W,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+W,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ue.__webglFramebuffer);for(let W=0;W<H.length;W++){Be.push(n.COLOR_ATTACHMENT0+W),B.depthBuffer&&Be.push(Dt);const De=void 0!==Ue.__ignoreDepthValues&&Ue.__ignoreDepthValues;if(!1===De&&(B.depthBuffer&&(He|=n.DEPTH_BUFFER_BIT),B.stencilBuffer&&(He|=n.STENCIL_BUFFER_BIT)),fe&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[W]),!0===De&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Dt]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Dt])),fe){const lt=i.get(H[W]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,lt,0)}n.blitFramebuffer(0,0,ce,Fe,0,0,ce,Fe,He,n.NEAREST),h&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Be)}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),fe)for(let W=0;W<H.length;W++){e.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+W,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[W]);const De=i.get(H[W]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+W,n.TEXTURE_2D,De,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ue.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=Se,this.setupFrameBufferTexture=At,this.useMultisampledRTT=Ut}function _Ge(n,t,e){const i=e.isWebGL2;return{convert:function r(s,a=""){let o;if(s===I2)return n.UNSIGNED_BYTE;if(1017===s)return n.UNSIGNED_SHORT_4_4_4_4;if(1018===s)return n.UNSIGNED_SHORT_5_5_5_1;if(1010===s)return n.BYTE;if(1011===s)return n.SHORT;if(1012===s)return n.UNSIGNED_SHORT;if(1013===s)return n.INT;if(s===V2)return n.UNSIGNED_INT;if(s===Cc)return n.FLOAT;if(s===rh)return i?n.HALF_FLOAT:(o=t.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(1021===s)return n.ALPHA;if(s===Ma)return n.RGBA;if(1024===s)return n.LUMINANCE;if(1025===s)return n.LUMINANCE_ALPHA;if(s===Kl)return n.DEPTH_COMPONENT;if(s===b4)return n.DEPTH_STENCIL;if(1035===s)return o=t.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(1028===s)return n.RED;if(1029===s)return n.RED_INTEGER;if(1030===s)return n.RG;if(1031===s)return n.RG_INTEGER;if(1033===s)return n.RGBA_INTEGER;if(33776===s||33777===s||33778===s||33779===s)if(a===Wt){if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(33776===s)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===s)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===s)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===s)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=t.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(33776===s)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(o=t.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(35840===s)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return o=t.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===s||37496===s){if(o=t.get("WEBGL_compressed_texture_etc"),null===o)return null;if(37492===s)return a===Wt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(37496===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s){if(o=t.get("WEBGL_compressed_texture_astc"),null===o)return null;if(37808===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===s)return a===Wt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===s){if(o=t.get("EXT_texture_compression_bptc"),null===o)return null;if(36492===s)return a===Wt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===s||36284===s||36285===s||36286===s){if(o=t.get("EXT_texture_compression_rgtc"),null===o)return null;if(36492===s)return o.COMPRESSED_RED_RGTC1_EXT;if(36284===s)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===s)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===s)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===Xl?i?n.UNSIGNED_INT_24_8:(o=t.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[s]?n[s]:null}}}class vGe extends Er{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class O2 extends Ar{constructor(){super(),this.isGroup=!0,this.type="Group"}}const yGe={type:"move"};class oM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new O2,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new O2,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new P,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new P),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new O2,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new P,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new P),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,i){let r=null,s=null,a=null;const o=this._targetRay,c=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(l&&t.hand){a=!0;for(const v of t.hand.values()){const g=e.getJointPose(v,i),m=this._getHandJoint(l,v);null!==g&&(m.matrix.fromArray(g.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=g.radius),m.visible=null!==g}const f=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),h=.02,p=.005;l.inputState.pinching&&f>h+p?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&f<=h-p&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==c&&t.gripSpace&&(s=e.getPose(t.gripSpace,i),null!==s&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));null!==o&&(r=e.getPose(t.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(yGe)))}return null!==o&&(o.visible=null!==r),null!==c&&(c.visible=null!==s),null!==l&&(l.visible=null!==a),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const i=new O2;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class bGe extends Ya{constructor(t,e,i,r,s,a,o,c,l,u){if((u=void 0!==u?u:Kl)!==Kl&&u!==b4)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===Kl&&(i=V2),void 0===i&&u===b4&&(i=Xl),super(null,r,s,a,o,c,u,i,l),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==o?o:$i,this.minFilter=void 0!==c?c:$i,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}class MGe extends e1{constructor(t,e){super();const i=this;let r=null,s=1,a=null,o="local-floor",c=1,l=null,u=null,d=null,f=null,h=null,p=null;const v=e.getContextAttributes();let g=null,m=null;const C=[],b=[],T=new Er;T.layers.enable(1),T.viewport=new ni;const E=new Er;E.layers.enable(2),E.viewport=new ni;const L=[T,E],k=new vGe;k.layers.enable(1),k.layers.enable(2);let O=null,D=null;function R(ee){const pe=b.indexOf(ee.inputSource);if(-1===pe)return;const ze=C[pe];void 0!==ze&&(ze.update(ee.inputSource,ee.frame,l||a),ze.dispatchEvent({type:ee.type,data:ee.inputSource}))}function ie(){r.removeEventListener("select",R),r.removeEventListener("selectstart",R),r.removeEventListener("selectend",R),r.removeEventListener("squeeze",R),r.removeEventListener("squeezestart",R),r.removeEventListener("squeezeend",R),r.removeEventListener("end",ie),r.removeEventListener("inputsourceschange",ge);for(let ee=0;ee<C.length;ee++){const pe=b[ee];null!==pe&&(b[ee]=null,C[ee].disconnect(pe))}O=null,D=null,t.setRenderTarget(g),h=null,f=null,d=null,r=null,m=null,Me.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function ge(ee){for(let pe=0;pe<ee.removed.length;pe++){const ze=ee.removed[pe],Ee=b.indexOf(ze);Ee>=0&&(b[Ee]=null,C[Ee].disconnect(ze))}for(let pe=0;pe<ee.added.length;pe++){const ze=ee.added[pe];let Ee=b.indexOf(ze);if(-1===Ee){for(let _t=0;_t<C.length;_t++){if(_t>=b.length){b.push(ze),Ee=_t;break}if(null===b[_t]){b[_t]=ze,Ee=_t;break}}if(-1===Ee)break}const Ye=C[Ee];Ye&&Ye.connect(ze)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let pe=C[ee];return void 0===pe&&(pe=new oM,C[ee]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(ee){let pe=C[ee];return void 0===pe&&(pe=new oM,C[ee]=pe),pe.getGripSpace()},this.getHand=function(ee){let pe=C[ee];return void 0===pe&&(pe=new oM,C[ee]=pe),pe.getHandSpace()},this.setFramebufferScaleFactor=function(ee){s=ee,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){o=ee,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(ee){l=ee},this.getBaseLayer=function(){return null!==f?f:h},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(){var ee=function FPe(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function a(c){wG(s,i,r,a,o,"next",c)}function o(c){wG(s,i,r,a,o,"throw",c)}a(void 0)})}}(function*(pe){if(r=pe,null!==r){if(g=t.getRenderTarget(),r.addEventListener("select",R),r.addEventListener("selectstart",R),r.addEventListener("selectend",R),r.addEventListener("squeeze",R),r.addEventListener("squeezestart",R),r.addEventListener("squeezeend",R),r.addEventListener("end",ie),r.addEventListener("inputsourceschange",ge),!0!==v.xrCompatible&&(yield e.makeXRCompatible()),void 0===r.renderState.layers||!1===t.capabilities.isWebGL2)h=new XRWebGLLayer(r,e,{antialias:void 0!==r.renderState.layers||v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:h}),m=new n1(h.framebufferWidth,h.framebufferHeight,{format:Ma,type:I2,colorSpace:t.outputColorSpace,stencilBuffer:v.stencil});else{let ze=null,Ee=null,Ye=null;v.depth&&(Ye=v.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,ze=v.stencil?b4:Kl,Ee=v.stencil?Xl:V2);const _t={colorFormat:e.RGBA8,depthFormat:Ye,scaleFactor:s};d=new XRWebGLBinding(r,e),f=d.createProjectionLayer(_t),r.updateRenderState({layers:[f]}),m=new n1(f.textureWidth,f.textureHeight,{format:Ma,type:I2,depthTexture:new bGe(f.textureWidth,f.textureHeight,Ee,void 0,void 0,void 0,void 0,void 0,void 0,ze),stencilBuffer:v.stencil,colorSpace:t.outputColorSpace,samples:v.antialias?4:0}),t.properties.get(m).__ignoreDepthValues=f.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(c),l=null,a=yield r.requestReferenceSpace(o),Me.setContext(r),Me.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(pe){return ee.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const Q=new P,J=new P;function X(ee,pe){null===pe?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(pe.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(null===r)return;k.near=E.near=T.near=ee.near,k.far=E.far=T.far=ee.far,(O!==k.near||D!==k.far)&&(r.updateRenderState({depthNear:k.near,depthFar:k.far}),O=k.near,D=k.far);const pe=ee.parent,ze=k.cameras;X(k,pe);for(let Ee=0;Ee<ze.length;Ee++)X(ze[Ee],pe);2===ze.length?function se(ee,pe,ze){Q.setFromMatrixPosition(pe.matrixWorld),J.setFromMatrixPosition(ze.matrixWorld);const Ee=Q.distanceTo(J),Ye=pe.projectionMatrix.elements,_t=ze.projectionMatrix.elements,nt=Ye[14]/(Ye[10]-1),ht=Ye[14]/(Ye[10]+1),Bt=(Ye[9]+1)/Ye[5],fn=(Ye[9]-1)/Ye[5],At=(Ye[8]-1)/Ye[0],G=(_t[8]+1)/_t[0],We=nt*At,Se=nt*G,Oe=Ee/(-At+G),ke=Oe*-At;pe.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(ke),ee.translateZ(Oe),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert();const kt=nt+Oe,pt=ht+Oe;ee.projectionMatrix.makePerspective(We-ke,Se+(Ee-ke),Bt*ht/pt*kt,fn*ht/pt*kt,kt,pt),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}(k,T,E):k.projectionMatrix.copy(T.projectionMatrix),function Z(ee,pe,ze){null===ze?ee.matrix.copy(pe.matrixWorld):(ee.matrix.copy(ze.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(pe.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0);const Ee=ee.children;for(let Ye=0,_t=Ee.length;Ye<_t;Ye++)Ee[Ye].updateMatrixWorld(!0);ee.projectionMatrix.copy(pe.projectionMatrix),ee.projectionMatrixInverse.copy(pe.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=2*w4*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}(ee,k,pe)},this.getCamera=function(){return k},this.getFoveation=function(){if(null!==f||null!==h)return c},this.setFoveation=function(ee){c=ee,null!==f&&(f.fixedFoveation=ee),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=ee)};let te=null;const Me=new FW;Me.setAnimationLoop(function oe(ee,pe){if(u=pe.getViewerPose(l||a),p=pe,null!==u){const ze=u.views;null!==h&&(t.setRenderTargetFramebuffer(m,h.framebuffer),t.setRenderTarget(m));let Ee=!1;ze.length!==k.cameras.length&&(k.cameras.length=0,Ee=!0);for(let Ye=0;Ye<ze.length;Ye++){const _t=ze[Ye];let nt=null;if(null!==h)nt=h.getViewport(_t);else{const Bt=d.getViewSubImage(f,_t);nt=Bt.viewport,0===Ye&&(t.setRenderTargetTextures(m,Bt.colorTexture,f.ignoreDepthValues?void 0:Bt.depthStencilTexture),t.setRenderTarget(m))}let ht=L[Ye];void 0===ht&&(ht=new Er,ht.layers.enable(Ye),ht.viewport=new ni,L[Ye]=ht),ht.matrix.fromArray(_t.transform.matrix),ht.matrix.decompose(ht.position,ht.quaternion,ht.scale),ht.projectionMatrix.fromArray(_t.projectionMatrix),ht.projectionMatrixInverse.copy(ht.projectionMatrix).invert(),ht.viewport.set(nt.x,nt.y,nt.width,nt.height),0===Ye&&(k.matrix.copy(ht.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),!0===Ee&&k.cameras.push(ht)}}for(let ze=0;ze<C.length;ze++){const Ee=b[ze],Ye=C[ze];null!==Ee&&void 0!==Ye&&Ye.update(Ee,pe,l||a)}te&&te(ee,pe),pe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:pe}),p=null}),this.setAnimationLoop=function(ee){te=ee},this.dispose=function(){}}}function xGe(n,t){function e(g,m){!0===g.matrixAutoUpdate&&g.updateMatrix(),m.value.copy(g.matrix)}function s(g,m){g.opacity.value=m.opacity,m.color&&g.diffuse.value.copy(m.color),m.emissive&&g.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(g.map.value=m.map,e(m.map,g.mapTransform)),m.alphaMap&&(g.alphaMap.value=m.alphaMap,e(m.alphaMap,g.alphaMapTransform)),m.bumpMap&&(g.bumpMap.value=m.bumpMap,e(m.bumpMap,g.bumpMapTransform),g.bumpScale.value=m.bumpScale,1===m.side&&(g.bumpScale.value*=-1)),m.normalMap&&(g.normalMap.value=m.normalMap,e(m.normalMap,g.normalMapTransform),g.normalScale.value.copy(m.normalScale),1===m.side&&g.normalScale.value.negate()),m.displacementMap&&(g.displacementMap.value=m.displacementMap,e(m.displacementMap,g.displacementMapTransform),g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap,e(m.emissiveMap,g.emissiveMapTransform)),m.specularMap&&(g.specularMap.value=m.specularMap,e(m.specularMap,g.specularMapTransform)),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest);const C=t.get(m).envMap;if(C&&(g.envMap.value=C,g.flipEnvMap.value=C.isCubeTexture&&!1===C.isRenderTargetTexture?-1:1,g.reflectivity.value=m.reflectivity,g.ior.value=m.ior,g.refractionRatio.value=m.refractionRatio),m.lightMap){g.lightMap.value=m.lightMap;const b=!0===n._useLegacyLights?Math.PI:1;g.lightMapIntensity.value=m.lightMapIntensity*b,e(m.lightMap,g.lightMapTransform)}m.aoMap&&(g.aoMap.value=m.aoMap,g.aoMapIntensity.value=m.aoMapIntensity,e(m.aoMap,g.aoMapTransform))}return{refreshFogUniforms:function i(g,m){m.color.getRGB(g.fogColor.value,NW(n)),m.isFog?(g.fogNear.value=m.near,g.fogFar.value=m.far):m.isFogExp2&&(g.fogDensity.value=m.density)},refreshMaterialUniforms:function r(g,m,C,b,T){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(g,m):m.isMeshToonMaterial?(s(g,m),function d(g,m){m.gradientMap&&(g.gradientMap.value=m.gradientMap)}(g,m)):m.isMeshPhongMaterial?(s(g,m),function u(g,m){g.specular.value.copy(m.specular),g.shininess.value=Math.max(m.shininess,1e-4)}(g,m)):m.isMeshStandardMaterial?(s(g,m),function f(g,m){g.metalness.value=m.metalness,m.metalnessMap&&(g.metalnessMap.value=m.metalnessMap,e(m.metalnessMap,g.metalnessMapTransform)),g.roughness.value=m.roughness,m.roughnessMap&&(g.roughnessMap.value=m.roughnessMap,e(m.roughnessMap,g.roughnessMapTransform)),t.get(m).envMap&&(g.envMapIntensity.value=m.envMapIntensity)}(g,m),m.isMeshPhysicalMaterial&&function h(g,m,C){g.ior.value=m.ior,m.sheen>0&&(g.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),g.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(g.sheenColorMap.value=m.sheenColorMap,e(m.sheenColorMap,g.sheenColorMapTransform)),m.sheenRoughnessMap&&(g.sheenRoughnessMap.value=m.sheenRoughnessMap,e(m.sheenRoughnessMap,g.sheenRoughnessMapTransform))),m.clearcoat>0&&(g.clearcoat.value=m.clearcoat,g.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(g.clearcoatMap.value=m.clearcoatMap,e(m.clearcoatMap,g.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,e(m.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(g.clearcoatNormalMap.value=m.clearcoatNormalMap,e(m.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),1===m.side&&g.clearcoatNormalScale.value.negate())),m.iridescence>0&&(g.iridescence.value=m.iridescence,g.iridescenceIOR.value=m.iridescenceIOR,g.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(g.iridescenceMap.value=m.iridescenceMap,e(m.iridescenceMap,g.iridescenceMapTransform)),m.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=m.iridescenceThicknessMap,e(m.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),m.transmission>0&&(g.transmission.value=m.transmission,g.transmissionSamplerMap.value=C.texture,g.transmissionSamplerSize.value.set(C.width,C.height),m.transmissionMap&&(g.transmissionMap.value=m.transmissionMap,e(m.transmissionMap,g.transmissionMapTransform)),g.thickness.value=m.thickness,m.thicknessMap&&(g.thicknessMap.value=m.thicknessMap,e(m.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=m.attenuationDistance,g.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(g.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(g.anisotropyMap.value=m.anisotropyMap,e(m.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=m.specularIntensity,g.specularColor.value.copy(m.specularColor),m.specularColorMap&&(g.specularColorMap.value=m.specularColorMap,e(m.specularColorMap,g.specularColorMapTransform)),m.specularIntensityMap&&(g.specularIntensityMap.value=m.specularIntensityMap,e(m.specularIntensityMap,g.specularIntensityMapTransform))}(g,m,T)):m.isMeshMatcapMaterial?(s(g,m),function p(g,m){m.matcap&&(g.matcap.value=m.matcap)}(g,m)):m.isMeshDepthMaterial?s(g,m):m.isMeshDistanceMaterial?(s(g,m),function v(g,m){const C=t.get(m).light;g.referencePosition.value.setFromMatrixPosition(C.matrixWorld),g.nearDistance.value=C.shadow.camera.near,g.farDistance.value=C.shadow.camera.far}(g,m)):m.isMeshNormalMaterial?s(g,m):m.isLineBasicMaterial?(function a(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,m.map&&(g.map.value=m.map,e(m.map,g.mapTransform))}(g,m),m.isLineDashedMaterial&&function o(g,m){g.dashSize.value=m.dashSize,g.totalSize.value=m.dashSize+m.gapSize,g.scale.value=m.scale}(g,m)):m.isPointsMaterial?function c(g,m,C,b){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.size.value=m.size*C,g.scale.value=.5*b,m.map&&(g.map.value=m.map,e(m.map,g.uvTransform)),m.alphaMap&&(g.alphaMap.value=m.alphaMap,e(m.alphaMap,g.alphaMapTransform)),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest)}(g,m,C,b):m.isSpriteMaterial?function l(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.rotation.value=m.rotation,m.map&&(g.map.value=m.map,e(m.map,g.mapTransform)),m.alphaMap&&(g.alphaMap.value=m.alphaMap,e(m.alphaMap,g.alphaMapTransform)),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest)}(g,m):m.isShadowMaterial?(g.color.value.copy(m.color),g.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}}}function CGe(n,t,e,i){let r={},s={},a=[];const o=e.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function h(C,b,T){const E=C.value;if(void 0===T[b]){if("number"==typeof E)T[b]=E;else{const L=Array.isArray(E)?E:[E],k=[];for(let O=0;O<L.length;O++)k.push(L[O].clone());T[b]=k}return!0}if("number"==typeof E){if(T[b]!==E)return T[b]=E,!0}else{const L=Array.isArray(T[b])?T[b]:[T[b]],k=Array.isArray(E)?E:[E];for(let O=0;O<L.length;O++){const D=L[O];if(!1===D.equals(k[O]))return D.copy(k[O]),!0}}return!1}function v(C){const b={boundary:0,storage:0};return"number"==typeof C?(b.boundary=4,b.storage=4):C.isVector2?(b.boundary=8,b.storage=8):C.isVector3||C.isColor?(b.boundary=16,b.storage=12):C.isVector4?(b.boundary=16,b.storage=16):C.isMatrix3?(b.boundary=48,b.storage=48):C.isMatrix4?(b.boundary=64,b.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),b}function g(C){const b=C.target;b.removeEventListener("dispose",g);const T=a.indexOf(b.__bindingPointIndex);a.splice(T,1),n.deleteBuffer(r[b.id]),delete r[b.id],delete s[b.id]}return{bind:function c(C,b){i.uniformBlockBinding(C,b.program)},update:function l(C,b){let T=r[C.id];void 0===T&&(function p(C){const b=C.uniforms;let T=0;let L=0;for(let k=0,O=b.length;k<O;k++){const D=b[k],R={boundary:0,storage:0},ie=Array.isArray(D.value)?D.value:[D.value];for(let ge=0,Q=ie.length;ge<Q;ge++){const se=v(ie[ge]);R.boundary+=se.boundary,R.storage+=se.storage}if(D.__data=new Float32Array(R.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=T,k>0){L=T%16;const ge=16-L;0!==L&&ge-R.boundary<0&&(T+=16-L,D.__offset=T)}T+=R.storage}L=T%16,L>0&&(T+=16-L),C.__size=T,C.__cache={}}(C),T=function u(C){const b=function d(){for(let C=0;C<o;C++)if(-1===a.indexOf(C))return a.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();C.__bindingPointIndex=b;const T=n.createBuffer(),E=C.__size,L=C.usage;return n.bindBuffer(n.UNIFORM_BUFFER,T),n.bufferData(n.UNIFORM_BUFFER,E,L),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,b,T),T}(C),r[C.id]=T,C.addEventListener("dispose",g)),i.updateUBOMapping(C,b.program);const L=t.render.frame;s[C.id]!==L&&(function f(C){const T=C.uniforms,E=C.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[C.id]);for(let L=0,k=T.length;L<k;L++){const O=T[L];if(!0===h(O,L,E)){const D=O.__offset,R=Array.isArray(O.value)?O.value:[O.value];let ie=0;for(let ge=0;ge<R.length;ge++){const Q=R[ge],J=v(Q);"number"==typeof Q?(O.__data[0]=Q,n.bufferSubData(n.UNIFORM_BUFFER,D+ie,O.__data)):Q.isMatrix3?(O.__data[0]=Q.elements[0],O.__data[1]=Q.elements[1],O.__data[2]=Q.elements[2],O.__data[3]=Q.elements[0],O.__data[4]=Q.elements[3],O.__data[5]=Q.elements[4],O.__data[6]=Q.elements[5],O.__data[7]=Q.elements[0],O.__data[8]=Q.elements[6],O.__data[9]=Q.elements[7],O.__data[10]=Q.elements[8],O.__data[11]=Q.elements[0]):(Q.toArray(O.__data,ie),ie+=J.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,D,O.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(C),s[C.id]=L)},dispose:function m(){for(const C in r)n.deleteBuffer(r[C]);a=[],r={},s={}}}}function wGe(){const n=oh("canvas");return n.style.display="block",n}class pj{constructor(t={}){const{canvas:e=wGe(),context:i=null,depth:r=!0,stencil:s=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:l=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=t;let f;this.isWebGLRenderer=!0,f=null!==i?i.getContextAttributes().alpha:a;const h=new Uint32Array(4),p=new Int32Array(4);let v=null,g=null;const m=[],C=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Wt,this._useLegacyLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const b=this;let T=!1,E=0,L=0,k=null,O=-1,D=null;const R=new ni,ie=new ni;let ge=null;const Q=new ot(0);let J=0,se=e.width,X=e.height,Z=1,te=null,oe=null;const Me=new ni(0,0,se,X),ee=new ni(0,0,se,X);let pe=!1;const ze=new tM;let Ee=!1,Ye=!1,_t=null;const nt=new jt,ht=new Ce,Bt=new P,fn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function At(){return null===k?Z:1}let Se,Oe,ke,kt,pt,bt,Ut,Cn,Mi,B,H,ce,Fe,He,Be,Dt,Ue,fe,W,De,lt,Ke,ct,Zt,G=i;function We(N,ae){for(let be=0;be<N.length;be++){const ye=e.getContext(N[be],ae);if(null!==ye)return ye}return null}try{const N={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r155"),e.addEventListener("webglcontextlost",it,!1),e.addEventListener("webglcontextrestored",le,!1),e.addEventListener("webglcontextcreationerror",Pe,!1),null===G){const ae=["webgl2","webgl","experimental-webgl"];if(!0===b.isWebGL1Renderer&&ae.shift(),G=We(ae,N),null===G)throw We(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&G instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===G.getShaderPrecisionFormat&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(N){throw console.error("THREE.WebGLRenderer: "+N.message),N}function kn(){Se=new zBe(G),Oe=new kBe(G,Se,t),Se.init(Oe),Ke=new _Ge(G,Se,Oe),ke=new mGe(G,Se,Oe),kt=new FBe(G),pt=new iGe,bt=new gGe(G,Se,ke,pt,Oe,Ke,kt),Ut=new IBe(b),Cn=new RBe(b),Mi=new EFe(G,Oe),ct=new DBe(G,Se,Mi,Oe),B=new PBe(G,Mi,kt,ct),H=new GBe(G,B,Mi,kt),W=new UBe(G,Oe,bt),Dt=new LBe(pt),ce=new nGe(b,Ut,Cn,Se,Oe,ct,Dt),Fe=new xGe(b,pt),He=new sGe,Be=new dGe(Se,Oe),fe=new ABe(b,Ut,Cn,ke,H,f,c),Ue=new pGe(b,H,Oe),Zt=new CGe(G,kt,Oe,ke),De=new EBe(G,Se,kt,Oe),lt=new NBe(G,Se,kt,Oe),kt.programs=ce.programs,b.capabilities=Oe,b.extensions=Se,b.properties=pt,b.renderLists=He,b.shadowMap=Ue,b.state=ke,b.info=kt}kn();const q=new MGe(b,G);function it(N){N.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function le(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const N=kt.autoReset,ae=Ue.enabled,be=Ue.autoUpdate,re=Ue.needsUpdate,ye=Ue.type;kn(),kt.autoReset=N,Ue.enabled=ae,Ue.autoUpdate=be,Ue.needsUpdate=re,Ue.type=ye}function Pe(N){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",N.statusMessage)}function rt(N){const ae=N.target;ae.removeEventListener("dispose",rt),function yn(N){(function Qn(N){const ae=pt.get(N).programs;void 0!==ae&&(ae.forEach(function(be){ce.releaseProgram(be)}),N.isShaderMaterial&&ce.releaseShaderCache(N))})(N),pt.remove(N)}(ae)}this.xr=q,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const N=Se.get("WEBGL_lose_context");N&&N.loseContext()},this.forceContextRestore=function(){const N=Se.get("WEBGL_lose_context");N&&N.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(N){void 0!==N&&(Z=N,this.setSize(se,X,!1))},this.getSize=function(N){return N.set(se,X)},this.setSize=function(N,ae,be=!0){q.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(se=N,X=ae,e.width=Math.floor(N*Z),e.height=Math.floor(ae*Z),!0===be&&(e.style.width=N+"px",e.style.height=ae+"px"),this.setViewport(0,0,N,ae))},this.getDrawingBufferSize=function(N){return N.set(se*Z,X*Z).floor()},this.setDrawingBufferSize=function(N,ae,be){se=N,X=ae,Z=be,e.width=Math.floor(N*be),e.height=Math.floor(ae*be),this.setViewport(0,0,N,ae)},this.getCurrentViewport=function(N){return N.copy(R)},this.getViewport=function(N){return N.copy(Me)},this.setViewport=function(N,ae,be,re){N.isVector4?Me.set(N.x,N.y,N.z,N.w):Me.set(N,ae,be,re),ke.viewport(R.copy(Me).multiplyScalar(Z).floor())},this.getScissor=function(N){return N.copy(ee)},this.setScissor=function(N,ae,be,re){N.isVector4?ee.set(N.x,N.y,N.z,N.w):ee.set(N,ae,be,re),ke.scissor(ie.copy(ee).multiplyScalar(Z).floor())},this.getScissorTest=function(){return pe},this.setScissorTest=function(N){ke.setScissorTest(pe=N)},this.setOpaqueSort=function(N){te=N},this.setTransparentSort=function(N){oe=N},this.getClearColor=function(N){return N.copy(fe.getClearColor())},this.setClearColor=function(){fe.setClearColor.apply(fe,arguments)},this.getClearAlpha=function(){return fe.getClearAlpha()},this.setClearAlpha=function(){fe.setClearAlpha.apply(fe,arguments)},this.clear=function(N=!0,ae=!0,be=!0){let re=0;if(N){let ye=!1;if(null!==k){const xt=k.texture.format;ye=1033===xt||1031===xt||1029===xt}if(ye){const xt=k.texture.type,Pt=xt===I2||xt===V2||1012===xt||xt===Xl||1017===xt||1018===xt,Yt=fe.getClearColor(),Xt=fe.getClearAlpha(),wn=Yt.r,$t=Yt.g,hn=Yt.b;Pt?(h[0]=wn,h[1]=$t,h[2]=hn,h[3]=Xt,G.clearBufferuiv(G.COLOR,0,h)):(p[0]=wn,p[1]=$t,p[2]=hn,p[3]=Xt,G.clearBufferiv(G.COLOR,0,p))}else re|=G.COLOR_BUFFER_BIT}ae&&(re|=G.DEPTH_BUFFER_BIT),be&&(re|=G.STENCIL_BUFFER_BIT),G.clear(re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",it,!1),e.removeEventListener("webglcontextrestored",le,!1),e.removeEventListener("webglcontextcreationerror",Pe,!1),He.dispose(),Be.dispose(),pt.dispose(),Ut.dispose(),Cn.dispose(),H.dispose(),ct.dispose(),Zt.dispose(),ce.dispose(),q.dispose(),q.removeEventListener("sessionstart",_i),q.removeEventListener("sessionend",zo),_t&&(_t.dispose(),_t=null),gs.stop()},this.renderBufferDirect=function(N,ae,be,re,ye,xt){null===ae&&(ae=fn);const Pt=ye.isMesh&&ye.matrixWorld.determinant()<0,Yt=function WXe(N,ae,be,re,ye){!0!==ae.isScene&&(ae=fn),bt.resetTextureUnits();const xt=ae.fog,Yt=null===k?b.outputColorSpace:!0===k.isXRRenderTarget?k.texture.colorSpace:Eo,Xt=(re.isMeshStandardMaterial?Cn:Ut).get(re.envMap||(re.isMeshStandardMaterial?ae.environment:null)),wn=!0===re.vertexColors&&!!be.attributes.color&&4===be.attributes.color.itemSize,$t=!!be.attributes.tangent&&(!!re.normalMap||re.anisotropy>0),hn=!!be.morphAttributes.position,Fi=!!be.morphAttributes.normal,Yi=!!be.morphAttributes.color;let Da=0;re.toneMapped&&(null===k||!0===k.isXRRenderTarget)&&(Da=b.toneMapping);const Pc=be.morphAttributes.position||be.morphAttributes.normal||be.morphAttributes.color,ir=void 0!==Pc?Pc.length:0,Tn=pt.get(re),Ux=g.state.lights;!0!==Ee||!0!==Ye&&N===D||Dt.setState(re,N,N===D&&re.id===O);let rr=!1;re.version===Tn.__version?(Tn.needsLights&&Tn.lightsStateVersion!==Ux.state.version||Tn.outputColorSpace!==Yt||ye.isInstancedMesh&&!1===Tn.instancing||!ye.isInstancedMesh&&!0===Tn.instancing||ye.isSkinnedMesh&&!1===Tn.skinning||!ye.isSkinnedMesh&&!0===Tn.skinning||ye.isInstancedMesh&&!0===Tn.instancingColor&&null===ye.instanceColor||ye.isInstancedMesh&&!1===Tn.instancingColor&&null!==ye.instanceColor||Tn.envMap!==Xt||!0===re.fog&&Tn.fog!==xt||void 0!==Tn.numClippingPlanes&&(Tn.numClippingPlanes!==Dt.numPlanes||Tn.numIntersection!==Dt.numIntersection)||Tn.vertexAlphas!==wn||Tn.vertexTangents!==$t||Tn.morphTargets!==hn||Tn.morphNormals!==Fi||Tn.morphColors!==Yi||Tn.toneMapping!==Da||!0===Oe.isWebGL2&&Tn.morphTargetsCount!==ir)&&(rr=!0):(rr=!0,Tn.__version=re.version);let S1=Tn.currentProgram;!0===rr&&(S1=b5(re,ae,ye));let zq=!1,Oh=!1,Gx=!1;const _s=S1.getUniforms(),T1=Tn.uniforms;if(ke.useProgram(S1.program)&&(zq=!0,Oh=!0,Gx=!0),re.id!==O&&(O=re.id,Oh=!0),zq||D!==N){if(_s.setValue(G,"projectionMatrix",N.projectionMatrix),Oe.logarithmicDepthBuffer&&_s.setValue(G,"logDepthBufFC",2/(Math.log(N.far+1)/Math.LN2)),D!==N&&(D=N,Oh=!0,Gx=!0),re.isShaderMaterial||re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshStandardMaterial||re.envMap){const oa=_s.map.cameraPosition;void 0!==oa&&oa.setValue(G,Bt.setFromMatrixPosition(N.matrixWorld))}(re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshLambertMaterial||re.isMeshBasicMaterial||re.isMeshStandardMaterial||re.isShaderMaterial)&&_s.setValue(G,"isOrthographic",!0===N.isOrthographicCamera),(re.isMeshPhongMaterial||re.isMeshToonMaterial||re.isMeshLambertMaterial||re.isMeshBasicMaterial||re.isMeshStandardMaterial||re.isShaderMaterial||re.isShadowMaterial||ye.isSkinnedMesh)&&_s.setValue(G,"viewMatrix",N.matrixWorldInverse)}if(ye.isSkinnedMesh){_s.setOptional(G,ye,"bindMatrix"),_s.setOptional(G,ye,"bindMatrixInverse");const oa=ye.skeleton;oa&&(Oe.floatVertexTextures?(null===oa.boneTexture&&oa.computeBoneTexture(),_s.setValue(G,"boneTexture",oa.boneTexture,bt),_s.setValue(G,"boneTextureSize",oa.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Wx=be.morphAttributes;if((void 0!==Wx.position||void 0!==Wx.normal||void 0!==Wx.color&&!0===Oe.isWebGL2)&&W.update(ye,be,S1),(Oh||Tn.receiveShadow!==ye.receiveShadow)&&(Tn.receiveShadow=ye.receiveShadow,_s.setValue(G,"receiveShadow",ye.receiveShadow)),re.isMeshGouraudMaterial&&null!==re.envMap&&(T1.envMap.value=Xt,T1.flipEnvMap.value=Xt.isCubeTexture&&!1===Xt.isRenderTargetTexture?-1:1),Oh&&(_s.setValue(G,"toneMappingExposure",b.toneMappingExposure),Tn.needsLights&&function jXe(N,ae){N.ambientLightColor.needsUpdate=ae,N.lightProbe.needsUpdate=ae,N.directionalLights.needsUpdate=ae,N.directionalLightShadows.needsUpdate=ae,N.pointLights.needsUpdate=ae,N.pointLightShadows.needsUpdate=ae,N.spotLights.needsUpdate=ae,N.spotLightShadows.needsUpdate=ae,N.rectAreaLights.needsUpdate=ae,N.hemisphereLights.needsUpdate=ae}(T1,Gx),xt&&!0===re.fog&&Fe.refreshFogUniforms(T1,xt),Fe.refreshMaterialUniforms(T1,re,Z,X,_t),b8.upload(G,Tn.uniformsList,T1,bt)),re.isShaderMaterial&&!0===re.uniformsNeedUpdate&&(b8.upload(G,Tn.uniformsList,T1,bt),re.uniformsNeedUpdate=!1),re.isSpriteMaterial&&_s.setValue(G,"center",ye.center),_s.setValue(G,"modelViewMatrix",ye.modelViewMatrix),_s.setValue(G,"normalMatrix",ye.normalMatrix),_s.setValue(G,"modelMatrix",ye.matrixWorld),re.isShaderMaterial||re.isRawShaderMaterial){const oa=re.uniformsGroups;for(let jx=0,qXe=oa.length;jx<qXe;jx++)if(Oe.isWebGL2){const Pq=oa[jx];Zt.update(Pq,S1),Zt.bind(Pq,S1)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return S1}(N,ae,be,re,ye);ke.setMaterial(re,Pt);let Xt=be.index,wn=1;if(!0===re.wireframe){if(Xt=B.getWireframeAttribute(be),void 0===Xt)return;wn=2}const $t=be.drawRange,hn=be.attributes.position;let Fi=$t.start*wn,Yi=($t.start+$t.count)*wn;null!==xt&&(Fi=Math.max(Fi,xt.start*wn),Yi=Math.min(Yi,(xt.start+xt.count)*wn)),null!==Xt?(Fi=Math.max(Fi,0),Yi=Math.min(Yi,Xt.count)):null!=hn&&(Fi=Math.max(Fi,0),Yi=Math.min(Yi,hn.count));const Da=Yi-Fi;if(Da<0||Da===1/0)return;ct.setup(ye,re,Yt,be,Xt);let Pc,ir=De;if(null!==Xt&&(Pc=Mi.get(Xt),ir=lt,ir.setIndex(Pc)),ye.isMesh)!0===re.wireframe?(ke.setLineWidth(re.wireframeLinewidth*At()),ir.setMode(G.LINES)):ir.setMode(G.TRIANGLES);else if(ye.isLine){let Tn=re.linewidth;void 0===Tn&&(Tn=1),ke.setLineWidth(Tn*At()),ir.setMode(ye.isLineSegments?G.LINES:ye.isLineLoop?G.LINE_LOOP:G.LINE_STRIP)}else ye.isPoints?ir.setMode(G.POINTS):ye.isSprite&&ir.setMode(G.TRIANGLES);if(ye.isInstancedMesh)ir.renderInstances(Fi,Da,ye.count);else if(be.isInstancedBufferGeometry){const Ux=Math.min(be.instanceCount,void 0!==be._maxInstanceCount?be._maxInstanceCount:1/0);ir.renderInstances(Fi,Da,Ux)}else ir.render(Fi,Da)},this.compile=function(N,ae){function be(re,ye,xt){!0===re.transparent&&2===re.side&&!1===re.forceSinglePass?(re.side=1,re.needsUpdate=!0,b5(re,ye,xt),re.side=0,re.needsUpdate=!0,b5(re,ye,xt),re.side=2):b5(re,ye,xt)}g=Be.get(N),g.init(),C.push(g),N.traverseVisible(function(re){re.isLight&&re.layers.test(ae.layers)&&(g.pushLight(re),re.castShadow&&g.pushShadow(re))}),g.setupLights(b._useLegacyLights),N.traverse(function(re){const ye=re.material;if(ye)if(Array.isArray(ye))for(let xt=0;xt<ye.length;xt++)be(ye[xt],N,re);else be(ye,N,re)}),C.pop(),g=null};let gi=null;function _i(){gs.stop()}function zo(){gs.start()}const gs=new FW;function Iq(N,ae,be,re){if(!1===N.visible)return;if(N.layers.test(ae.layers))if(N.isGroup)be=N.renderOrder;else if(N.isLOD)!0===N.autoUpdate&&N.update(ae);else if(N.isLight)g.pushLight(N),N.castShadow&&g.pushShadow(N);else if(N.isSprite){if(!N.frustumCulled||ze.intersectsSprite(N)){re&&Bt.setFromMatrixPosition(N.matrixWorld).applyMatrix4(nt);const Pt=H.update(N),Yt=N.material;Yt.visible&&v.push(N,Pt,Yt,be,Bt.z,null)}}else if((N.isMesh||N.isLine||N.isPoints)&&(!N.frustumCulled||ze.intersectsObject(N))){const Pt=H.update(N),Yt=N.material;if(re&&(void 0!==N.boundingSphere?(null===N.boundingSphere&&N.computeBoundingSphere(),Bt.copy(N.boundingSphere.center)):(null===Pt.boundingSphere&&Pt.computeBoundingSphere(),Bt.copy(Pt.boundingSphere.center)),Bt.applyMatrix4(N.matrixWorld).applyMatrix4(nt)),Array.isArray(Yt)){const Xt=Pt.groups;for(let wn=0,$t=Xt.length;wn<$t;wn++){const hn=Xt[wn],Fi=Yt[hn.materialIndex];Fi&&Fi.visible&&v.push(N,Pt,Fi,be,Bt.z,hn)}}else Yt.visible&&v.push(N,Pt,Yt,be,Bt.z,null)}const xt=N.children;for(let Pt=0,Yt=xt.length;Pt<Yt;Pt++)Iq(xt[Pt],ae,be,re)}function Vq(N,ae,be,re){const ye=N.opaque,xt=N.transmissive,Pt=N.transparent;g.setupLightsView(be),!0===Ee&&Dt.setGlobalState(b.clippingPlanes,be),xt.length>0&&function GXe(N,ae,be,re){const ye=Oe.isWebGL2;null===_t&&(_t=new n1(1,1,{generateMipmaps:!0,type:Se.has("EXT_color_buffer_half_float")?rh:I2,minFilter:xc,samples:ye?4:0})),b.getDrawingBufferSize(ht),ye?_t.setSize(ht.x,ht.y):_t.setSize(Xm(ht.x),Xm(ht.y));const xt=b.getRenderTarget();b.setRenderTarget(_t),b.getClearColor(Q),J=b.getClearAlpha(),J<1&&b.setClearColor(16777215,.5),b.clear();const Pt=b.toneMapping;b.toneMapping=0,y5(N,be,re),bt.updateMultisampleRenderTarget(_t),bt.updateRenderTargetMipmap(_t);let Yt=!1;for(let Xt=0,wn=ae.length;Xt<wn;Xt++){const $t=ae[Xt],hn=$t.object,Fi=$t.geometry,Yi=$t.material,Da=$t.group;if(2===Yi.side&&hn.layers.test(re.layers)){const Pc=Yi.side;Yi.side=1,Yi.needsUpdate=!0,Hq(hn,be,re,Fi,Yi,Da),Yi.side=Pc,Yi.needsUpdate=!0,Yt=!0}}!0===Yt&&(bt.updateMultisampleRenderTarget(_t),bt.updateRenderTargetMipmap(_t)),b.setRenderTarget(xt),b.setClearColor(Q,J),b.toneMapping=Pt}(ye,xt,ae,be),re&&ke.viewport(R.copy(re)),ye.length>0&&y5(ye,ae,be),xt.length>0&&y5(xt,ae,be),Pt.length>0&&y5(Pt,ae,be),ke.buffers.depth.setTest(!0),ke.buffers.depth.setMask(!0),ke.buffers.color.setMask(!0),ke.setPolygonOffset(!1)}function y5(N,ae,be){const re=!0===ae.isScene?ae.overrideMaterial:null;for(let ye=0,xt=N.length;ye<xt;ye++){const Pt=N[ye],Yt=Pt.object,Xt=Pt.geometry,wn=null===re?Pt.material:re,$t=Pt.group;Yt.layers.test(be.layers)&&Hq(Yt,ae,be,Xt,wn,$t)}}function Hq(N,ae,be,re,ye,xt){N.onBeforeRender(b,ae,be,re,ye,xt),N.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,N.matrixWorld),N.normalMatrix.getNormalMatrix(N.modelViewMatrix),ye.onBeforeRender(b,ae,be,re,N,xt),!0===ye.transparent&&2===ye.side&&!1===ye.forceSinglePass?(ye.side=1,ye.needsUpdate=!0,b.renderBufferDirect(be,ae,re,ye,N,xt),ye.side=0,ye.needsUpdate=!0,b.renderBufferDirect(be,ae,re,ye,N,xt),ye.side=2):b.renderBufferDirect(be,ae,re,ye,N,xt),N.onAfterRender(b,ae,be,re,ye,xt)}function b5(N,ae,be){!0!==ae.isScene&&(ae=fn);const re=pt.get(N),ye=g.state.lights,Pt=ye.state.version,Yt=ce.getParameters(N,ye.state,g.state.shadowsArray,ae,be),Xt=ce.getProgramCacheKey(Yt);let wn=re.programs;re.environment=N.isMeshStandardMaterial?ae.environment:null,re.fog=ae.fog,re.envMap=(N.isMeshStandardMaterial?Cn:Ut).get(N.envMap||re.environment),void 0===wn&&(N.addEventListener("dispose",rt),wn=new Map,re.programs=wn);let $t=wn.get(Xt);if(void 0!==$t){if(re.currentProgram===$t&&re.lightsStateVersion===Pt)return Rq(N,Yt),$t}else Yt.uniforms=ce.getUniforms(N),N.onBuild(be,Yt,b),N.onBeforeCompile(Yt,b),$t=ce.acquireProgram(Yt,Xt),wn.set(Xt,$t),re.uniforms=Yt.uniforms;const hn=re.uniforms;(!N.isShaderMaterial&&!N.isRawShaderMaterial||!0===N.clipping)&&(hn.clippingPlanes=Dt.uniform),Rq(N,Yt),re.needsLights=function $Xe(N){return N.isMeshLambertMaterial||N.isMeshToonMaterial||N.isMeshPhongMaterial||N.isMeshStandardMaterial||N.isShadowMaterial||N.isShaderMaterial&&!0===N.lights}(N),re.lightsStateVersion=Pt,re.needsLights&&(hn.ambientLightColor.value=ye.state.ambient,hn.lightProbe.value=ye.state.probe,hn.directionalLights.value=ye.state.directional,hn.directionalLightShadows.value=ye.state.directionalShadow,hn.spotLights.value=ye.state.spot,hn.spotLightShadows.value=ye.state.spotShadow,hn.rectAreaLights.value=ye.state.rectArea,hn.ltc_1.value=ye.state.rectAreaLTC1,hn.ltc_2.value=ye.state.rectAreaLTC2,hn.pointLights.value=ye.state.point,hn.pointLightShadows.value=ye.state.pointShadow,hn.hemisphereLights.value=ye.state.hemi,hn.directionalShadowMap.value=ye.state.directionalShadowMap,hn.directionalShadowMatrix.value=ye.state.directionalShadowMatrix,hn.spotShadowMap.value=ye.state.spotShadowMap,hn.spotLightMatrix.value=ye.state.spotLightMatrix,hn.spotLightMap.value=ye.state.spotLightMap,hn.pointShadowMap.value=ye.state.pointShadowMap,hn.pointShadowMatrix.value=ye.state.pointShadowMatrix);const Fi=$t.getUniforms(),Yi=b8.seqWithValue(Fi.seq,hn);return re.currentProgram=$t,re.uniformsList=Yi,$t}function Rq(N,ae){const be=pt.get(N);be.outputColorSpace=ae.outputColorSpace,be.instancing=ae.instancing,be.instancingColor=ae.instancingColor,be.skinning=ae.skinning,be.morphTargets=ae.morphTargets,be.morphNormals=ae.morphNormals,be.morphColors=ae.morphColors,be.morphTargetsCount=ae.morphTargetsCount,be.numClippingPlanes=ae.numClippingPlanes,be.numIntersection=ae.numClipIntersection,be.vertexAlphas=ae.vertexAlphas,be.vertexTangents=ae.vertexTangents,be.toneMapping=ae.toneMapping}gs.setAnimationLoop(function $2(N){gi&&gi(N)}),typeof self<"u"&&gs.setContext(self),this.setAnimationLoop=function(N){gi=N,q.setAnimationLoop(N),null===N?gs.stop():gs.start()},q.addEventListener("sessionstart",_i),q.addEventListener("sessionend",zo),this.render=function(N,ae){if(void 0===ae||!0===ae.isCamera){if(!0!==T){if(!0===N.matrixWorldAutoUpdate&&N.updateMatrixWorld(),null===ae.parent&&!0===ae.matrixWorldAutoUpdate&&ae.updateMatrixWorld(),!0===q.enabled&&!0===q.isPresenting&&(!0===q.cameraAutoUpdate&&q.updateCamera(ae),ae=q.getCamera()),!0===N.isScene&&N.onBeforeRender(b,N,ae,k),g=Be.get(N,C.length),g.init(),C.push(g),nt.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),ze.setFromProjectionMatrix(nt),Ye=this.localClippingEnabled,Ee=Dt.init(this.clippingPlanes,Ye),v=He.get(N,m.length),v.init(),m.push(v),Iq(N,ae,0,b.sortObjects),v.finish(),!0===b.sortObjects&&v.sort(te,oe),this.info.render.frame++,!0===Ee&&Dt.beginShadows(),Ue.render(g.state.shadowsArray,N,ae),!0===Ee&&Dt.endShadows(),!0===this.info.autoReset&&this.info.reset(),fe.render(v,N),g.setupLights(b._useLegacyLights),ae.isArrayCamera){const re=ae.cameras;for(let ye=0,xt=re.length;ye<xt;ye++){const Pt=re[ye];Vq(v,N,Pt,Pt.viewport)}}else Vq(v,N,ae);null!==k&&(bt.updateMultisampleRenderTarget(k),bt.updateRenderTargetMipmap(k)),!0===N.isScene&&N.onAfterRender(b,N,ae),ct.resetDefaultState(),O=-1,D=null,C.pop(),g=C.length>0?C[C.length-1]:null,m.pop(),v=m.length>0?m[m.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return k},this.setRenderTargetTextures=function(N,ae,be){pt.get(N.texture).__webglTexture=ae,pt.get(N.depthTexture).__webglTexture=be;const re=pt.get(N);re.__hasExternalTextures=!0,re.__hasExternalTextures&&(re.__autoAllocateDepthBuffer=void 0===be,re.__autoAllocateDepthBuffer||!0===Se.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),re.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(N,ae){const be=pt.get(N);be.__webglFramebuffer=ae,be.__useDefaultFramebuffer=void 0===ae},this.setRenderTarget=function(N,ae=0,be=0){k=N,E=ae,L=be;let re=!0,ye=null,xt=!1,Pt=!1;if(N){const Xt=pt.get(N);void 0!==Xt.__useDefaultFramebuffer?(ke.bindFramebuffer(G.FRAMEBUFFER,null),re=!1):void 0===Xt.__webglFramebuffer?bt.setupRenderTarget(N):Xt.__hasExternalTextures&&bt.rebindTextures(N,pt.get(N.texture).__webglTexture,pt.get(N.depthTexture).__webglTexture);const wn=N.texture;(wn.isData3DTexture||wn.isDataArrayTexture||wn.isCompressedArrayTexture)&&(Pt=!0);const $t=pt.get(N).__webglFramebuffer;N.isWebGLCubeRenderTarget?(ye=Array.isArray($t[ae])?$t[ae][be]:$t[ae],xt=!0):ye=Oe.isWebGL2&&N.samples>0&&!1===bt.useMultisampledRTT(N)?pt.get(N).__webglMultisampledFramebuffer:Array.isArray($t)?$t[be]:$t,R.copy(N.viewport),ie.copy(N.scissor),ge=N.scissorTest}else R.copy(Me).multiplyScalar(Z).floor(),ie.copy(ee).multiplyScalar(Z).floor(),ge=pe;if(ke.bindFramebuffer(G.FRAMEBUFFER,ye)&&Oe.drawBuffers&&re&&ke.drawBuffers(N,ye),ke.viewport(R),ke.scissor(ie),ke.setScissorTest(ge),xt){const Xt=pt.get(N.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Xt.__webglTexture,be)}else if(Pt){const Xt=pt.get(N.texture);G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,Xt.__webglTexture,be||0,ae||0)}O=-1},this.readRenderTargetPixels=function(N,ae,be,re,ye,xt,Pt){if(!N||!N.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Yt=pt.get(N).__webglFramebuffer;if(N.isWebGLCubeRenderTarget&&void 0!==Pt&&(Yt=Yt[Pt]),Yt){ke.bindFramebuffer(G.FRAMEBUFFER,Yt);try{const Xt=N.texture,wn=Xt.format,$t=Xt.type;if(wn!==Ma&&Ke.convert(wn)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const hn=$t===rh&&(Se.has("EXT_color_buffer_half_float")||Oe.isWebGL2&&Se.has("EXT_color_buffer_float"));if(!($t===I2||Ke.convert($t)===G.getParameter(G.IMPLEMENTATION_COLOR_READ_TYPE)||$t===Cc&&(Oe.isWebGL2||Se.has("OES_texture_float")||Se.has("WEBGL_color_buffer_float"))||hn))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");ae>=0&&ae<=N.width-re&&be>=0&&be<=N.height-ye&&G.readPixels(ae,be,re,ye,Ke.convert(wn),Ke.convert($t),xt)}finally{const Xt=null!==k?pt.get(k).__webglFramebuffer:null;ke.bindFramebuffer(G.FRAMEBUFFER,Xt)}}},this.copyFramebufferToTexture=function(N,ae,be=0){const re=Math.pow(2,-be),ye=Math.floor(ae.image.width*re),xt=Math.floor(ae.image.height*re);bt.setTexture2D(ae,0),G.copyTexSubImage2D(G.TEXTURE_2D,be,0,0,N.x,N.y,ye,xt),ke.unbindTexture()},this.copyTextureToTexture=function(N,ae,be,re=0){const ye=ae.image.width,xt=ae.image.height,Pt=Ke.convert(be.format),Yt=Ke.convert(be.type);bt.setTexture2D(be,0),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,be.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,be.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,be.unpackAlignment),ae.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,re,N.x,N.y,ye,xt,Pt,Yt,ae.image.data):ae.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,re,N.x,N.y,ae.mipmaps[0].width,ae.mipmaps[0].height,Pt,ae.mipmaps[0].data):G.texSubImage2D(G.TEXTURE_2D,re,N.x,N.y,Pt,Yt,ae.image),0===re&&be.generateMipmaps&&G.generateMipmap(G.TEXTURE_2D),ke.unbindTexture()},this.copyTextureToTexture3D=function(N,ae,be,re,ye=0){if(b.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const xt=N.max.x-N.min.x+1,Pt=N.max.y-N.min.y+1,Yt=N.max.z-N.min.z+1,Xt=Ke.convert(re.format),wn=Ke.convert(re.type);let $t;if(re.isData3DTexture)bt.setTexture3D(re,0),$t=G.TEXTURE_3D;else{if(!re.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");bt.setTexture2DArray(re,0),$t=G.TEXTURE_2D_ARRAY}G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,re.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,re.unpackAlignment);const hn=G.getParameter(G.UNPACK_ROW_LENGTH),Fi=G.getParameter(G.UNPACK_IMAGE_HEIGHT),Yi=G.getParameter(G.UNPACK_SKIP_PIXELS),Da=G.getParameter(G.UNPACK_SKIP_ROWS),Pc=G.getParameter(G.UNPACK_SKIP_IMAGES),ir=be.isCompressedTexture?be.mipmaps[0]:be.image;G.pixelStorei(G.UNPACK_ROW_LENGTH,ir.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,ir.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,N.min.x),G.pixelStorei(G.UNPACK_SKIP_ROWS,N.min.y),G.pixelStorei(G.UNPACK_SKIP_IMAGES,N.min.z),be.isDataTexture||be.isData3DTexture?G.texSubImage3D($t,ye,ae.x,ae.y,ae.z,xt,Pt,Yt,Xt,wn,ir.data):be.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D($t,ye,ae.x,ae.y,ae.z,xt,Pt,Yt,Xt,ir.data)):G.texSubImage3D($t,ye,ae.x,ae.y,ae.z,xt,Pt,Yt,Xt,wn,ir),G.pixelStorei(G.UNPACK_ROW_LENGTH,hn),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,Fi),G.pixelStorei(G.UNPACK_SKIP_PIXELS,Yi),G.pixelStorei(G.UNPACK_SKIP_ROWS,Da),G.pixelStorei(G.UNPACK_SKIP_IMAGES,Pc),0===ye&&re.generateMipmaps&&G.generateMipmap($t),ke.unbindTexture()},this.initTexture=function(N){N.isCubeTexture?bt.setTextureCube(N,0):N.isData3DTexture?bt.setTexture3D(N,0):N.isDataArrayTexture||N.isCompressedArrayTexture?bt.setTexture2DArray(N,0):bt.setTexture2D(N,0),ke.unbindTexture()},this.resetState=function(){E=0,L=0,k=null,ke.reset(),ct.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return wc}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(t){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Wt?Zl:3e3}set outputEncoding(t){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=t===Zl?Wt:Eo}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(t){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=t}}(class SGe extends pj{}).prototype.isWebGL1Renderer=!0;class mj extends Ar{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e}}class uM{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ea()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let r=0,s=this.stride;r<s;r++)this.array[t+r]=e.array[i+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ea()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ea()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const hs=new P;class u1{constructor(t,e,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)hs.fromBufferAttribute(this,e),hs.applyMatrix4(t),this.setXYZ(e,hs.x,hs.y,hs.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)hs.fromBufferAttribute(this,e),hs.applyNormalMatrix(t),this.setXYZ(e,hs.x,hs.y,hs.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)hs.fromBufferAttribute(this,e),hs.transformDirection(t),this.setXYZ(e,hs.x,hs.y,hs.z);return this}setX(t,e){return this.normalized&&(e=cn(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=cn(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=cn(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=cn(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Ls(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Ls(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Ls(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Ls(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=cn(e,this.array),i=cn(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=cn(e,this.array),i=cn(i,this.array),r=cn(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this}setXYZW(t,e,i,r,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=cn(e,this.array),i=cn(i,this.array),r=cn(r,this.array),s=cn(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=s,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[r+s])}return new Pi(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new u1(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)e.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const Mj=new P,xj=new ni,Cj=new ni,DGe=new P,wj=new jt,J4=new P,fM=new Xa,Sj=new jt,hM=new V4;class Tj extends es{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new jt,this.bindMatrixInverse=new jt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;null===this.boundingBox&&(this.boundingBox=new ko),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)J4.fromBufferAttribute(e,i),this.applyBoneTransform(i,J4),this.boundingBox.expandByPoint(J4)}computeBoundingSphere(){const t=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Xa),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)J4.fromBufferAttribute(e,i),this.applyBoneTransform(i,J4),this.boundingSphere.expandByPoint(J4)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const r=this.matrixWorld;void 0!==this.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),fM.copy(this.boundingSphere),fM.applyMatrix4(r),!1!==t.ray.intersectsSphere(fM)&&(Sj.copy(r).invert(),hM.copy(t.ray).applyMatrix4(Sj),(null===this.boundingBox||!1!==hM.intersectsBox(this.boundingBox))&&this._computeIntersections(t,e,hM)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new ni,e=this.geometry.attributes.skinWeight;for(let i=0,r=e.count;i<r;i++){t.fromBufferAttribute(e,i);const s=1/t.manhattanLength();s!==1/0?t.multiplyScalar(s):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,r=this.geometry;xj.fromBufferAttribute(r.attributes.skinIndex,t),Cj.fromBufferAttribute(r.attributes.skinWeight,t),Mj.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let s=0;s<4;s++){const a=Cj.getComponent(s);if(0!==a){const o=xj.getComponent(s);wj.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),e.addScaledVector(DGe.copy(Mj).applyMatrix4(wj),a)}}return e.applyMatrix4(this.bindMatrixInverse)}boneTransform(t,e){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(t,e)}}class pM extends Ar{constructor(){super(),this.isBone=!0,this.type="Bone"}}class vh extends Ya{constructor(t=null,e=1,i=1,r,s,a,o,c,l=$i,u=$i,d,f){super(null,a,o,c,l,u,r,s,d,f),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Aj=new jt,EGe=new jt;class S8{constructor(t=[],e=[]){this.uuid=ea(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new jt)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new jt;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=t.length;s<a;s++)Aj.multiplyMatrices(t[s]?t[s].matrixWorld:EGe,e[s]),Aj.toArray(i,16*s);null!==r&&(r.needsUpdate=!0)}clone(){return new S8(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=mW(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new vh(e,t,t,Ma,Cc);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const r=this.bones[e];if(r.name===t)return r}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,r=t.bones.length;i<r;i++){const s=t.bones[i];let a=e[s];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new pM),this.bones.push(a),this.boneInverses.push((new jt).fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let r=0,s=e.length;r<s;r++)t.bones.push(e[r].uuid),t.boneInverses.push(i[r].toArray());return t}}class yh extends Pi{constructor(t,e,i,r=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const eu=new jt,Dj=new jt,T8=[],Ej=new ko,kGe=new jt,bh=new es,Mh=new Xa;class kj extends es{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new yh(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,kGe)}computeBoundingBox(){const t=this.geometry,e=this.count;null===this.boundingBox&&(this.boundingBox=new ko),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,eu),Ej.copy(t.boundingBox).applyMatrix4(eu),this.boundingBox.union(Ej)}computeBoundingSphere(){const t=this.geometry,e=this.count;null===this.boundingSphere&&(this.boundingSphere=new Xa),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,eu),Mh.copy(t.boundingSphere).applyMatrix4(eu),this.boundingSphere.union(Mh)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const i=this.matrixWorld,r=this.count;if(bh.geometry=this.geometry,bh.material=this.material,void 0!==bh.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Mh.copy(this.boundingSphere),Mh.applyMatrix4(i),!1!==t.ray.intersectsSphere(Mh)))for(let s=0;s<r;s++){this.getMatrixAt(s,eu),Dj.multiplyMatrices(i,eu),bh.matrixWorld=Dj,bh.raycast(t,T8);for(let a=0,o=T8.length;a<o;a++){const c=T8[a];c.instanceId=s,c.object=this,e.push(c)}T8.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new yh(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Vs extends Qa{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ot(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Lj=new P,Ij=new P,Vj=new jt,mM=new V4,A8=new Xa;class d1 extends Ar{constructor(t=new vn,e=new Vs){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,i=[0];for(let r=1,s=e.count;r<s;r++)Lj.fromBufferAttribute(e,r-1),Ij.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=Lj.distanceTo(Ij);t.setAttribute("lineDistance",new Tt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,s=t.params.Line.threshold,a=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),A8.copy(i.boundingSphere),A8.applyMatrix4(r),A8.radius+=s,!1===t.ray.intersectsSphere(A8))return;Vj.copy(r).invert(),mM.copy(t.ray).applyMatrix4(Vj);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,l=new P,u=new P,d=new P,f=new P,h=this.isLineSegments?2:1,p=i.index,g=i.attributes.position;if(null!==p)for(let b=Math.max(0,a.start),T=Math.min(p.count,a.start+a.count)-1;b<T;b+=h){const E=p.getX(b),L=p.getX(b+1);if(l.fromBufferAttribute(g,E),u.fromBufferAttribute(g,L),mM.distanceSqToSegment(l,u,f,d)>c)continue;f.applyMatrix4(this.matrixWorld);const O=t.ray.origin.distanceTo(f);O<t.near||O>t.far||e.push({distance:O,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}else for(let b=Math.max(0,a.start),T=Math.min(g.count,a.start+a.count)-1;b<T;b+=h){if(l.fromBufferAttribute(g,b),u.fromBufferAttribute(g,b+1),mM.distanceSqToSegment(l,u,f,d)>c)continue;f.applyMatrix4(this.matrixWorld);const L=t.ray.origin.distanceTo(f);L<t.near||L>t.far||e.push({distance:L,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}const Hj=new P,Rj=new P;class gM extends d1{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,i=[];for(let r=0,s=e.count;r<s;r+=2)Hj.fromBufferAttribute(e,r),Rj.fromBufferAttribute(e,r+1),i[r]=0===r?0:i[r-1],i[r+1]=i[r]+Hj.distanceTo(Rj);t.setAttribute("lineDistance",new Tt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class zj extends d1{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class _M extends Qa{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ot(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const Pj=new jt,vM=new V4,D8=new Xa,E8=new P;class Nj extends Ar{constructor(t=new vn,e=new _M){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,s=t.params.Points.threshold,a=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),D8.copy(i.boundingSphere),D8.applyMatrix4(r),D8.radius+=s,!1===t.ray.intersectsSphere(D8))return;Pj.copy(r).invert(),vM.copy(t.ray).applyMatrix4(Pj);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,l=i.index,d=i.attributes.position;if(null!==l)for(let p=Math.max(0,a.start),v=Math.min(l.count,a.start+a.count);p<v;p++){const g=l.getX(p);E8.fromBufferAttribute(d,g),Fj(E8,g,c,r,t,e,this)}else for(let p=Math.max(0,a.start),v=Math.min(d.count,a.start+a.count);p<v;p++)E8.fromBufferAttribute(d,p),Fj(E8,p,c,r,t,e,this)}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function Fj(n,t,e,i,r,s,a){const o=vM.distanceSqToPoint(n);if(o<e){const c=new P;vM.closestPointToPoint(n,c),c.applyMatrix4(i);const l=r.ray.origin.distanceTo(c);if(l<r.near||l>r.far)return;s.push({distance:l,distanceToRay:Math.sqrt(o),point:c,index:t,face:null,object:a})}}class B8 extends Qa{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ot(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ot(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Vc extends B8{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ce(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return zi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ot(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ot(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ot(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}function wa(n,t,e){return BM(n)?new n.constructor(n.subarray(t,void 0!==e?e:n.length)):n.slice(t,e)}function p1(n,t,e){return!n||!e&&n.constructor===t?n:"number"==typeof t.BYTES_PER_ELEMENT?new t(n):Array.prototype.slice.call(n)}function BM(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Jj(n){const e=n.length,i=new Array(e);for(let r=0;r!==e;++r)i[r]=r;return i.sort(function t(r,s){return n[r]-n[s]}),i}function UM(n,t,e){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const o=e[s]*t;for(let c=0;c!==t;++c)r[a++]=n[o+c]}return r}function GM(n,t,e,i){let r=1,s=n[0];for(;void 0!==s&&void 0===s[i];)s=n[r++];if(void 0===s)return;let a=s[i];if(void 0!==a)if(Array.isArray(a))do{a=s[i],void 0!==a&&(t.push(s.time),e.push.apply(e,a)),s=n[r++]}while(void 0!==s);else if(void 0!==a.toArray)do{a=s[i],void 0!==a&&(t.push(s.time),a.toArray(e,e.length)),s=n[r++]}while(void 0!==s);else do{a=s[i],void 0!==a&&(t.push(s.time),e.push(a)),s=n[r++]}while(void 0!==s)}class Dh{constructor(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,r=e[i],s=e[i-1];e:{t:{let a;n:{i:if(!(t<r)){for(let o=i+2;;){if(void 0===r){if(t<s)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=e[++i],t<r)break t}a=e.length;break n}if(t>=s)break e;{const o=e[1];t<o&&(i=2,s=o);for(let c=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=s,s=e[--i-1],t>=s)break t}a=i,i=0}}for(;i<a;){const o=i+a>>>1;t<e[o]?a=o:i=o+1}if(r=e[i],s=e[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=t*r;for(let a=0;a!==r;++a)e[a]=i[s+a];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class xWe extends Dh{constructor(t,e,i,r){super(t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,i){const r=this.parameterPositions;let s=t-2,a=t+1,o=r[s],c=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:s=t,o=2*e-i;break;case 2402:s=r.length-2,o=e+r[s]-r[s+1];break;default:s=t,o=i}if(void 0===c)switch(this.getSettings_().endingEnd){case 2401:a=t,c=2*i-e;break;case 2402:a=1,c=i+r[1]-r[0];break;default:a=t-1,c=e}const l=.5*(i-e),u=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(c-i),this._offsetPrev=s*u,this._offsetNext=a*u}interpolate_(t,e,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=t*o,l=c-o,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,p=(i-e)/(r-e),v=p*p,g=v*p,m=-f*g+2*f*v-f*p,C=(1+f)*g+(-1.5-2*f)*v+(-.5+f)*p+1,b=(-1-h)*g+(1.5+h)*v+.5*p,T=h*g-h*v;for(let E=0;E!==o;++E)s[E]=m*a[u+E]+C*a[l+E]+b*a[c+E]+T*a[d+E];return s}}class e$ extends Dh{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=t*o,l=c-o,u=(i-e)/(r-e),d=1-u;for(let f=0;f!==o;++f)s[f]=a[l+f]*d+a[c+f]*u;return s}}class CWe extends Dh{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Vo{constructor(t,e,i,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=p1(e,this.TimeBufferType),this.values=p1(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:p1(t.times,Array),values:p1(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(i.interpolation=r)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new CWe(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new e$(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new xWe(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case sh:e=this.InterpolantFactoryMethodDiscrete;break;case M4:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return sh;case this.InterpolantFactoryMethodLinear:return M4;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]*=t}return this}trim(t,e){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<t;)++s;for(;-1!==a&&i[a]>e;)--a;if(++a,0!==s||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=wa(i,s,a),this.values=wa(this.values,s*o,a*o)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let a=null;for(let o=0;o!==s;o++){const c=i[o];if("number"==typeof c&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),t=!1;break}if(null!==a&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,a),t=!1;break}a=c}if(void 0!==r&&BM(r))for(let o=0,c=r.length;o!==c;++o){const l=r[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),t=!1;break}}return t}optimize(){const t=wa(this.times),e=wa(this.values),i=this.getValueSize(),r=2302===this.getInterpolation(),s=t.length-1;let a=1;for(let o=1;o<s;++o){let c=!1;const l=t[o];if(l!==t[o+1]&&(1!==o||l!==t[0]))if(r)c=!0;else{const d=o*i,f=d-i,h=d+i;for(let p=0;p!==i;++p){const v=e[d+p];if(v!==e[f+p]||v!==e[h+p]){c=!0;break}}}if(c){if(o!==a){t[a]=t[o];const d=o*i,f=a*i;for(let h=0;h!==i;++h)e[f+h]=e[d+h]}++a}}if(s>0){t[a]=t[s];for(let o=s*i,c=a*i,l=0;l!==i;++l)e[c+l]=e[o+l];++a}return a!==t.length?(this.times=wa(t,0,a),this.values=wa(e,0,a*i)):(this.times=t,this.values=e),this}clone(){const t=wa(this.times,0),e=wa(this.values,0),r=new(0,this.constructor)(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Vo.prototype.TimeBufferType=Float32Array,Vo.prototype.ValueBufferType=Float32Array,Vo.prototype.DefaultInterpolation=M4;class iu extends Vo{}iu.prototype.ValueTypeName="bool",iu.prototype.ValueBufferType=Array,iu.prototype.DefaultInterpolation=sh,iu.prototype.InterpolantFactoryMethodLinear=void 0,iu.prototype.InterpolantFactoryMethodSmooth=void 0;class t$ extends Vo{}t$.prototype.ValueTypeName="color";class ru extends Vo{}ru.prototype.ValueTypeName="number";class wWe extends Dh{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=(i-e)/(r-e);let l=t*o;for(let u=l+o;l!==u;l+=4)Br.slerpFlat(s,0,a,l-o,a,l,c);return s}}class m1 extends Vo{InterpolantFactoryMethodLinear(t){return new wWe(this.times,this.values,this.getValueSize(),t)}}m1.prototype.ValueTypeName="quaternion",m1.prototype.DefaultInterpolation=M4,m1.prototype.InterpolantFactoryMethodSmooth=void 0;class su extends Vo{}su.prototype.ValueTypeName="string",su.prototype.ValueBufferType=Array,su.prototype.DefaultInterpolation=sh,su.prototype.InterpolantFactoryMethodLinear=void 0,su.prototype.InterpolantFactoryMethodSmooth=void 0;class au extends Vo{}au.prototype.ValueTypeName="vector";class Eh{constructor(t,e=-1,i,r=2500){this.name=t,this.tracks=i,this.duration=e,this.blendMode=r,this.uuid=ea(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,r=1/(t.fps||1);for(let a=0,o=i.length;a!==o;++a)e.push(TWe(i[a]).scale(r));const s=new this(t.name,t.duration,e,t.blendMode);return s.uuid=t.uuid,s}static toJSON(t){const e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let s=0,a=i.length;s!==a;++s)e.push(Vo.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(t,e,i,r){const s=e.length,a=[];for(let o=0;o<s;o++){let c=[],l=[];c.push((o+s-1)%s,o,(o+1)%s),l.push(0,1,0);const u=Jj(c);c=UM(c,1,u),l=UM(l,1,u),!r&&0===c[0]&&(c.push(s),l.push(l[0])),a.push(new ru(".morphTargetInfluences["+e[o].name+"]",c,l).scale(1/i))}return new this(t,-1,a)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const r=t;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===e)return i[r];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,c=t.length;o<c;o++){const l=t[o],u=l.name.match(s);if(u&&u.length>1){const d=u[1];let f=r[d];f||(r[d]=f=[]),f.push(l)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],e,i));return a}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(d,f,h,p,v){if(0!==h.length){const g=[],m=[];GM(h,g,m,p),0!==g.length&&v.push(new d(f,g,m))}},r=[],s=t.name||"default",a=t.fps||30,o=t.blendMode;let c=t.length||-1;const l=t.hierarchy||[];for(let d=0;d<l.length;d++){const f=l[d].keys;if(f&&0!==f.length)if(f[0].morphTargets){const h={};let p;for(p=0;p<f.length;p++)if(f[p].morphTargets)for(let v=0;v<f[p].morphTargets.length;v++)h[f[p].morphTargets[v]]=-1;for(const v in h){const g=[],m=[];for(let C=0;C!==f[p].morphTargets.length;++C){const b=f[p];g.push(b.time),m.push(b.morphTarget===v?1:0)}r.push(new ru(".morphTargetInfluence["+v+"]",g,m))}c=h.length*a}else{const h=".bones["+e[d].name+"]";i(au,h+".position",f,"pos",r),i(m1,h+".quaternion",f,"rot",r),i(au,h+".scale",f,"scl",r)}}return 0===r.length?null:new this(s,c,r,o)}resetDuration(){let e=0;for(let i=0,r=this.tracks.length;i!==r;++i){const s=this.tracks[i];e=Math.max(e,s.times[s.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function TWe(n){if(void 0===n.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function SWe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ru;case"vector":case"vector2":case"vector3":case"vector4":return au;case"color":return t$;case"quaternion":return m1;case"bool":case"boolean":return iu;case"string":return su}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}(n.type);if(void 0===n.times){const e=[],i=[];GM(n.keys,e,i,"value"),n.times=e,n.values=i}return void 0!==t.parse?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const ou={enabled:!1,files:{},add:function(n,t){!1!==this.enabled&&(this.files[n]=t)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class n${constructor(t,e,i){const r=this;let c,s=!1,a=0,o=0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(u){o++,!1===s&&void 0!==r.onStart&&r.onStart(u,a,o),s=!0},this.itemEnd=function(u){a++,void 0!==r.onProgress&&r.onProgress(u,a,o),a===o&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(u){void 0!==r.onError&&r.onError(u)},this.resolveURL=function(u){return c?c(u):u},this.setURLModifier=function(u){return c=u,this},this.addHandler=function(u,d){return l.push(u,d),this},this.removeHandler=function(u){const d=l.indexOf(u);return-1!==d&&l.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=l.length;d<f;d+=2){const h=l[d],p=l[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const AWe=new n$;let kh=(()=>{class n{constructor(e){this.manager=void 0!==e?e:AWe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,i){const r=this;return new Promise(function(s,a){r.load(e,s,i,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}return n.DEFAULT_MATERIAL_NAME="__DEFAULT",n})();const Hc={};class DWe extends Error{constructor(t,e){super(t),this.response=e}}class Ho extends kh{constructor(t){super(t)}load(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const s=ou.get(t);if(void 0!==s)return this.manager.itemStart(t),setTimeout(()=>{e&&e(s),this.manager.itemEnd(t)},0),s;if(void 0!==Hc[t])return void Hc[t].push({onLoad:e,onProgress:i,onError:r});Hc[t]=[],Hc[t].push({onLoad:e,onProgress:i,onError:r});const a=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,c=this.responseType;fetch(a).then(l=>{if(200===l.status||0===l.status){if(0===l.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===l.body||void 0===l.body.getReader)return l;const u=Hc[t],d=l.body.getReader(),f=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),h=f?parseInt(f):0,p=0!==h;let v=0;const g=new ReadableStream({start(m){!function C(){d.read().then(({done:b,value:T})=>{if(b)m.close();else{v+=T.byteLength;const E=new ProgressEvent("progress",{lengthComputable:p,loaded:v,total:h});for(let L=0,k=u.length;L<k;L++){const O=u[L];O.onProgress&&O.onProgress(E)}m.enqueue(T),C()}})}()}});return new Response(g)}throw new DWe(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(c){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(u=>(new DOMParser).parseFromString(u,o));case"json":return l.json();default:if(void 0===o)return l.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return l.arrayBuffer().then(p=>h.decode(p))}}}).then(l=>{ou.add(t,l);const u=Hc[t];delete Hc[t];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onLoad&&h.onLoad(l)}}).catch(l=>{const u=Hc[t];if(void 0===u)throw this.manager.itemError(t),l;delete Hc[t];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(l)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class U8 extends kh{constructor(t){super(t)}load(t,e,i,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,a=ou.get(t);if(void 0!==a)return s.manager.itemStart(t),setTimeout(function(){e&&e(a),s.manager.itemEnd(t)},0),a;const o=oh("img");function c(){u(),ou.add(t,this),e&&e(this),s.manager.itemEnd(t)}function l(d){u(),r&&r(d),s.manager.itemError(t),s.manager.itemEnd(t)}function u(){o.removeEventListener("load",c,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",c,!1),o.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(t),o.src=t,o}}class EWe extends kh{constructor(t){super(t)}load(t,e,i,r){const s=new Ya,a=new U8(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(o){s.image=o,s.needsUpdate=!0,void 0!==e&&e(s)},i,r),s}}class Lh extends Ar{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new ot(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}class i$ extends Lh{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ar.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ot(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const WM=new jt,r$=new P,s$=new P;class jM{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ce(512,512),this.map=null,this.mapPass=null,this.matrix=new jt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new tM,this._frameExtents=new Ce(1,1),this._viewportCount=1,this._viewports=[new ni(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;r$.setFromMatrixPosition(t.matrixWorld),e.position.copy(r$),s$.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(s$),e.updateMatrixWorld(),WM.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(WM),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(WM)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class kWe extends jM{constructor(){super(new Er(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=2*w4*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=t.distance||e.far;(i!==e.fov||r!==e.aspect||s!==e.far)&&(e.fov=i,e.aspect=r,e.far=s,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class a$ extends Lh{constructor(t,e,i=0,r=Math.PI/3,s=0,a=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ar.DEFAULT_UP),this.updateMatrix(),this.target=new Ar,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new kWe}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const o$=new jt,Ih=new P,$M=new P;class LWe extends jM{constructor(){super(new Er(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ce(4,2),this._viewportCount=6,this._viewports=[new ni(2,1,1,1),new ni(0,1,1,1),new ni(3,1,1,1),new ni(1,1,1,1),new ni(3,0,1,1),new ni(1,0,1,1)],this._cubeDirections=[new P(1,0,0),new P(-1,0,0),new P(0,0,1),new P(0,0,-1),new P(0,1,0),new P(0,-1,0)],this._cubeUps=[new P(0,1,0),new P(0,1,0),new P(0,1,0),new P(0,1,0),new P(0,0,1),new P(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,r=this.matrix,s=t.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Ih.setFromMatrixPosition(t.matrixWorld),i.position.copy(Ih),$M.copy(i.position),$M.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt($M),i.updateMatrixWorld(),r.makeTranslation(-Ih.x,-Ih.y,-Ih.z),o$.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o$)}}class c$ extends Lh{constructor(t,e,i=0,r=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new LWe}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class IWe extends jM{constructor(){super(new _8(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class qM extends Lh{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ar.DEFAULT_UP),this.updateMatrix(),this.target=new Ar,this.shadow=new IWe}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class l$ extends Lh{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class Vh{static decodeText(t){if(typeof TextDecoder<"u")return(new TextDecoder).decode(t);let e="";for(let i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class FWe extends kh{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const s=this,a=ou.get(t);if(void 0!==a)return s.manager.itemStart(t),setTimeout(function(){e&&e(a),s.manager.itemEnd(t)},0),a;const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(t,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){ou.add(t,c),e&&e(c),s.manager.itemEnd(t)}).catch(function(c){r&&r(c),s.manager.itemError(t),s.manager.itemEnd(t)}),s.manager.itemStart(t)}}const XM="\\[\\]\\.:\\/",WWe=new RegExp("["+XM+"]","g"),KM="[^"+XM+"]",jWe="[^"+XM.replace("\\.","")+"]",KWe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",KM)+/(WCOD+)?/.source.replace("WCOD",jWe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",KM)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",KM)+"$"),ZWe=["material","materials","bones","map"];class QWe{constructor(t,e,i){const r=i||di.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}let di=(()=>{class n{constructor(e,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,i,r){return e&&e.isAnimationObjectGroup?new n.Composite(e,i,r):new n(e,i,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(WWe,"")}static parseTrackName(e){const i=KWe.exec(e);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const a=r.nodeName.substring(s+1);-1!==ZWe.indexOf(a)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=a)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,i){if(void 0===i||""===i||"."===i||-1===i||i===e.name||i===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(i);if(void 0!==r)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const c=a[o];if(c.name===i||c.uuid===i)return c;const l=r(c.children);if(l)return l}return null},s=r(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,i){e[i]=this.targetObject[this.propertyName]}_getValue_array(e,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)e[i++]=r[s]}_getValue_arrayElement(e,i){e[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,i){this.resolvedProperty.toArray(e,i)}_setValue_direct(e,i){this.targetObject[this.propertyName]=e[i]}_setValue_direct_setNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=e[i++]}_setValue_array_setNeedsUpdate(e,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=e[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=e[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,i){this.resolvedProperty[this.propertyIndex]=e[i]}_setValue_arrayElement_setNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,i){this.resolvedProperty.fromArray(e,i)}_setValue_fromArray_setNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,i){this.bind(),this.getValue(e,i)}_setValue_unbound(e,i){this.bind(),this.setValue(e,i)}bind(){let e=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let a=i.propertyIndex;if(e||(e=n.findNode(this.rootNode,i.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let u=i.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==u){if(void 0===e[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[u]}}const o=e[s];if(void 0===o)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",e);let c=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===s){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[a]&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else void 0!==o.fromArray&&void 0!==o.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=QWe,n})();di.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},di.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},di.prototype.GetterByBindingType=[di.prototype._getValue_direct,di.prototype._getValue_array,di.prototype._getValue_arrayElement,di.prototype._getValue_toArray],di.prototype.SetterByBindingTypeAndVersioning=[[di.prototype._setValue_direct,di.prototype._setValue_direct_setNeedsUpdate,di.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[di.prototype._setValue_array,di.prototype._setValue_array_setNeedsUpdate,di.prototype._setValue_array_setMatrixWorldNeedsUpdate],[di.prototype._setValue_arrayElement,di.prototype._setValue_arrayElement_setNeedsUpdate,di.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[di.prototype._setValue_fromArray,di.prototype._setValue_fromArray_setNeedsUpdate,di.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class b${constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(zi(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}function k$(n,t){if(0===t)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(2===t||1===t){let e=n.getIndex();if(null===e){const a=[],o=n.getAttribute("position");if(void 0===o)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n;for(let c=0;c<o.count;c++)a.push(c);n.setIndex(a),e=n.getIndex()}const i=e.count-2,r=[];if(2===t)for(let a=1;a<=i;a++)r.push(e.getX(0)),r.push(e.getX(a)),r.push(e.getX(a+1));else for(let a=0;a<i;a++)a%2==0?(r.push(e.getX(a)),r.push(e.getX(a+1)),r.push(e.getX(a+2))):(r.push(e.getX(a+2)),r.push(e.getX(a+1)),r.push(e.getX(a)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),n}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"155"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="155");class rje extends kh{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new lje(e)}),this.register(function(e){return new _je(e)}),this.register(function(e){return new vje(e)}),this.register(function(e){return new yje(e)}),this.register(function(e){return new dje(e)}),this.register(function(e){return new fje(e)}),this.register(function(e){return new hje(e)}),this.register(function(e){return new pje(e)}),this.register(function(e){return new cje(e)}),this.register(function(e){return new mje(e)}),this.register(function(e){return new uje(e)}),this.register(function(e){return new gje(e)}),this.register(function(e){return new aje(e)}),this.register(function(e){return new bje(e)}),this.register(function(e){return new Mje(e)})}load(t,e,i,r){const s=this;let a;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Vh.extractUrlBase(t),this.manager.itemStart(t);const o=function(l){r?r(l):console.error(l),s.manager.itemError(t),s.manager.itemEnd(t)},c=new Ho(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(l){try{s.parse(l,a,function(u){e(u),s.manager.itemEnd(t)},o)}catch(u){o(u)}},i,o)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,i,r){let s;const a={},o={},c=new TextDecoder;if("string"==typeof t)s=JSON.parse(t);else if(t instanceof ArrayBuffer)if(c.decode(new Uint8Array(t,0,4))===L$){try{a[En.KHR_BINARY_GLTF]=new xje(t)}catch(d){return void(r&&r(d))}s=JSON.parse(a[En.KHR_BINARY_GLTF].content)}else s=JSON.parse(c.decode(t));else s=t;if(void 0===s.asset||s.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const l=new Rje(s,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](l);o[d.name]=d,a[d.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const d=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(d){case En.KHR_MATERIALS_UNLIT:a[d]=new oje;break;case En.KHR_DRACO_MESH_COMPRESSION:a[d]=new Cje(s,this.dracoLoader);break;case En.KHR_TEXTURE_TRANSFORM:a[d]=new wje;break;case En.KHR_MESH_QUANTIZATION:a[d]=new Sje;break;default:f.indexOf(d)>=0&&void 0===o[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(i,r)}parseAsync(t,e){const i=this;return new Promise(function(r,s){i.parse(t,e,r,s)})}}function sje(){let n={};return{get:function(t){return n[t]},add:function(t,e){n[t]=e},remove:function(t){delete n[t]},removeAll:function(){n={}}}}const En={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class aje{constructor(t){this.parser=t,this.name=En.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let i=0,r=e.length;i<r;i++){const s=e[i];s.extensions&&s.extensions[this.name]&&void 0!==s.extensions[this.name].light&&t._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(t){const e=this.parser,i="light:"+t;let r=e.cache.get(i);if(r)return r;const s=e.json,c=((s.extensions&&s.extensions[this.name]||{}).lights||[])[t];let l;const u=new ot(16777215);void 0!==c.color&&u.fromArray(c.color);const d=void 0!==c.range?c.range:0;switch(c.type){case"directional":l=new qM(u),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new c$(u),l.distance=d;break;case"spot":l=new a$(u),l.distance=d,c.spot=c.spot||{},c.spot.innerConeAngle=void 0!==c.spot.innerConeAngle?c.spot.innerConeAngle:0,c.spot.outerConeAngle=void 0!==c.spot.outerConeAngle?c.spot.outerConeAngle:Math.PI/4,l.angle=c.spot.outerConeAngle,l.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return l.position.set(0,0,0),l.decay=2,G2(l,c),void 0!==c.intensity&&(l.intensity=c.intensity),l.name=e.createUniqueName(c.name||"light_"+t),r=Promise.resolve(l),e.cache.add(i,r),r}getDependency(t,e){if("light"===t)return this._loadLight(e)}createNodeAttachment(t){const e=this,i=this.parser,s=i.json.nodes[t],o=(s.extensions&&s.extensions[this.name]||{}).light;return void 0===o?null:this._loadLight(o).then(function(c){return i._getNodeRef(e.cache,o,c)})}}class oje{constructor(){this.name=En.KHR_MATERIALS_UNLIT}getMaterialType(){return xa}extendParams(t,e,i){const r=[];t.color=new ot(1,1,1),t.opacity=1;const s=e.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;t.color.fromArray(a),t.opacity=a[3]}void 0!==s.baseColorTexture&&r.push(i.assignTexture(t,"map",s.baseColorTexture,Wt))}return Promise.all(r)}}class cje{constructor(t){this.parser=t,this.name=En.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return void 0!==s&&(e.emissiveIntensity=s),Promise.resolve()}}class lje{constructor(t){this.parser=t,this.name=En.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?Vc:null}extendMaterialParams(t,e){const i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(e.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&s.push(i.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&s.push(i.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(s.push(i.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){const o=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new Ce(o,o)}return Promise.all(s)}}class uje{constructor(t){this.parser=t,this.name=En.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?Vc:null}extendMaterialParams(t,e){const i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(e.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&s.push(i.assignTexture(e,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(e.iridescenceIOR=a.iridescenceIor),void 0===e.iridescenceThicknessRange&&(e.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(e.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(e.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&s.push(i.assignTexture(e,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}}class dje{constructor(t){this.parser=t,this.name=En.KHR_MATERIALS_SHEEN}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?Vc:null}extendMaterialParams(t,e){const i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];e.sheenColor=new ot(0,0,0),e.sheenRoughness=0,e.sheen=1;const a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&e.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(e.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&s.push(i.assignTexture(e,"sheenColorMap",a.sheenColorTexture,Wt)),void 0!==a.sheenRoughnessTexture&&s.push(i.assignTexture(e,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class fje{constructor(t){this.parser=t,this.name=En.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?Vc:null}extendMaterialParams(t,e){const i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(e.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&s.push(i.assignTexture(e,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class hje{constructor(t){this.parser=t,this.name=En.KHR_MATERIALS_VOLUME}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?Vc:null}extendMaterialParams(t,e){const i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];e.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&s.push(i.assignTexture(e,"thicknessMap",a.thicknessTexture)),e.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return e.attenuationColor=new ot(o[0],o[1],o[2]),Promise.all(s)}}class pje{constructor(t){this.parser=t,this.name=En.KHR_MATERIALS_IOR}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?Vc:null}extendMaterialParams(t,e){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return e.ior=void 0!==s.ior?s.ior:1.5,Promise.resolve()}}class mje{constructor(t){this.parser=t,this.name=En.KHR_MATERIALS_SPECULAR}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?Vc:null}extendMaterialParams(t,e){const i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];e.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&s.push(i.assignTexture(e,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return e.specularColor=new ot(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&s.push(i.assignTexture(e,"specularColorMap",a.specularColorTexture,Wt)),Promise.all(s)}}class gje{constructor(t){this.parser=t,this.name=En.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?Vc:null}extendMaterialParams(t,e){const i=this.parser,r=i.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],a=r.extensions[this.name];return void 0!==a.anisotropyStrength&&(e.anisotropy=a.anisotropyStrength),void 0!==a.anisotropyRotation&&(e.anisotropyRotation=a.anisotropyRotation),void 0!==a.anisotropyTexture&&s.push(i.assignTexture(e,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class _je{constructor(t){this.parser=t,this.name=En.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,i=e.json,r=i.textures[t];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],a=e.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,s.source,a)}}class vje{constructor(t){this.parser=t,this.name=En.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,i=this.parser,r=i.json,s=r.textures[t];if(!s.extensions||!s.extensions[e])return null;const a=s.extensions[e],o=r.images[a.source];let c=i.textureLoader;if(o.uri){const l=i.options.manager.getHandler(o.uri);null!==l&&(c=l)}return this.detectSupport().then(function(l){if(l)return i.loadTextureImage(t,a.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}})),this.isSupported}}class yje{constructor(t){this.parser=t,this.name=En.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const e=this.name,i=this.parser,r=i.json,s=r.textures[t];if(!s.extensions||!s.extensions[e])return null;const a=s.extensions[e],o=r.images[a.source];let c=i.textureLoader;if(o.uri){const l=i.options.manager.getHandler(o.uri);null!==l&&(c=l)}return this.detectSupport().then(function(l){if(l)return i.loadTextureImage(t,a.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",e.onload=e.onerror=function(){t(1===e.height)}})),this.isSupported}}class bje{constructor(t){this.name=En.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,i=e.bufferViews[t];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(o){const u=r.count,d=r.byteStride,f=new Uint8Array(o,r.byteOffset||0,r.byteLength||0);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(u,d,f,r.mode,r.filter).then(function(h){return h.buffer}):a.ready.then(function(){const h=new ArrayBuffer(u*d);return a.decodeGltfBuffer(new Uint8Array(h),u,d,f,r.mode,r.filter),h})})}return null}}class Mje{constructor(t){this.name=En.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const e=this.parser.json,i=e.nodes[t];if(!i.extensions||!i.extensions[this.name]||void 0===i.mesh)return null;const r=e.meshes[i.mesh];for(const l of r.primitives)if(l.mode!==Sa.TRIANGLES&&l.mode!==Sa.TRIANGLE_STRIP&&l.mode!==Sa.TRIANGLE_FAN&&void 0!==l.mode)return null;const a=i.extensions[this.name].attributes,o=[],c={};for(const l in a)o.push(this.parser.getDependency("accessor",a[l]).then(u=>(c[l]=u,c[l])));return o.length<1?null:(o.push(this.parser.createNodeMesh(t)),Promise.all(o).then(l=>{const u=l.pop(),d=u.isGroup?u.children:[u],f=l[0].count,h=[];for(const p of d){const v=new jt,g=new P,m=new Br,C=new P(1,1,1),b=new kj(p.geometry,p.material,f);for(let T=0;T<f;T++)c.TRANSLATION&&g.fromBufferAttribute(c.TRANSLATION,T),c.ROTATION&&m.fromBufferAttribute(c.ROTATION,T),c.SCALE&&C.fromBufferAttribute(c.SCALE,T),b.setMatrixAt(T,v.compose(g,m,C));for(const T in c)"TRANSLATION"!==T&&"ROTATION"!==T&&"SCALE"!==T&&p.geometry.setAttribute(T,c[T]);Ar.prototype.copy.call(b,p),this.parser.assignFinalMaterial(b),h.push(b)}return u.isGroup?(u.clear(),u.add(...h),u):h[0]}))}}const L$="glTF";class xje{constructor(t){this.name=En.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,12),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==L$)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-12,s=new DataView(t,12);let a=0;for(;a<r;){const o=s.getUint32(a,!0);a+=4;const c=s.getUint32(a,!0);if(a+=4,1313821514===c){const l=new Uint8Array(t,12+a,o);this.content=i.decode(l)}else if(5130562===c){const l=12+a;this.body=t.slice(l,l+o)}a+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Cje{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=En.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const i=this.json,r=this.dracoLoader,s=t.extensions[this.name].bufferView,a=t.extensions[this.name].attributes,o={},c={},l={};for(const u in a){const d=ix[u]||u.toLowerCase();o[d]=a[u]}for(const u in t.attributes){const d=ix[u]||u.toLowerCase();if(void 0!==a[u]){const f=i.accessors[t.attributes[u]];l[d]=cu[f.componentType].name,c[d]=!0===f.normalized}}return e.getDependency("bufferView",s).then(function(u){return new Promise(function(d){r.decodeDracoFile(u,function(f){for(const h in f.attributes){const p=f.attributes[h],v=c[h];void 0!==v&&(p.normalized=v)}d(f)},o,l)})})}}class wje{constructor(){this.name=En.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return(void 0===e.texCoord||e.texCoord===t.channel)&&void 0===e.offset&&void 0===e.rotation&&void 0===e.scale||(t=t.clone(),void 0!==e.texCoord&&(t.channel=e.texCoord),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class Sje{constructor(){this.name=En.KHR_MESH_QUANTIZATION}}class V$ extends Dh{constructor(t,e,i,r){super(t,e,i,r)}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=t*r*3+r;for(let a=0;a!==r;a++)e[a]=i[s+a];return e}interpolate_(t,e,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=2*o,l=3*o,u=r-e,d=(i-e)/u,f=d*d,h=f*d,p=t*l,v=p-l,g=-2*h+3*f,m=h-f,C=1-g,b=m-f+d;for(let T=0;T!==o;T++)s[T]=C*a[v+T+o]+b*(a[v+T+c]*u)+g*a[p+T+o]+m*(a[p+T]*u);return s}}const Tje=new Br;class Aje extends V${interpolate_(t,e,i,r){const s=super.interpolate_(t,e,i,r);return Tje.fromArray(s).normalize().toArray(s),s}}const Sa={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},cu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},H$={9728:$i,9729:Ri,9984:1004,9985:1007,9986:1005,9987:xc},R$={33071:Zr,33648:1002,10497:Yl},nx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ix={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},U2={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Dje={CUBICSPLINE:void 0,LINEAR:M4,STEP:sh};function M1(n,t,e){for(const i in e.extensions)void 0===n[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=e.extensions[i])}function G2(n,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(n.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Lje(n,t){if(n.updateMorphTargets(),void 0!==t.weights)for(let e=0,i=t.weights.length;e<i;e++)n.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(n.morphTargetInfluences.length===e.length){n.morphTargetDictionary={};for(let i=0,r=e.length;i<r;i++)n.morphTargetDictionary[e[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ije(n){let t;const e=n.extensions&&n.extensions[En.KHR_DRACO_MESH_COMPRESSION];if(t=e?"draco:"+e.bufferView+":"+e.indices+":"+sx(e.attributes):n.indices+":"+sx(n.attributes)+":"+n.mode,void 0!==n.targets)for(let i=0,r=n.targets.length;i<r;i++)t+=":"+sx(n.targets[i]);return t}function sx(n){let t="";const e=Object.keys(n).sort();for(let i=0,r=e.length;i<r;i++)t+=e[i]+":"+n[e[i]]+";";return t}function ax(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const Hje=new jt;class Rje{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new sje,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,s=-1;typeof navigator<"u"&&(i=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=navigator.userAgent.indexOf("Firefox")>-1,s=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),this.textureLoader=typeof createImageBitmap>"u"||i||r&&s<98?new EWe(this.options.manager):new FWe(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ho(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const o={scene:a[0][r.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:r.asset,parser:i,userData:{}};M1(s,o,r),G2(o,r),Promise.all(i._invokeAll(function(c){return c.afterRoot&&c.afterRoot(o)})).then(function(){t(o)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=e.length;r<s;r++){const a=e[r].joints;for(let o=0,c=a.length;o<c;o++)t[a[o]].isBone=!0}for(let r=0,s=t.length;r<s;r++){const a=t[r];void 0!==a.mesh&&(this._addNodeRef(this.meshCache,a.mesh),void 0!==a.skin&&(i[a.mesh].isSkinnedMesh=!0)),void 0!==a.camera&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,i){if(t.refs[e]<=1)return i;const r=i.clone(),s=(a,o)=>{const c=this.associations.get(a);null!=c&&this.associations.set(o,c);for(const[l,u]of a.children.entries())s(u,o.children[l])};return s(i,r),r.name+="_instance_"+t.uses[e]++,r}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let i=0;i<e.length;i++){const r=t(e[i]);if(r)return r}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const i=[];for(let r=0;r<e.length;r++){const s=t(e[r]);s&&i.push(s)}return i}getDependency(t,e){const i=t+":"+e;let r=this.cache.get(i);if(!r){switch(t){case"scene":r=this.loadScene(e);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(e)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(e)});break;case"accessor":r=this.loadAccessor(e);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(e)});break;case"buffer":r=this.loadBuffer(e);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(e)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(e)});break;case"skin":r=this.loadSkin(e);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(e)});break;case"camera":r=this.loadCamera(e);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(t,e)}),!r)throw new Error("Unknown type: "+t)}this.cache.add(i,r)}return r}getDependencies(t){let e=this.cache.get(t);if(!e){const i=this;e=Promise.all((this.json[t+("mesh"===t?"es":"s")]||[]).map(function(s,a){return i.getDependency(t,a)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],i=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[En.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,a){i.load(Vh.resolveURL(e.uri,r.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(i){const s=e.byteOffset||0;return i.slice(s,s+(e.byteLength||0))})}loadAccessor(t){const e=this,i=this.json,r=this.json.accessors[t];if(void 0===r.bufferView&&void 0===r.sparse){const a=nx[r.type],c=!0===r.normalized,l=new(0,cu[r.componentType])(r.count*a);return Promise.resolve(new Pi(l,a,c))}const s=[];return s.push(void 0!==r.bufferView?this.getDependency("bufferView",r.bufferView):null),void 0!==r.sparse&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(a){const o=a[0],c=nx[r.type],l=cu[r.componentType],u=l.BYTES_PER_ELEMENT,f=r.byteOffset||0,h=void 0!==r.bufferView?i.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;let v,g;if(h&&h!==u*c){const m=Math.floor(f/h),C="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+m+":"+r.count;let b=e.cache.get(C);b||(v=new l(o,m*h,r.count*h/u),b=new uM(v,h/u),e.cache.add(C,b)),g=new u1(b,c,f%h/u,p)}else v=null===o?new l(r.count*c):new l(o,f,r.count*c),g=new Pi(v,c,p);if(void 0!==r.sparse){const T=r.sparse.values.byteOffset||0,E=new(0,cu[r.sparse.indices.componentType])(a[1],r.sparse.indices.byteOffset||0,r.sparse.count*nx.SCALAR),L=new l(a[2],T,r.sparse.count*c);null!==o&&(g=new Pi(g.array.slice(),g.itemSize,g.normalized));for(let k=0,O=E.length;k<O;k++){const D=E[k];if(g.setX(D,L[k*c]),c>=2&&g.setY(D,L[k*c+1]),c>=3&&g.setZ(D,L[k*c+2]),c>=4&&g.setW(D,L[k*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return g})}loadTexture(t){const e=this.json,s=e.textures[t].source,a=e.images[s];let o=this.textureLoader;if(a.uri){const c=this.options.manager.getHandler(a.uri);null!==c&&(o=c)}return this.loadTextureImage(t,s,o)}loadTextureImage(t,e,i){const r=this,s=this.json,a=s.textures[t],o=s.images[e],c=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[c])return this.textureCache[c];const l=this.loadImageSource(e,i).then(function(u){u.flipY=!1,u.name=a.name||o.name||"",""===u.name&&"string"==typeof o.uri&&!1===o.uri.startsWith("data:image/")&&(u.name=o.uri);const f=(s.samplers||{})[a.sampler]||{};return u.magFilter=H$[f.magFilter]||Ri,u.minFilter=H$[f.minFilter]||xc,u.wrapS=R$[f.wrapS]||Yl,u.wrapT=R$[f.wrapT]||Yl,r.associations.set(u,{textures:t}),u}).catch(function(){return null});return this.textureCache[c]=l,l}loadImageSource(t,e){const r=this.json,s=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then(d=>d.clone());const a=r.images[t],o=self.URL||self.webkitURL;let c=a.uri||"",l=!1;if(void 0!==a.bufferView)c=this.getDependency("bufferView",a.bufferView).then(function(d){l=!0;const f=new Blob([d],{type:a.mimeType});return c=o.createObjectURL(f),c});else if(void 0===a.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const u=Promise.resolve(c).then(function(d){return new Promise(function(f,h){let p=f;!0===e.isImageBitmapLoader&&(p=function(v){const g=new Ya(v);g.needsUpdate=!0,f(g)}),e.load(Vh.resolveURL(d,s.path),p,void 0,h)})}).then(function(d){return!0===l&&o.revokeObjectURL(c),d.userData.mimeType=a.mimeType||function Vje(n){return n.search(/\.jpe?g($|\?)/i)>0||0===n.search(/^data\:image\/jpeg/)?"image/jpeg":n.search(/\.webp($|\?)/i)>0||0===n.search(/^data\:image\/webp/)?"image/webp":"image/png"}(a.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),d});return this.sourceCache[t]=u,u}assignTexture(t,e,i,r){const s=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(void 0!==i.texCoord&&i.texCoord>0&&((a=a.clone()).channel=i.texCoord),s.extensions[En.KHR_TEXTURE_TRANSFORM]){const o=void 0!==i.extensions?i.extensions[En.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const c=s.associations.get(a);a=s.extensions[En.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),s.associations.set(a,c)}}return void 0!==r&&(a.colorSpace=r),t[e]=a,a})}assignFinalMaterial(t){const e=t.geometry;let i=t.material;const r=void 0===e.attributes.tangent,s=void 0!==e.attributes.color,a=void 0===e.attributes.normal;if(t.isPoints){const o="PointsMaterial:"+i.uuid;let c=this.cache.get(o);c||(c=new _M,Qa.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,c.sizeAttenuation=!1,this.cache.add(o,c)),i=c}else if(t.isLine){const o="LineBasicMaterial:"+i.uuid;let c=this.cache.get(o);c||(c=new Vs,Qa.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,this.cache.add(o,c)),i=c}if(r||s||a){let o="ClonedMaterial:"+i.uuid+":";r&&(o+="derivative-tangents:"),s&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let c=this.cache.get(o);c||(c=i.clone(),s&&(c.vertexColors=!0),a&&(c.flatShading=!0),r&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(o,c),this.associations.set(c,this.associations.get(i))),i=c}t.material=i}getMaterialType(){return B8}loadMaterial(t){const e=this,r=this.extensions,s=this.json.materials[t];let a;const o={},l=[];if((s.extensions||{})[En.KHR_MATERIALS_UNLIT]){const d=r[En.KHR_MATERIALS_UNLIT];a=d.getMaterialType(),l.push(d.extendParams(o,s,e))}else{const d=s.pbrMetallicRoughness||{};if(o.color=new ot(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;o.color.fromArray(f),o.opacity=f[3]}void 0!==d.baseColorTexture&&l.push(e.assignTexture(o,"map",d.baseColorTexture,Wt)),o.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,o.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(l.push(e.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),l.push(e.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),a=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(t)}),l.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(t,o)})))}!0===s.doubleSided&&(o.side=2);const u=s.alphaMode||"OPAQUE";if("BLEND"===u?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,"MASK"===u&&(o.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&a!==xa&&(l.push(e.assignTexture(o,"normalMap",s.normalTexture)),o.normalScale=new Ce(1,1),void 0!==s.normalTexture.scale)){const d=s.normalTexture.scale;o.normalScale.set(d,d)}return void 0!==s.occlusionTexture&&a!==xa&&(l.push(e.assignTexture(o,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(o.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&a!==xa&&(o.emissive=(new ot).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&a!==xa&&l.push(e.assignTexture(o,"emissiveMap",s.emissiveTexture,Wt)),Promise.all(l).then(function(){const d=new a(o);return s.name&&(d.name=s.name),G2(d,s),e.associations.set(d,{materials:t}),s.extensions&&M1(r,d,s),d})}createUniqueName(t){const e=di.sanitizeNodeName(t||"");return e in this.nodeNamesUsed?e+"_"+ ++this.nodeNamesUsed[e]:(this.nodeNamesUsed[e]=0,e)}loadGeometries(t){const e=this,i=this.extensions,r=this.primitiveCache;function s(o){return i[En.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,e).then(function(c){return z$(c,o,e)})}const a=[];for(let o=0,c=t.length;o<c;o++){const l=t[o],u=Ije(l),d=r[u];if(d)a.push(d.promise);else{let f;f=l.extensions&&l.extensions[En.KHR_DRACO_MESH_COMPRESSION]?s(l):z$(new vn,l,e),r[u]={primitive:l,promise:f},a.push(f)}}return Promise.all(a)}loadMesh(t){const e=this,r=this.extensions,s=this.json.meshes[t],a=s.primitives,o=[];for(let c=0,l=a.length;c<l;c++){const u=void 0===a[c].material?(void 0===(n=this.cache).DefaultMaterial&&(n.DefaultMaterial=new B8({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),n.DefaultMaterial):this.getDependency("material",a[c].material);o.push(u)}var n;return o.push(e.loadGeometries(a)),Promise.all(o).then(function(c){const l=c.slice(0,c.length-1),u=c[c.length-1],d=[];for(let h=0,p=u.length;h<p;h++){const v=u[h],g=a[h];let m;const C=l[h];if(g.mode===Sa.TRIANGLES||g.mode===Sa.TRIANGLE_STRIP||g.mode===Sa.TRIANGLE_FAN||void 0===g.mode)m=!0===s.isSkinnedMesh?new Tj(v,C):new es(v,C),!0===m.isSkinnedMesh&&m.normalizeSkinWeights(),g.mode===Sa.TRIANGLE_STRIP?m.geometry=k$(m.geometry,1):g.mode===Sa.TRIANGLE_FAN&&(m.geometry=k$(m.geometry,2));else if(g.mode===Sa.LINES)m=new gM(v,C);else if(g.mode===Sa.LINE_STRIP)m=new d1(v,C);else if(g.mode===Sa.LINE_LOOP)m=new zj(v,C);else{if(g.mode!==Sa.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);m=new Nj(v,C)}Object.keys(m.geometry.morphAttributes).length>0&&Lje(m,s),m.name=e.createUniqueName(s.name||"mesh_"+t),G2(m,s),g.extensions&&M1(r,m,g),e.assignFinalMaterial(m),d.push(m)}for(let h=0,p=d.length;h<p;h++)e.associations.set(d[h],{meshes:t,primitives:h});if(1===d.length)return s.extensions&&M1(r,d[0],s),d[0];const f=new O2;s.extensions&&M1(r,f,s),e.associations.set(f,{meshes:t});for(let h=0,p=d.length;h<p;h++)f.add(d[h]);return f})}loadCamera(t){let e;const i=this.json.cameras[t],r=i[i.type];if(r)return"perspective"===i.type?e=new Er(gW_radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===i.type&&(e=new _8(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(e.name=this.createUniqueName(i.name)),G2(e,i),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],i=[];for(let r=0,s=e.joints.length;r<s;r++)i.push(this._loadNodeShallow(e.joints[r]));return i.push(void 0!==e.inverseBindMatrices?this.getDependency("accessor",e.inverseBindMatrices):null),Promise.all(i).then(function(r){const s=r.pop(),a=r,o=[],c=[];for(let l=0,u=a.length;l<u;l++){const d=a[l];if(d){o.push(d);const f=new jt;null!==s&&f.fromArray(s.array,16*l),c.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[l])}return new S8(o,c)})}loadAnimation(t){const i=this,r=this.json.animations[t],s=r.name?r.name:"animation_"+t,a=[],o=[],c=[],l=[],u=[];for(let d=0,f=r.channels.length;d<f;d++){const h=r.channels[d],p=r.samplers[h.sampler],v=h.target,g=v.node,m=void 0!==r.parameters?r.parameters[p.input]:p.input,C=void 0!==r.parameters?r.parameters[p.output]:p.output;void 0!==v.node&&(a.push(this.getDependency("node",g)),o.push(this.getDependency("accessor",m)),c.push(this.getDependency("accessor",C)),l.push(p),u.push(v))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(c),Promise.all(l),Promise.all(u)]).then(function(d){const f=d[0],h=d[1],p=d[2],v=d[3],g=d[4],m=[];for(let C=0,b=f.length;C<b;C++){const T=f[C],E=h[C],L=p[C],k=v[C],O=g[C];if(void 0===T)continue;T.updateMatrix&&T.updateMatrix();const D=i._createAnimationTracks(T,E,L,k,O);if(D)for(let R=0;R<D.length;R++)m.push(D[R])}return new Eh(s,void 0,m)})}createNodeMesh(t){const i=this,r=this.json.nodes[t];return void 0===r.mesh?null:i.getDependency("mesh",r.mesh).then(function(s){const a=i._getNodeRef(i.meshCache,r.mesh,s);return void 0!==r.weights&&a.traverse(function(o){if(o.isMesh)for(let c=0,l=r.weights.length;c<l;c++)o.morphTargetInfluences[c]=r.weights[c]}),a})}loadNode(t){const i=this,r=this.json.nodes[t],s=i._loadNodeShallow(t),a=[],o=r.children||[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));const c=void 0===r.skin?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(a),c]).then(function(l){const u=l[0],d=l[1],f=l[2];null!==f&&u.traverse(function(h){!h.isSkinnedMesh||h.bind(f,Hje)});for(let h=0,p=d.length;h<p;h++)u.add(d[h]);return u})}_loadNodeShallow(t){const i=this.extensions,r=this;if(void 0!==this.nodeCache[t])return this.nodeCache[t];const s=this.json.nodes[t],a=s.name?r.createUniqueName(s.name):"",o=[],c=r._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(t)});return c&&o.push(c),void 0!==s.camera&&o.push(r.getDependency("camera",s.camera).then(function(l){return r._getNodeRef(r.cameraCache,s.camera,l)})),r._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(t)}).forEach(function(l){o.push(l)}),this.nodeCache[t]=Promise.all(o).then(function(l){let u;if(u=!0===s.isBone?new pM:l.length>1?new O2:1===l.length?l[0]:new Ar,u!==l[0])for(let d=0,f=l.length;d<f;d++)u.add(l[d]);if(s.name&&(u.userData.name=s.name,u.name=a),G2(u,s),s.extensions&&M1(i,u,s),void 0!==s.matrix){const d=new jt;d.fromArray(s.matrix),u.applyMatrix4(d)}else void 0!==s.translation&&u.position.fromArray(s.translation),void 0!==s.rotation&&u.quaternion.fromArray(s.rotation),void 0!==s.scale&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=t,u}),this.nodeCache[t]}loadScene(t){const e=this.extensions,i=this.json.scenes[t],r=this,s=new O2;i.name&&(s.name=r.createUniqueName(i.name)),G2(s,i),i.extensions&&M1(e,s,i);const a=i.nodes||[],o=[];for(let c=0,l=a.length;c<l;c++)o.push(r.getDependency("node",a[c]));return Promise.all(o).then(function(c){for(let u=0,d=c.length;u<d;u++)s.add(c[u]);return r.associations=(u=>{const d=new Map;for(const[f,h]of r.associations)(f instanceof Qa||f instanceof Ya)&&d.set(f,h);return u.traverse(f=>{const h=r.associations.get(f);null!=h&&d.set(f,h)}),d})(s),s})}_createAnimationTracks(t,e,i,r,s){const a=[],o=t.name?t.name:t.uuid,c=[];let l;switch(U2[s.path]===U2.weights?t.traverse(function(f){f.morphTargetInfluences&&c.push(f.name?f.name:f.uuid)}):c.push(o),U2[s.path]){case U2.weights:l=ru;break;case U2.rotation:l=m1;break;case U2.position:case U2.scale:l=au;break;default:l=1===i.itemSize?ru:au}const u=void 0!==r.interpolation?Dje[r.interpolation]:M4,d=this._getArrayFromAccessor(i);for(let f=0,h=c.length;f<h;f++){const p=new l(c[f]+"."+U2[s.path],e.array,d,u);"CUBICSPLINE"===r.interpolation&&this._createCubicSplineTrackInterpolant(p),a.push(p)}return a}_getArrayFromAccessor(t){let e=t.array;if(t.normalized){const i=ax(e.constructor),r=new Float32Array(e.length);for(let s=0,a=e.length;s<a;s++)r[s]=e[s]*i;e=r}return e}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(i){return new(this instanceof m1?Aje:V$)(this.times,this.values,this.getValueSize()/3,i)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function z$(n,t,e){const i=t.attributes,r=[];function s(a,o){return e.getDependency("accessor",a).then(function(c){n.setAttribute(o,c)})}for(const a in i){const o=ix[a]||a.toLowerCase();o in n.attributes||r.push(s(i[a],o))}if(void 0!==t.indices&&!n.index){const a=e.getDependency("accessor",t.indices).then(function(o){n.setIndex(o)});r.push(a)}return G2(n,t),function zje(n,t,e){const i=t.attributes,r=new ko;if(void 0===i.POSITION)return;{const o=e.json.accessors[i.POSITION],c=o.min,l=o.max;if(void 0===c||void 0===l)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(r.set(new P(c[0],c[1],c[2]),new P(l[0],l[1],l[2])),o.normalized){const u=ax(cu[o.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}const s=t.targets;if(void 0!==s){const o=new P,c=new P;for(let l=0,u=s.length;l<u;l++){const d=s[l];if(void 0!==d.POSITION){const f=e.json.accessors[d.POSITION],h=f.min,p=f.max;if(void 0!==h&&void 0!==p){if(c.setX(Math.max(Math.abs(h[0]),Math.abs(p[0]))),c.setY(Math.max(Math.abs(h[1]),Math.abs(p[1]))),c.setZ(Math.max(Math.abs(h[2]),Math.abs(p[2]))),f.normalized){const v=ax(cu[f.componentType]);c.multiplyScalar(v)}o.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(o)}n.boundingBox=r;const a=new Xa;r.getCenter(a.center),a.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=a}(n,t,e),Promise.all(r).then(function(){return void 0!==t.targets?function kje(n,t,e){let i=!1,r=!1,s=!1;for(let l=0,u=t.length;l<u;l++){const d=t[l];if(void 0!==d.POSITION&&(i=!0),void 0!==d.NORMAL&&(r=!0),void 0!==d.COLOR_0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const a=[],o=[],c=[];for(let l=0,u=t.length;l<u;l++){const d=t[l];if(i){const f=void 0!==d.POSITION?e.getDependency("accessor",d.POSITION):n.attributes.position;a.push(f)}if(r){const f=void 0!==d.NORMAL?e.getDependency("accessor",d.NORMAL):n.attributes.normal;o.push(f)}if(s){const f=void 0!==d.COLOR_0?e.getDependency("accessor",d.COLOR_0):n.attributes.color;c.push(f)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(c)]).then(function(l){const d=l[1],f=l[2];return i&&(n.morphAttributes.position=l[0]),r&&(n.morphAttributes.normal=d),s&&(n.morphAttributes.color=f),n.morphTargetsRelative=!0,n})}(n,t.targets,e):n})}const P$={type:"change"},ox={type:"start"},N$={type:"end"},K8=new V4,F$=new F2,Pje=Math.cos(70*gW_DEG2RAD);class Nje extends e1{constructor(t,e){super(),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new P,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(W){W.addEventListener("keydown",H),this._domElementKeyEvents=W},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",H),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(P$),i.update(),s=r.NONE},this.update=function(){const W=new P,De=(new Br).setFromUnitVectors(t.up,new P(0,1,0)),lt=De.clone().invert(),Ke=new P,ct=new Br,Zt=new P,kn=2*Math.PI;return function(){const it=i.object.position;W.copy(it).sub(i.target),W.applyQuaternion(De),o.setFromVector3(W),i.autoRotate&&s===r.NONE&&ie(function D(){return 2*Math.PI/60/60*i.autoRotateSpeed}()),i.enableDamping?(o.theta+=c.theta*i.dampingFactor,o.phi+=c.phi*i.dampingFactor):(o.theta+=c.theta,o.phi+=c.phi);let le=i.minAzimuthAngle,Pe=i.maxAzimuthAngle;isFinite(le)&&isFinite(Pe)&&(le<-Math.PI?le+=kn:le>Math.PI&&(le-=kn),Pe<-Math.PI?Pe+=kn:Pe>Math.PI&&(Pe-=kn),o.theta=le<=Pe?Math.max(le,Math.min(Pe,o.theta)):o.theta>(le+Pe)/2?Math.max(le,o.theta):Math.min(Pe,o.theta)),o.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,o.phi)),o.makeSafe(),!0===i.enableDamping?i.target.addScaledVector(u,i.dampingFactor):i.target.add(u),o.radius=oe(i.zoomToCursor&&L||i.object.isOrthographicCamera?o.radius:o.radius*l),W.setFromSpherical(o),W.applyQuaternion(lt),it.copy(i.target).add(W),i.object.lookAt(i.target),!0===i.enableDamping?(c.theta*=1-i.dampingFactor,c.phi*=1-i.dampingFactor,u.multiplyScalar(1-i.dampingFactor)):(c.set(0,0,0),u.set(0,0,0));let rt=!1;if(i.zoomToCursor&&L){let yn=null;if(i.object.isPerspectiveCamera){const Qn=W.length();yn=oe(Qn*l),i.object.position.addScaledVector(T,Qn-yn),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Qn=new P(E.x,E.y,0);Qn.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/l)),i.object.updateProjectionMatrix(),rt=!0;const gi=new P(E.x,E.y,0);gi.unproject(i.object),i.object.position.sub(gi).add(Qn),i.object.updateMatrixWorld(),yn=W.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;null!==yn&&(this.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(yn).add(i.object.position):(K8.origin.copy(i.object.position),K8.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(K8.direction))<Pje?t.lookAt(i.target):(F$.setFromNormalAndCoplanarPoint(i.object.up,i.target),K8.intersectPlane(F$,i.target))))}else i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/l)),i.object.updateProjectionMatrix(),rt=!0);return l=1,L=!1,!!(rt||Ke.distanceToSquared(i.object.position)>a||8*(1-ct.dot(i.object.quaternion))>a||Zt.distanceToSquared(i.target)>0)&&(i.dispatchEvent(P$),Ke.copy(i.object.position),ct.copy(i.object.quaternion),Zt.copy(i.target),rt=!1,!0)}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",He),i.domElement.removeEventListener("pointerdown",pt),i.domElement.removeEventListener("pointercancel",Ut),i.domElement.removeEventListener("wheel",B),i.domElement.removeEventListener("pointermove",bt),i.domElement.removeEventListener("pointerup",Ut),null!==i._domElementKeyEvents&&(i._domElementKeyEvents.removeEventListener("keydown",H),i._domElementKeyEvents=null)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const a=1e-6,o=new b$,c=new b$;let l=1;const u=new P,d=new Ce,f=new Ce,h=new Ce,p=new Ce,v=new Ce,g=new Ce,m=new Ce,C=new Ce,b=new Ce,T=new P,E=new Ce;let L=!1;const k=[],O={};function R(){return Math.pow(.95,i.zoomSpeed)}function ie(W){c.theta-=W}function ge(W){c.phi-=W}const Q=function(){const W=new P;return function(lt,Ke){W.setFromMatrixColumn(Ke,0),W.multiplyScalar(-lt),u.add(W)}}(),J=function(){const W=new P;return function(lt,Ke){!0===i.screenSpacePanning?W.setFromMatrixColumn(Ke,1):(W.setFromMatrixColumn(Ke,0),W.crossVectors(i.object.up,W)),W.multiplyScalar(lt),u.add(W)}}(),se=function(){const W=new P;return function(lt,Ke){const ct=i.domElement;if(i.object.isPerspectiveCamera){W.copy(i.object.position).sub(i.target);let kn=W.length();kn*=Math.tan(i.object.fov/2*Math.PI/180),Q(2*lt*kn/ct.clientHeight,i.object.matrix),J(2*Ke*kn/ct.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(Q(lt*(i.object.right-i.object.left)/i.object.zoom/ct.clientWidth,i.object.matrix),J(Ke*(i.object.top-i.object.bottom)/i.object.zoom/ct.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function X(W){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?l/=W:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Z(W){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?l*=W:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function te(W){if(!i.zoomToCursor)return;L=!0;const De=i.domElement.getBoundingClientRect(),Ke=W.clientY-De.top,Zt=De.height;E.x=(W.clientX-De.left)/De.width*2-1,E.y=-Ke/Zt*2+1,T.set(E.x,E.y,1).unproject(t).sub(t.position).normalize()}function oe(W){return Math.max(i.minDistance,Math.min(i.maxDistance,W))}function Me(W){d.set(W.clientX,W.clientY)}function pe(W){p.set(W.clientX,W.clientY)}function ht(){1===k.length?d.set(k[0].pageX,k[0].pageY):d.set(.5*(k[0].pageX+k[1].pageX),.5*(k[0].pageY+k[1].pageY))}function Bt(){1===k.length?p.set(k[0].pageX,k[0].pageY):p.set(.5*(k[0].pageX+k[1].pageX),.5*(k[0].pageY+k[1].pageY))}function fn(){const W=k[0].pageX-k[1].pageX,De=k[0].pageY-k[1].pageY,lt=Math.sqrt(W*W+De*De);m.set(0,lt)}function We(W){if(1==k.length)f.set(W.pageX,W.pageY);else{const lt=fe(W);f.set(.5*(W.pageX+lt.x),.5*(W.pageY+lt.y))}h.subVectors(f,d).multiplyScalar(i.rotateSpeed);const De=i.domElement;ie(2*Math.PI*h.x/De.clientHeight),ge(2*Math.PI*h.y/De.clientHeight),d.copy(f)}function Se(W){if(1===k.length)v.set(W.pageX,W.pageY);else{const De=fe(W);v.set(.5*(W.pageX+De.x),.5*(W.pageY+De.y))}g.subVectors(v,p).multiplyScalar(i.panSpeed),se(g.x,g.y),p.copy(v)}function Oe(W){const De=fe(W),lt=W.pageX-De.x,Ke=W.pageY-De.y,ct=Math.sqrt(lt*lt+Ke*Ke);C.set(0,ct),b.set(0,Math.pow(C.y/m.y,i.zoomSpeed)),X(b.y),m.copy(C)}function pt(W){!1!==i.enabled&&(0===k.length&&(i.domElement.setPointerCapture(W.pointerId),i.domElement.addEventListener("pointermove",bt),i.domElement.addEventListener("pointerup",Ut)),function Be(W){k.push(W)}(W),"touch"===W.pointerType?function ce(W){switch(Ue(W),k.length){case 1:switch(i.touches.ONE){case 0:if(!1===i.enableRotate)return;ht(),s=r.TOUCH_ROTATE;break;case 1:if(!1===i.enablePan)return;Bt(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(i.touches.TWO){case 2:if(!1===i.enableZoom&&!1===i.enablePan)return;(function At(){i.enableZoom&&fn(),i.enablePan&&Bt()})(),s=r.TOUCH_DOLLY_PAN;break;case 3:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function G(){i.enableZoom&&fn(),i.enableRotate&&ht()})(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(ox)}(W):function Cn(W){let De;switch(W.button){case 0:De=i.mouseButtons.LEFT;break;case 1:De=i.mouseButtons.MIDDLE;break;case 2:De=i.mouseButtons.RIGHT;break;default:De=-1}switch(De){case 1:if(!1===i.enableZoom)return;(function ee(W){te(W),m.set(W.clientX,W.clientY)})(W),s=r.DOLLY;break;case 0:if(W.ctrlKey||W.metaKey||W.shiftKey){if(!1===i.enablePan)return;pe(W),s=r.PAN}else{if(!1===i.enableRotate)return;Me(W),s=r.ROTATE}break;case 2:if(W.ctrlKey||W.metaKey||W.shiftKey){if(!1===i.enableRotate)return;Me(W),s=r.ROTATE}else{if(!1===i.enablePan)return;pe(W),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(ox)}(W))}function bt(W){!1!==i.enabled&&("touch"===W.pointerType?function Fe(W){switch(Ue(W),s){case r.TOUCH_ROTATE:if(!1===i.enableRotate)return;We(W),i.update();break;case r.TOUCH_PAN:if(!1===i.enablePan)return;Se(W),i.update();break;case r.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function ke(W){i.enableZoom&&Oe(W),i.enablePan&&Se(W)})(W),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function kt(W){i.enableZoom&&Oe(W),i.enableRotate&&We(W)})(W),i.update();break;default:s=r.NONE}}(W):function Mi(W){switch(s){case r.ROTATE:if(!1===i.enableRotate)return;!function ze(W){f.set(W.clientX,W.clientY),h.subVectors(f,d).multiplyScalar(i.rotateSpeed);const De=i.domElement;ie(2*Math.PI*h.x/De.clientHeight),ge(2*Math.PI*h.y/De.clientHeight),d.copy(f),i.update()}(W);break;case r.DOLLY:if(!1===i.enableZoom)return;!function Ee(W){C.set(W.clientX,W.clientY),b.subVectors(C,m),b.y>0?X(R()):b.y<0&&Z(R()),m.copy(C),i.update()}(W);break;case r.PAN:if(!1===i.enablePan)return;!function Ye(W){v.set(W.clientX,W.clientY),g.subVectors(v,p).multiplyScalar(i.panSpeed),se(g.x,g.y),p.copy(v),i.update()}(W)}}(W))}function Ut(W){(function Dt(W){delete O[W.pointerId];for(let De=0;De<k.length;De++)if(k[De].pointerId==W.pointerId)return void k.splice(De,1)})(W),0===k.length&&(i.domElement.releasePointerCapture(W.pointerId),i.domElement.removeEventListener("pointermove",bt),i.domElement.removeEventListener("pointerup",Ut)),i.dispatchEvent(N$),s=r.NONE}function B(W){!1===i.enabled||!1===i.enableZoom||s!==r.NONE||(W.preventDefault(),i.dispatchEvent(ox),function _t(W){te(W),W.deltaY<0?Z(R()):W.deltaY>0&&X(R()),i.update()}(W),i.dispatchEvent(N$))}function H(W){!1===i.enabled||!1===i.enablePan||function nt(W){let De=!1;switch(W.code){case i.keys.UP:W.ctrlKey||W.metaKey||W.shiftKey?ge(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):se(0,i.keyPanSpeed),De=!0;break;case i.keys.BOTTOM:W.ctrlKey||W.metaKey||W.shiftKey?ge(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):se(0,-i.keyPanSpeed),De=!0;break;case i.keys.LEFT:W.ctrlKey||W.metaKey||W.shiftKey?ie(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):se(i.keyPanSpeed,0),De=!0;break;case i.keys.RIGHT:W.ctrlKey||W.metaKey||W.shiftKey?ie(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):se(-i.keyPanSpeed,0),De=!0}De&&(W.preventDefault(),i.update())}(W)}function He(W){!1!==i.enabled&&W.preventDefault()}function Ue(W){let De=O[W.pointerId];void 0===De&&(De=new Ce,O[W.pointerId]=De),De.set(W.pageX,W.pageY)}function fe(W){return O[(W.pointerId===k[0].pointerId?k[1]:k[0]).pointerId]}i.domElement.addEventListener("contextmenu",He),i.domElement.addEventListener("pointerdown",pt),i.domElement.addEventListener("pointercancel",Ut),i.domElement.addEventListener("wheel",B,{passive:!1}),this.update()}}const Fje=["modelContainer"];let Oje=(()=>{class n{ngOnInit(){this.initScene()}initScene(){const e=new mj,i=new Er(75,window.innerWidth/window.innerHeight,.1,1e3),r=new pj;r.setPixelRatio(window.devicePixelRatio),r.setSize(window.innerWidth,window.innerHeight),this.modelContainer.nativeElement.appendChild(r.domElement),r.setClearColor(1513239);const s=new l$(16777215,.9);e.add(s);const a=new qM(16777215,1);a.position.set(1,1,1),e.add(a);const o=new i$(16777215,0,.4);e.add(o);const c=new rje,l=new Nje(i,r.domElement);i.position.set(0,0,250),i.lookAt(0,0,0),l.update(),c.load("assets/death_star_-_star_wars/scene.gltf",d=>{e.add(d.scene)});const u=()=>{requestAnimationFrame(u),r.render(e,i),l.update()};u()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["app-model-viewer"]],viewQuery:function(e,i){if(1&e&&Ln(Fje,7),2&e){let r;vt(r=yt())&&(i.modelContainer=r.first)}},decls:2,vars:0,consts:[[1,"model-container"],["modelContainer",""]],template:function(e,i){1&e&&Re(0,"div",0,1)},styles:[".model-container[_ngcontent-%COMP%]{width:100%;height:100%}"]}),n})();const Bje=["targetSection1"],Uje=["targetSection2"],Gje=["targetSection3"];function Wje(n,t){if(1&n&&(I(0,"div",35),Re(1,"canvas",36),V()),2&n){const e=ue(2);Y(1),U("type","pie")("datasets",e.pieChartDatasets)("labels",e.pieChartLabels)("options",e.pieChartOptions)("legend",e.pieChartLegend)}}function jje(n,t){if(1&n&&(I(0,"div",42),K(1),V()),2&n){const e=t.$implicit;Y(1),as(" ",e," ")}}function $je(n,t){if(1&n&&(I(0,"div",42),K(1),V()),2&n){const e=t.$implicit;Y(1),as(" ",e," ")}}function qje(n,t){if(1&n){const e=fi();I(0,"div",37)(1,"mat-accordion",38)(2,"mat-expansion-panel",39),ve("opened",function(){return dt(e),ft(ue(2).panelOpenState=!0)})("closed",function(){return dt(e),ft(ue(2).panelOpenState=!1)}),I(3,"mat-expansion-panel-header")(4,"mat-panel-title"),K(5," Tweets classified positively "),V()(),I(6,"div")(7,"mat-paginator",40),ve("page",function(r){return dt(e),ft(ue(2).changePage(r,"positive"))}),V(),Le(8,jje,2,1,"div",41),V()(),I(9,"mat-expansion-panel",39),ve("opened",function(){return dt(e),ft(ue(2).panelOpenState=!0)})("closed",function(){return dt(e),ft(ue(2).panelOpenState=!1)}),I(10,"mat-expansion-panel-header")(11,"mat-panel-title"),K(12," Tweets classified negatively "),V()(),I(13,"div")(14,"mat-paginator",40),ve("page",function(r){return dt(e),ft(ue(2).changePage(r,"negative"))}),V(),Le(15,$je,2,1,"div",41),V()()()()}if(2&n){const e=ue(2);Y(7),U("length",e.posNumber)("pageSize",50),Y(1),U("ngForOf",e.currPositiveTweets),Y(6),U("length",e.negNumber)("pageSize",50),Y(1),U("ngForOf",e.currNegativeTweets)}}function Yje(n,t){if(1&n){const e=fi();I(0,"div")(1,"div",4)(2,"span"),K(3,"Tweet Analyzer : Using Key word"),V()(),I(4,"div",5),K(5," App allows us to find the people's sentiment regarding something by parsing the tweets based on the key term. Only tweets from last 7 days can be parsed as the app is using twitter API with only essential access. We can also choose how many tweets to analyze (Default is 500). It can be increased, but request will take longer duration. As I only have essential level access to Twitter API, the app can only parse tweets from last 7 days. "),V(),I(6,"div",6)(7,"div",7)(8,"div",8)(9,"div")(10,"mat-form-field",9)(11,"mat-label"),K(12,"Key word*"),V(),I(13,"input",10),ve("ngModelChange",function(r){return dt(e),ft(ue().inputReddit=r)}),V()(),I(14,"div",11)(15,"div",12),K(16," Filter by Date: "),V(),I(17,"mat-form-field",13)(18,"mat-label"),K(19,"From"),V(),I(20,"input",14),ve("ngModelChange",function(r){return dt(e),ft(ue().fromDate=r)}),V(),Re(21,"mat-datepicker-toggle",15)(22,"mat-datepicker",null,16),V(),I(24,"mat-form-field",13)(25,"mat-label"),K(26,"To"),V(),I(27,"input",14),ve("ngModelChange",function(r){return dt(e),ft(ue().toDate=r)}),V(),Re(28,"mat-datepicker-toggle",15)(29,"mat-datepicker",null,17),V(),Re(31,"mat-divider",18),I(32,"div",19)(33,"mat-form-field",20)(34,"mat-label"),K(35,"Maximum Tweets to parse"),V(),I(36,"input",21),ve("ngModelChange",function(r){return dt(e),ft(ue().maximum=r)})("ngModelChange",function(r){return dt(e),ft(ue().maxChanged(r))}),V()()()()()(),I(37,"div",22)(38,"div")(39,"button",23),ve("click",function(){dt(e);const r=ue();return ft(r.maximum<=5e3?r.getData():r.countError=!0)}),K(40,"Find"),V()()(),I(41,"div",24),Re(42,"sa-spinner-dotted",25),V()()(),I(43,"div",26)(44,"h1"),K(45," Attention : Due to recent changes in Twitter API, the app cannot search for tweets. To search tweets based on keyword, one needs to have "),I(46,"b"),K(47,"basic"),V(),K(48," tier of twitter API and that costs $100 per month. I made this project so that I can show my skills in ML and full stack development, which can help in my job search. So, I'm not going to pay API fees. Below is a video of how the app used to work. "),V()(),Re(49,"app-mini-player"),I(50,"div",27),Re(51,"h1",28),I(52,"div",29)(53,"h2"),K(54,"TweetSearch"),V()(),Re(55,"img",30),I(56,"div",31)(57,"ul")(58,"li"),K(59,"The classification of tweets into postive and negative sentiments is done by using a logistic regression model trained on 1.6 million tweet dataset."),V(),I(60,"li"),K(61,"Later, the model has been imported into a flask app that is now running using Azure functions."),V(),I(62,"li"),K(63,"A nodeJS function is used to pull the data from the twitter API, and push it to flask function. Flask function returns with predictions."),V(),I(64,"li"),K(65,"Tweets are segragated and the data is shown using pie chart on the client browser using Angular."),V()()()(),Le(66,Wje,2,5,"div",32),Le(67,qje,16,6,"div",33),Re(68,"div",34),V()}if(2&n){const e=ki(23),i=ki(30),r=ue();Y(13),U("ngModel",r.inputReddit),Y(7),U("min",r.minDate)("max",r.maxDate)("matDatepicker",e)("ngModel",r.fromDate),Y(1),U("for",e),Y(6),U("min",r.fromDate?r.fromDate:r.minDate)("max",r.maxDate)("matDatepicker",i)("ngModel",r.toDate),Y(1),U("for",i),Y(3),U("vertical",!0),Y(5),U("ngModel",r.maximum),Y(5),U("ngClass",r.isCall?"show-class":"hide-class"),Y(1),U("enabled",!0)("color","#000000"),Y(24),U("ngIf",r.done&&!r.isCall),Y(1),U("ngIf",r.done&&!r.isCall)}}function Xje(n,t){1&n&&(I(0,"div",27)(1,"div",29)(2,"h2"),K(3,"TweetSearch"),V()(),Re(4,"img",30),I(5,"div",31)(6,"ul")(7,"li"),K(8,"The classification of tweets into postive and negative sentiments is done by using a logistic regression model trained on 1.6 million tweet dataset."),V(),I(9,"li"),K(10,"Later, the model has been imported into a flask app that is now running using Azure functions."),V(),I(11,"li"),K(12,"A nodeJS function is used to pull the data from the twitter API, and push it to flask function. Flask function returns with predictions."),V(),I(13,"li"),K(14,"Tweets are segragated and the data is shown using pie chart on the client browser using Angular."),V()()()())}function Kje(n,t){if(1&n&&(T3(0),Re(1,"app-typing-animation",66),A3()),2&n){const e=ue(2);Y(1),U("textToType",e.textToType2)("showCursor",!0)}}function Zje(n,t){if(1&n){const e=fi();I(0,"div",43)(1,"div",34)(2,"div",44)(3,"img",45),ve("click",function(){return dt(e),ft(ue().link("github"))}),V(),I(4,"img",46),ve("click",function(){return dt(e),ft(ue().link("linkedin"))}),V()(),I(5,"div",47)(6,"mat-toolbar-row")(7,"div",48)(8,"button",49),ve("click",function(){return dt(e),ft(ue().scrollToSection(1))}),I(9,"span",50)(10,"mat-icon",51),K(11,"account_circle"),V(),I(12,"span",52),K(13,"About"),V()(),Re(14,"span",53)(15,"span",54),V(),I(16,"button",55)(17,"span",56),ve("click",function(){return dt(e),ft(ue().scrollToSection(2))}),I(18,"mat-icon",51),K(19,"timeline"),V(),I(20,"span",57),K(21,"Projects"),V()(),Re(22,"span",53)(23,"span",54),V(),I(24,"button",58),ve("click",function(){return dt(e),ft(ue().scrollToSection(3))}),I(25,"span",50)(26,"mat-icon",51),K(27,"engineering"),V(),I(28,"span",57),K(29,"Skills"),V()(),Re(30,"span",53)(31,"span",54),V(),I(32,"button",59),ve("click",function(){return dt(e),ft(ue().downloadResume())}),I(33,"span",50)(34,"mat-icon",51),K(35,"article"),V(),I(36,"span",57),K(37,"Resume"),V()(),Re(38,"span",53)(39,"span",54),V(),I(40,"button",59),ve("click",function(){return dt(e),ft(ue().homeService.type="home")}),I(41,"span",50),Re(42,"i",60),I(43,"span",57),K(44,"TweetSearch Project"),V()(),Re(45,"span",53)(46,"span",54),V()()()(),I(47,"div",8)(48,"div",61)(49,"div",62)(50,"app-typing-animation",63),ve("animationDone",function(r){return dt(e),ft(ue().onAnimationDone(r))}),V(),Re(51,"br"),V(),Le(52,Kje,2,2,"ng-container",0),V(),I(53,"div",64),Re(54,"app-model-viewer"),V()(),I(55,"div"),Re(56,"div",65),V()()()}if(2&n){const e=ue();Y(50),U("textToType",e.textToType1)("showCursor",e.showCursor1),Y(2),U("ngIf",e.animationDone)}}function Qje(n,t){if(1&n){const e=fi();I(0,"div",67,68),Re(2,"div",69),I(3,"mat-card",70)(4,"mat-card-header")(5,"mat-card-title",71),K(6,"About Me"),V()(),I(7,"mat-card-content")(8,"div",72)(9,"div",73)(10,"div")(11,"mat-card",74)(12,"mat-card-content",75)(13,"p"),K(14,"I'm a graduate CS student at UTD."),V(),I(15,"p"),K(16,"I will be graduating in May 2024, and I am currently looking for Full-Time roles."),V(),I(17,"p"),K(18,"In my free time, I love to play Strategy and FPS games and love reading history books."),V()()()()(),I(19,"div",76)(20,"div",77)(21,"mzd-timeline",78)(22,"mzd-icon"),Re(23,"fa-icon",79),V(),I(24,"mzd-timeline-content",80)(25,"div",81),K(26,"Master of Science in Computer Science (Aug 2022 - May 2024)"),V(),I(27,"div",82),K(28,"The University of Texas at Dallas"),V(),I(29,"div"),K(30,"CGPA: 3.8/4.0"),V(),I(31,"div"),K(32,"Relevant Courses: Statistical Methods for Data Science, Computer Vision, Machine Learning, Artificial Intelligence."),V()(),I(33,"mzd-icon"),Re(34,"fa-icon",79),V(),I(35,"mzd-timeline-content",80)(36,"div",81),K(37,"Software Developer (July 2021 - July 2022) "),V(),I(38,"div",82),K(39,"Software Developer Intern (Aug 2020 - Dec 2020)"),V(),I(40,"div",82),K(41,"ShopConnect.live, Banglore, India"),V(),I(42,"div"),K(43,"Worked on developing a video-call based e-commerce application. Developed the Application using Angular, NodeJS, MongoDB, Springboot, and AWS. Applied ML techniques to optimize the workflows. Integrated Instagram Graph API to publish and moderate content on the user\u2019s Instagram profile in less than 5 seconds. Improved the overall performance by reducing the latency of more than 20 APIs. "),V()(),I(44,"mzd-icon"),Re(45,"fa-icon",79),V(),I(46,"mzd-timeline-content",80)(47,"div",81),K(48,"Bachelor of Technology in Computer Science (Aug 2017 - May 2021)"),V(),I(49,"div",82),K(50,"The Indian Institute of Information Technology, Sri City, India"),V(),K(51," Relevant Courses: Deep Learning, Natural Language Processing, High Performance Computing, Data Analytics, Computer Vision, Machine Learning. "),V()()()(),Re(52,"br"),V()()(),I(53,"div",null,83)(55,"mat-card",70)(56,"mat-card-header")(57,"mat-card-title",71),K(58,"Projects"),V()(),I(59,"mat-card-content")(60,"div",84)(61,"div",85)(62,"div",86)(63,"div",87),Re(64,"img",88),V(),I(65,"div",89),K(66,"Summarize - A Google Workspace Addon "),I(67,"div",90)(68,"mat-chip-list",91)(69,"mat-chip"),K(70,"Google Cloud Platform"),V(),I(71,"mat-chip"),K(72,"JavaScript"),V(),I(73,"mat-chip"),K(74,"Cohere"),V()()()()(),I(75,"div",92)(76,"button",93),ve("click",function(){return dt(e),ft(ue().openLink("https://github.com/Sri-harsha99/Summarize"))}),K(77,"Code"),V()(),I(78,"div"),K(79," Built a publicly available add-on service that integrates Google Docs, and Gmail with Cohere API.\nDeployed using Google Cloud Platform, Generate, and summarize the content on docs and draft AI-generated replies on\nGmail with one click. "),V()(),I(80,"div",85)(81,"div",86)(82,"div",87),Re(83,"i",94),V(),I(84,"div",89),K(85,"TweetSearch "),I(86,"div",90)(87,"mat-chip-list",91)(88,"mat-chip"),K(89,"Azure"),V(),I(90,"mat-chip"),K(91,"Twitter API"),V(),I(92,"mat-chip"),K(93,"Scikit-Learn"),V(),I(94,"mat-chip"),K(95,"Flask"),V(),I(96,"mat-chip"),K(97,"Angular"),V()()()()(),I(98,"div",92)(99,"button",93),ve("click",function(){return dt(e),ft(ue().changeView())}),K(100,"Demo"),V(),I(101,"button",93),ve("click",function(){return dt(e),ft(ue().openLink("https://github.com/Sri-harsha99/Twitter-server"))}),K(102,"Code"),V()(),I(103,"div"),K(104," Trained a machine learning model to classify tweets as positive or negative using 1.6M tweets. Pulled the latest tweets containing a keyword using Twitter 2.0 API and sent the data to Azure Fuction which hosts the model as a web service. Deployed a Flask app to create a REST API to interact with the model and used Angular to create a web app to interact with the API. "),V()(),I(105,"div",85)(106,"div",86)(107,"div",87),Re(108,"img",95),V(),I(109,"div",89),K(110,"Curate News "),I(111,"div",90)(112,"mat-chip-list",91)(113,"mat-chip"),K(114,"NLP"),V(),I(115,"mat-chip"),K(116,"NLTK"),V(),I(117,"mat-chip"),K(118,"MySQL"),V(),I(119,"mat-chip"),K(120,"Web Crawler"),V()()()()(),I(121,"div",92)(122,"button",93),ve("click",function(){return dt(e),ft(ue().openLink("https://sri-harsha99.github.io/post/chapter-3/"))}),K(123,"About"),V(),I(124,"button",93),ve("click",function(){return dt(e),ft(ue().openLink("https://github.com/Sri-harsha99/360-degree-view-of-news"))}),K(125,"Code"),V()(),I(126,"div"),K(127," Information retrieval project, where NLP is used to find how a particular news is portrayed by different newspaper mediums. Scraped the articles from 4 major news outlets and used NLTK module for tokenization stored the corpus in MySQL DB. Applied various NLP techniques to find the similarity between the articles. "),V()(),I(128,"div",85)(129,"div",86)(130,"div",87),Re(131,"img",96),V(),I(132,"div",89),K(133,"Orphanage Management System "),I(134,"div",90)(135,"mat-chip-list",91)(136,"mat-chip"),K(137,"Meta Graph API"),V(),I(138,"mat-chip"),K(139,"Django"),V(),I(140,"mat-chip"),K(141,"MySQL"),V(),I(142,"mat-chip"),K(143,"RESTful API"),V()()()()(),I(144,"div",92)(145,"button",93),ve("click",function(){return dt(e),ft(ue().openLink("https://github.com/Sri-harsha99/Orphanage-management-system"))}),K(146,"Code"),V()(),I(147,"div"),K(148," A medium where orphanages and individual donors can interact. Integrated Paypal so that donars can send donations. Used Meta Graph API to embed orphanage's posts from Facebook. Done using Django as web-framework and MySQL as database. "),V()(),I(149,"div",85)(150,"div",86)(151,"div",87),Re(152,"img",97),V(),I(153,"div",89),K(154,"GAN "),I(155,"div",90)(156,"mat-chip-list",91)(157,"mat-chip"),K(158,"TensorFlow"),V(),I(159,"mat-chip"),K(160,"Python"),V()()()()(),I(161,"div",92)(162,"button",93),ve("click",function(){return dt(e),ft(ue().openLink("https://sri-harsha99.github.io/post/chapter-1/"))}),K(163,"About"),V(),I(164,"button",93),ve("click",function(){return dt(e),ft(ue().openLink("https://colab.research.google.com/drive/1VWoGGWx_G4I-EKejThpggesRo9M8RqOq?usp=sharing"))}),K(165,"Demo"),V(),I(166,"button",93),ve("click",function(){return dt(e),ft(ue().openLink("https://github.com/Sri-harsha99/GAN"))}),K(167,"Code"),V()(),I(168,"div"),K(169," Worked on a Generative Adversarial Network model to generate fake human faces. Used Tensorflow to build the model and used a Faces94 dataset for human faces. "),I(170,"a",98),K(171,"Link"),V()()(),I(172,"div",99)(173,"div",86)(174,"div",87),Re(175,"img",100),V(),I(176,"div",89),K(177,"EDA on Austrailian Weather Data "),I(178,"div",90)(179,"mat-chip-list",91)(180,"mat-chip"),K(181,"Scikit-learn"),V(),I(182,"mat-chip"),K(183,"Seaborn"),V(),I(184,"mat-chip"),K(185,"Data Anaysis"),V()()()()(),I(186,"div",92)(187,"button",93),ve("click",function(){return dt(e),ft(ue().openLink("https://colab.research.google.com/drive/1CK43w6U8vj9HrwZ5vTPrGj0Btp8cb90O?usp=sharing"))}),K(188,"Demo"),V(),I(189,"button",93),ve("click",function(){return dt(e),ft(ue().openLink("https://github.com/Sri-harsha99/Australian-Weather-EDA"))}),K(190,"Code"),V()(),I(191,"div"),K(192," Applied EDA on Austrailian weather data to find the correlation between the weather and the rainfall. Used Seaborn and Scikit-learn to visualize the data and find the correlation. "),V()()()()()(),I(193,"div",null,101)(195,"mat-card",70)(196,"mat-card-header")(197,"mat-card-title",71),K(198,"Skills"),V()(),I(199,"mat-card-content")(200,"div",84)(201,"div",85)(202,"div",86)(203,"div",102),Re(204,"i",103),V(),I(205,"div"),K(206,"Languages"),V()(),I(207,"div",92)(208,"button",104),K(209,"Python"),V(),I(210,"button",104),K(211,"Java"),V(),I(212,"button",104),K(213,"C++"),V(),I(214,"button",104),K(215,"JavaScript"),V(),I(216,"button",104),K(217,"TypeScript"),V(),I(218,"button",104),K(219,"SQL"),V()()(),I(220,"div",85)(221,"div",86)(222,"div",102),Re(223,"i",105),V(),I(224,"div"),K(225,"Machine Learning"),V()(),I(226,"div",92)(227,"button",104),K(228,"TensorFlow"),V(),I(229,"button",104),K(230,"PyTorch"),V(),I(231,"button",104),K(232,"Keras"),V(),I(233,"button",104),K(234,"Scikit-Learn"),V(),I(235,"button",104),K(236,"NLTK"),V()()(),I(237,"div",85)(238,"div",86)(239,"div",102),Re(240,"i",106),V(),I(241,"div"),K(242,"Front-End"),V()(),I(243,"div",92)(244,"button",104),K(245,"Angular"),V(),I(246,"button",104),K(247,"ReactJS"),V(),I(248,"button",104),K(249,"HTML"),V(),I(250,"button",104),K(251,"CSS"),V(),I(252,"button",104),K(253,"Bootstrap"),V()()(),I(254,"div",85)(255,"div",86)(256,"div",102),Re(257,"i",107),V(),I(258,"div"),K(259,"Back-End"),V()(),I(260,"div",92)(261,"button",104),K(262,"NodeJS"),V(),I(263,"button",104),K(264,"Spring Boot"),V(),I(265,"button",104),K(266,"MongoDB"),V(),I(267,"button",104),K(268,"Flask"),V(),I(269,"button",104),K(270,"Django"),V(),I(271,"button",104),K(272,"Docker"),V()()(),I(273,"div",85)(274,"div",86)(275,"div",102),Re(276,"i",108),V(),I(277,"div"),K(278,"Data Anaysis"),V()(),I(279,"div",92)(280,"button",104),K(281,"Numpy"),V(),I(282,"button",104),K(283,"Pandas"),V(),I(284,"button",104),K(285,"MATLAB"),V()()(),I(286,"div",85)(287,"div",86)(288,"div",102),Re(289,"i",109),V(),I(290,"div"),K(291,"Methodologies"),V()(),I(292,"div",92)(293,"button",104),K(294,"Agile"),V(),I(295,"button",104),K(296,"Scrum"),V(),I(297,"button",104),K(298,"Kanban"),V()()()()()()()()}if(2&n){const e=ue();Y(21),U("alternateSide",!1)("firstContentSide","right"),Y(2),U("icon",e.faGraduationCap),Y(11),U("icon",e.faBriefcase),Y(11),U("icon",e.faGraduationCap)}}let Jje=(()=>{class n{constructor(e,i){this.http=e,this.homeService=i,this.inputReddit="",this.from="",this.showCursor1=!0,this.to="",this.fileUrl="assets/HarshaMaddiralaResume.pdf",this.fileName="HarshaResume.pdf",this.done=!1,this.panelOpenState=!1,this.faBriefcase=qB,this.faGraduationCap=Uy,this.faDatabase=QB,this.faDownload=JF,this.isCall=!1,this.textToType1="Hello there, I'm Harsha Maddirala",this.textToType2="Graduate CS Student | Software Developer",this.aboutMeText="A long time ago in a galaxy far, far away... A long time ago in a galaxy far, far away...\n\n  In a city known as Dallas, in the state of Texas, a journey of knowledge and ambition began. A young and determined individual set forth on a path of learning. This individual, with a passion for technology and innovation, embarked on a mission to master the realm of Computer Science.\n  \n  Under the banner of UT Dallas, the seeker of wisdom, armed with perseverance and dedication, joined the hallowed halls of academia. The academic year of 2022 brought new challenges and opportunities, and our hero embraced them with unwavering resolve.\n  \n  But this journey was not the first of its kind. In a distant land named Bangalore, India, our hero had previously ventured into the realm of professional software engineering. In the vibrant world of a growth startup named ShopConnect, a product was forged\u2014 a beacon of e-commerce. Our hero, a vital cog in the development engine, contributed tirelessly to the creation of this digital marketplace.\n  \n  Days turned into months, and months into years. With each passing moment, experience was gained, friendships formed, and skills honed. The lessons from ShopConnect were etched into the annals of the hero's journey.\n  \n  Now, with the year 2024 looming on the horizon, the time has come for our protagonist to take the next step. Master's degree is within reach. Armed with newfound knowledge, experience, and aspirations, the hero gazes towards the future. He is looking for your help in his quest towards triumph.",this.animationDone=!1,this.maximum=500,this.currPositiveTweets=[],this.currNegativeTweets=[],this.positiveTweets=[],this.negativeTweets=[],this.countError=!1,this.nodeURL="https://serverless-tweet.azurewebsites.net/api/HttpTrigger3?code=7J111qj4uroIibIKhVlrOnXLA6IWqu2kPCj7IGL_azqMAzFunK1Y2Q==",this.pieChartLabels=[["Negative"],["Positive"]],this.pieChartDatasets=[{data:[300,500]}],this.destroy$=new Xe,this.pieChartLegend=!0,this.fromFilter=r=>{const s=(r||new Date).getDay();return 0!==s&&6!==s},this.toFilter=r=>{const s=(r||new Date).getDay();return 0!==s&&6!==s},this.animated=!1,this.minDate=new Date(Date.now()-6048e5),this.maxDate=new Date,this.toMinDate=new Date(Date.now()-6048e5)}ngOnInit(){this.homeService.run.subscribe(e=>{this.ngAfterViewInit()})}onScroll(){const e=window.scrollY||document.documentElement.scrollTop;e>300&&!this.animated?(this.animated=!0,document.querySelector(".crawl").classList.add("crawl-animated")):e<=300&&this.animated&&(this.animated=!1,document.querySelector(".crawl").classList.remove("crawl-animated"))}onAnimationDone(e){this.animationDone=!0,this.showCursor1=!1}ngAfterViewInit(){const e=document.querySelector(".white-spot");window.addEventListener("scroll",()=>{const i=window.pageYOffset||document.documentElement.scrollTop,r=window.innerHeight;if(window,console.log(e.style.borderRadius),i<=r){const a=1+i/r*20;e.style.borderRadius=50-i/r*50+"%",""===e.style.width&&(e.style.width="0"),e.style.width=100*a+"px",e.style.height=100*a+"px"}})}scrollToSection(e){1===e&&this.targetSection1.nativeElement.scrollIntoView({behavior:"smooth"}),2===e&&this.targetSection2.nativeElement.scrollIntoView({behavior:"smooth"}),3===e&&this.targetSection3.nativeElement.scrollIntoView({behavior:"smooth"})}getData(){if(this.maximum>5e3&&(this.maximum=5e3),!this.inputReddit.length)return;this.done=!1,this.isCall=!0;let e=0,i=0;this.emptyData(),this.homeService.homeApi({query:this.inputReddit,startTime:this.fromDate,endTime:this.toDate,max:this.maximum}).pipe(en(this.destroy$)).subscribe(r=>{if(r){console.log(r),this.done=!0;let s=r.predicts.slice(0,-1);s=s.substring(1),s=s.split(" "),s.forEach((a,o)=>{"1"==a?(e+=1,this.positiveTweets.push(r.tweets[o])):(i+=1,this.negativeTweets.push(r.tweets[o]))}),this.pieChartDatasets=[{data:[i,e]}],this.currPositiveTweets=this.positiveTweets.slice(0,100),this.currNegativeTweets=this.negativeTweets.slice(0,100),this.posNumber=this.positiveTweets.length,this.negNumber=this.negativeTweets.length}this.isCall=!1})}emptyData(){this.positiveTweets=[],this.negativeTweets=[]}maxChanged(e){console.log(this.fromDate),this.countError=!(e<=5e3)}downloadResume(){const e=document.createElement("a");e.style.display="none",e.href=this.fileUrl,e.download=this.fileName,document.body.appendChild(e),e.click(),e.remove()}viewResume(){window.open(this.fileUrl,"_blank")}changePage(e,i){"positive"===i?this.currPositiveTweets=this.positiveTweets.slice(100*e.pageIndex,100*(e.pageIndex+1)):this.currNegativeTweets=this.negativeTweets.slice(100*e.pageIndex,100*(e.pageIndex+1))}changeView(){this.homeService.type="home",this.type="home"}openLink(e){window.open(e,"_blank")}link(e){"linkedin"==e?window.open("https://www.linkedin.com/in/sriharshamaddirala/","_blank"):window.open("https://github.com/Sri-harsha99","_blank")}}return n.\u0275fac=function(e){return new(e||n)(S(vf),S(XH))},n.\u0275cmp=st({type:n,selectors:[["app-home"]],viewQuery:function(e,i){if(1&e&&(Ln(Bje,5),Ln(Uje,5),Ln(Gje,5)),2&e){let r;vt(r=yt())&&(i.targetSection1=r.first),vt(r=yt())&&(i.targetSection2=r.first),vt(r=yt())&&(i.targetSection3=r.first)}},inputs:{type:"type"},decls:4,vars:4,consts:[[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center","class","width-100 main-back",4,"ngIf"],["class","back-mint",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center",1,"heading"],[1,"padding-left","font-17"],["fxLayoutAlign","center enter",1,"margin-top-7"],["fxLayout","row",1,"margin-left-3"],["fxLayout","row"],["appearance","outline",1,"input-key"],["matInput","","placeholder","Ex: Queen Elizabeth",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayoutAlign","space-around center",1,"pos-rel"],[1,"filter"],["appearance","outline",1,"date","margin-left-date"],["matInput","",3,"min","max","matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["from",""],["to",""],[1,"mat-divide",3,"vertical"],["fxLayout","column","fxLayoutAlign","start"],["appearance","outline"],["matInput","","type","number","min","1","max","5000",3,"ngModel","ngModelChange"],["fxLayout","column","fxLayoutAlign","center center",1,"margin-left-5"],["mat-raised-button","","color","primary",3,"click"],["fxLayoutAlign","center center",1,"sc-margin-left-2",3,"ngClass"],[3,"enabled","color"],["fxLayout","row","fxLayoutAlign","center",1,"heading","color-darkorchid"],["fxLayout","column","fxLayoutAlign","center center"],[1,"heading"],[1,"padding-left-2"],["src","../../assets/flow-d.png"],[1,"margin-top-2","font-15"],["fxLayoutAlign","center enter",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center","class","width-100 margin-top-2",4,"ngIf"],[1,"main-back"],["fxLayoutAlign","center enter"],["baseChart","",3,"type","datasets","labels","options","legend"],["fxLayout","row","fxLayoutAlign","center center",1,"width-100","margin-top-2"],[1,"width-80"],[3,"opened","closed"],["aria-label","Select page",3,"length","pageSize","page"],["class","margin-bottom-1",4,"ngFor","ngForOf"],[1,"margin-bottom-1"],["fxLayout","row","fxLayoutAlign","center center",1,"width-100","main-back"],["fxLayout","row","fxLayoutAlign","end center",1,"link-bar"],["src","../assets/github-mark-white.svg",1,"size-logo","click-point",3,"click"],["src","../assets/linke.png",1,"size-logo-link","margin-left-1","click-point",3,"click"],[1,"padding-top-4"],["fxlayout","row wrap","fxlayoutalign","center center","fxflex","1 1 auto",2,"flex-flow","wrap","box-sizing","border-box","display","flex","place-content","center","align-items","center","flex","1 1 auto"],["mat-button","","aria-label","About button",1,"mat-focus-indicator","dark-icon","mat-button","mat-button-base",3,"click"],[1,"mat-button-wrapper"],["role","img","aria-hidden","true","data-mat-icon-type","font",1,"mat-icon","notranslate","icon-space","material-icons","mat-icon-no-color","margin-right-1"],["_ngcontent-jve-c72","","fxshow.xs","false"],["matripple","",1,"mat-ripple","mat-button-ripple"],[1,"mat-button-focus-overlay"],["mat-button","","aria-label","Work button",1,"mat-focus-indicator","dark-icon","mat-button","mat-button-base"],[1,"mat-button-wrapper",3,"click"],["fxshow.xs","false"],["mat-button","","aria-label","Skills button",1,"mat-focus-indicator","dark-icon","mat-button","mat-button-base",3,"click"],["mat-button","","aria-label","Blogs button",1,"mat-focus-indicator","dark-icon","mat-button","mat-button-base",3,"click"],[1,"fa-brands","fa-twitter","mat-icon","notranslate","icon-space","material-icons","mat-icon-no-color","margin-right-1",2,"color","#ffffff"],[1,"main-text"],[1,"font-4rem"],[3,"textToType","showCursor","animationDone"],[1,"new-3d-model"],[1,"white-spot"],[3,"textToType","showCursor"],[1,"back-mint"],["targetSection1",""],[1,"height-30"],[1,"skill-card"],[1,"bot-mar-1"],["fxLayout","row",1,"margin-top-10"],["fxLayout","column",1,"margin-right-2"],[1,"example-card"],[1,"font-17"],["fxLayout","column"],[1,"timeline"],[1,"change-pad",3,"alternateSide","firstContentSide"],[1,"icon-time",3,"icon"],[1,"add-pad"],[1,"head"],[1,"italic","bot-mar-1"],["targetSection2",""],["fxLayout","row wrap","fxLayoutAlign","space-around start"],["fxLayout","column","fxLayoutAlign","center start",1,"margin-skill"],["fxLayout","row","fxLayoutAlign","start center",1,"head"],["fxLayout","row","fxLayoutAlign","center center"],["src","assets/summarize.png",1,"news-img"],[1,"head-left"],["fxLayout","row wrap",1,"head-bot"],["aria-label","Fish selection"],["fxLayout","row","fxLayoutAlign","center center",1,"proj-action"],["mat-raised-button","",1,"skill-but","blue",3,"click"],[1,"fa-brands","fa-twitter","fa-4x"],["src","assets/news.jpeg",1,"news-img"],["src","assets/download.jpg",1,"news-img"],["src","assets/out.jpg",1,"news-img"],["href","https://cmp.felk.cvut.cz/~spacelib/faces/faces94.html"],["fxLayout","column","fxLayoutAlign","start start",1,"margin-skill"],["src","assets/aus.jpg",1,"news-img"],["targetSection3",""],["fxLayout","row","fxLayoutAlign","center center",1,"back-icon"],[1,"fa-solid","fa-code","icon-align"],["mat-raised-button","",1,"skill-but","blue"],[1,"fa-solid","fa-brain","icon-align"],[1,"fa-brands","fa-html5","icon-align"],[1,"fa-solid","fa-lock","icon-align"],[1,"fa-solid","fa-database","icon-align"],[1,"fas","fa-tasks","icon-align"]],template:function(e,i){1&e&&(Le(0,Yje,69,18,"div",0),Le(1,Xje,15,0,"div",1),Le(2,Zje,57,3,"div",2),Le(3,Qje,299,5,"div",3)),2&e&&(U("ngIf","home"==i.type),Y(1),U("ngIf","diagram"==i.type),Y(1),U("ngIf","me"==i.type),Y(1),U("ngIf","me"==i.type))},dependencies:[Sr,Co,Kn,dPe,kV,Pp,yV,oV,mPe,yI,q_,Gle,Zle,np,rp,lk,q3e,Y3,D1e,tv,H1e,e3e,NI,FI,J1e,W3,C_,cp,k_,E_,ef,EPe,HPe,CG,VPe,x2e,C2e,b2e,M2e,zPe,NPe,Oje],styles:['.input-key[_ngcontent-%COMP%]{width:52vw}.date[_ngcontent-%COMP%]{width:12vw}.main-back[_ngcontent-%COMP%]{background-color:#171717;height:140vh;width:100%!important}.link-bar[_ngcontent-%COMP%]{text-align:right;margin-top:1rem}.margin-left-1[_ngcontent-%COMP%]{margin-left:1rem}.size-logo-link[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;margin-right:1rem}.main-text[_ngcontent-%COMP%]{font:24px/32px Source Code Pro,monospace!important;width:45vw;z-index:100;margin-top:40vh;margin-left:15vw;color:#fff}.landing-page[_ngcontent-%COMP%]{width:100%;height:100vh;background-color:#000;position:relative;overflow:hidden}.back-mint[_ngcontent-%COMP%]{background-color:#f5fffa!important}.height-30[_ngcontent-%COMP%]{height:30vh;background-color:#171717}.white-spot[_ngcontent-%COMP%]{width:100px;height:100px;background-color:#f5fffa;position:absolute;transform:translate(-50%,-50%);border-radius:50%;transition:width 1s ease-out,height 1s ease-out}.size-logo[_ngcontent-%COMP%]{width:2.1rem;height:2.1rem}.content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#fff;opacity:0;transition:opacity 1s ease-in-out}p[_ngcontent-%COMP%]{font-size:18px;font-family:Arial,sans-serif;color:#333;overflow:hidden;display:inline-block}.cursor[_ngcontent-%COMP%]{display:inline-block;vertical-align:bottom;width:.5em;height:1em;background-color:#000;margin-left:3px;animation:blink .75s infinite}@keyframes blink{0%,to{opacity:1}50%{opacity:0}}#target[_ngcontent-%COMP%]{position:relative;overflow:hidden;font-size:30px;text-align:center;font-family:sans-serif}#target[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{animation:autoscroll 3000s linear}html[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:linear-gradient(top,rgb(0,0,0),rgba(0,0,0,0) 100%);background:linear-gradient(to bottom,rgb(0,0,0),rgba(0,0,0,0) 100%);pointer-events:none}.body-text[_ngcontent-%COMP%]{position:relative;transform-origin:50% 100%;transform:perspective(300px) rotateX(20deg)}.credit-main[_ngcontent-%COMP%]{color:#ff0;background:black;height:60vh}@keyframes autoscroll{to{margin-top:-50000px}}.scroll-text[_ngcontent-%COMP%]{font-size:40px;line-height:45px;letter-spacing:5px}.font-4rem[_ngcontent-%COMP%]{font-size:30px}.font-3rem[_ngcontent-%COMP%]{font-size:20px}.margin-left-date[_ngcontent-%COMP%]{margin-left:.5vw}.sc-margin-left-2[_ngcontent-%COMP%]{margin-left:2vw}.hide-class[_ngcontent-%COMP%]{opacity:0}.bot-mar-1[_ngcontent-%COMP%]{margin-bottom:1rem}.show-class[_ngcontent-%COMP%]{opacity:1}.width-80[_ngcontent-%COMP%]{width:80%}.width-100[_ngcontent-%COMP%]{width:100%}.error[_ngcontent-%COMP%]{color:red;font-size:11px}.margin-left-3[_ngcontent-%COMP%]{margin-left:3vw}.pos-rel[_ngcontent-%COMP%]{position:relative}.img-fluid[_ngcontent-%COMP%]{width:5rem;height:5rem}.click-point[_ngcontent-%COMP%]{cursor:pointer}.margin-right-2cm[_ngcontent-%COMP%]{margin-right:1rem}.heading[_ngcontent-%COMP%]{font-weight:500;font-size:24px;padding:20px}.margin-top-5[_ngcontent-%COMP%]{margin-top:5vh}.icon-time[_ngcontent-%COMP%]{position:absolute;margin-left:1.4rem;margin-top:1.3rem!important;z-index:12}.white-spot[_ngcontent-%COMP%]{position:absolute;margin-top:25vh;margin-left:50vw}.star-wars-container[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;background:black;overflow:hidden}.crawl[_ngcontent-%COMP%]{animation:none;position:absolute;bottom:0;left:0;width:100%;padding:10px 0;color:#ff0;font-size:18px;text-align:center;transform-origin:bottom center;transform-style:preserve-3d;perspective:500px;transition:transform 1s ease}.mat-toolbar[_ngcontent-%COMP%]{background:#f5f5f5;color:#000000de}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{background:#00e676;color:#000000de}.mat-toolbar.mat-accent[_ngcontent-%COMP%]{background:#424242;color:#fff}.mat-toolbar.mat-warn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.mat-toolbar[_ngcontent-%COMP%]   .mat-focused[_ngcontent-%COMP%]   .mat-form-field-ripple[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   .mat-form-field-ripple[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   .mat-form-field-underline[_ngcontent-%COMP%]{background-color:currentColor}.mat-toolbar[_ngcontent-%COMP%]   .mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   .mat-form-field.mat-focused[_ngcontent-%COMP%]   .mat-select-arrow[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   .mat-select-arrow[_ngcontent-%COMP%], .mat-toolbar[_ngcontent-%COMP%]   .mat-select-value[_ngcontent-%COMP%]{color:#fff}.mat-toolbar[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{caret-color:currentColor}.mat-button[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{color:#fff;background-color:#171717;font-family:"Source Code Pro, monospace"!important;padding-right:3rem;font-size:15px}.margin-right-1[_ngcontent-%COMP%]{margin-right:.5rem}.mat-toolbar-multiple-rows[_ngcontent-%COMP%]{min-height:64px}.mat-toolbar-row[_ngcontent-%COMP%], .mat-toolbar-single-row[_ngcontent-%COMP%]{height:64px}.crawl-animated[_ngcontent-%COMP%]{animation:crawl-animation 60s linear infinite}@keyframes crawl-animation{0%{transform:rotateX(0) translateY(100%)}to{transform:rotateX(45deg) translateY(-100%)}}.padding-top-4[_ngcontent-%COMP%]{padding-top:1rem}.new-3d-model[_ngcontent-%COMP%]{width:40vw;height:40vh;display:flex;justify-content:center;align-items:center;overflow:hidden}.margin-top-7[_ngcontent-%COMP%]{margin-top:6vh}.padding-left[_ngcontent-%COMP%]{padding-left:3vw;padding-right:3vw;padding-top:2vh}.margin-top-2[_ngcontent-%COMP%]{margin-top:2vh}.font-15[_ngcontent-%COMP%]{font-size:15px}.margin-bottom-1[_ngcontent-%COMP%]{margin-bottom:1rem}.width-45[_ngcontent-%COMP%]{width:45%}.width-22[_ngcontent-%COMP%]{width:22vw}.mat-divide[_ngcontent-%COMP%]{margin-left:.5vw;margin-right:.5vw;margin-bottom:3vh;border-right-width:2px!important;border-right-style:solid;border-color:#000;height:5vh}.margin-left-5[_ngcontent-%COMP%]{margin-left:5vw}.padding-left-2[_ngcontent-%COMP%]{padding-left:2rem}.filter[_ngcontent-%COMP%]{margin-top:-3vh}.example-full-width[_ngcontent-%COMP%]{width:100%}.input-comments[_ngcontent-%COMP%]{width:100%;border:0px;outline:none}.white[_ngcontent-%COMP%]{background-color:#fff;margin-right:.5rem}.font-17[_ngcontent-%COMP%]{font-size:17px}.example-card[_ngcontent-%COMP%]{max-width:70vw;background-color:#f5fffa}.margin-top-10[_ngcontent-%COMP%]{margin-top:10vh}.link-css[_ngcontent-%COMP%]{text-decoration:none;margin-bottom:.6rem;font-size:14px}.margin-right-2[_ngcontent-%COMP%]{margin-right:2rem;margin-left:2rem}.edu-card[_ngcontent-%COMP%]{width:45rem}.mail-icon[_ngcontent-%COMP%]{width:1.5rem}.margin-bot-3[_ngcontent-%COMP%]{margin-bottom:3rem}.margin-top-2[_ngcontent-%COMP%]{margin-top:2rem}.pro-img[_ngcontent-%COMP%]{border-radius:50%;width:5rem;height:5rem;margin-right:1rem}  .change-pad{padding:10px 0!important}.timeline.change-pad[_ngcontent-%COMP%]{padding:10px 0!important}.add-pad[_ngcontent-%COMP%]{margin-bottom:1rem}.head[_ngcontent-%COMP%]{font-weight:500;font-size:18px;margin-bottom:.25rem}.margin-top-20vh[_ngcontent-%COMP%]{margin-top:30vh}.skill-card[_ngcontent-%COMP%]{background-color:#f5fffa;width:95%;margin-left:2rem;margin-bottom:3rem}.op-null[_ngcontent-%COMP%]{opacity:0}.news-img[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:50%}.italic[_ngcontent-%COMP%]{font-style:italic}  .mat-card-header-text{margin:0!important}.margin-skill[_ngcontent-%COMP%]{width:45%;margin-bottom:3rem}.skill-but[_ngcontent-%COMP%]{margin-left:1.25rem;margin-bottom:1.25rem}.blue[_ngcontent-%COMP%]{background-color:#ffebcd;color:#000}.head-left[_ngcontent-%COMP%]{margin-left:2rem}.icon-align[_ngcontent-%COMP%]{color:#fff}.skill-mar[_ngcontent-%COMP%]{margin-left:2rem}.head-bot[_ngcontent-%COMP%]{margin-top:.75rem}.proj-action[_ngcontent-%COMP%]{width:100%;margin-top:1rem}.back-icon[_ngcontent-%COMP%]{background-color:#86a397;width:2.5rem;height:2.5rem;border-radius:50%;margin-right:.5rem}.color-darkorchid[_ngcontent-%COMP%]{color:#9932cc}']}),n})();function e$e(n,t){if(1&n){const e=fi();I(0,"p")(1,"mat-toolbar",1)(2,"div")(3,"button",2)(4,"mat-icon"),K(5,"menu"),V()(),I(6,"span",3),ve("click",function(){dt(e);const r=ue();return r.homeService.type="me",ft(r.homeService.runAfter())}),K(7,"Portfolio"),V(),I(8,"span",3),ve("click",function(){return dt(e),ft(ue().homeService.type="home")}),K(9,"Search Tweets"),V()(),I(10,"div",4)(11,"img",5),ve("click",function(){return dt(e),ft(ue().link("github"))}),V(),I(12,"img",6),ve("click",function(){return dt(e),ft(ue().link("linkedin"))}),V()()()()}}function t$e(n,t){if(1&n&&(I(0,"ngContainer"),Re(1,"app-home",7),V()),2&n){const e=ue();Y(1),U("type",e.homeService.type)}}let n$e=(()=>{class n{constructor(e){this.homeService=e,this.title="find-user"}link(e){"linkedin"==e?window.open("https://www.linkedin.com/in/sriharshamaddirala/","_blank"):window.open("https://github.com/Sri-harsha99","_blank")}}return n.\u0275fac=function(e){return new(e||n)(S(XH))},n.\u0275cmp=st({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"main-toolbar"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon"],[1,"margin-left-4","click-point",3,"click"],[1,"right-0"],["src","../assets/image.svg",1,"margin-left-3","click-point",3,"click"],["src","../assets/link.svg",1,"margin-left-3","click-point",3,"click"],[3,"type"]],template:function(e,i){1&e&&(Le(0,e$e,13,0,"p",0),Le(1,t$e,2,1,"ngContainer",0)),2&e&&(U("ngIf","home"===i.homeService.type),Y(1),U("ngIf","me"==i.homeService.type||"home"==i.homeService.type))},dependencies:[Kn,nue,oV,np,rp,Y3,Jje],styles:[".main-toolbar[_ngcontent-%COMP%]{background-color:#ffebcd}.body[_ngcontent-%COMP%]{font-family:Source Code Pro}.margin-left-4[_ngcontent-%COMP%]{margin-left:4vw}.margin-left-3[_ngcontent-%COMP%]{margin-left:3vw}.click-point[_ngcontent-%COMP%]{cursor:pointer}.right-0[_ngcontent-%COMP%]{right:0%}"]}),n})();function O$(n){return new we(3e3,!1)}function P$e(){return typeof window<"u"&&typeof window.document<"u"}function cx(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function W2(n){switch(n.length){case 0:return new ff;case 1:return n[0];default:return new mI(n)}}function B$(n,t,e,i,r=new Map,s=new Map){const a=[],o=[];let c=-1,l=null;if(i.forEach(u=>{const d=u.get("offset"),f=d==c,h=f&&l||new Map;u.forEach((p,v)=>{let g=v,m=p;if("offset"!==v)switch(g=t.normalizePropertyName(g,a),m){case"!":m=r.get(v);break;case lc:m=s.get(v);break;default:m=t.normalizeStyleValue(v,g,m,a)}h.set(g,m)}),f||o.push(h),l=h,c=d}),a.length)throw function S$e(n){return new we(3502,!1)}();return o}function lx(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&ux(e,"start",n)));break;case"done":n.onDone(()=>i(e&&ux(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&ux(e,"destroy",n)))}}function ux(n,t,e){const s=dx(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function dx(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function ra(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function U$(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let fx=(n,t)=>!1,G$=(n,t,e)=>[],W$=null;function hx(n){const t=n.parentNode||n.host;return t===W$?null:t}(cx()||typeof Element<"u")&&(P$e()?(W$=(()=>document.documentElement)(),fx=(n,t)=>{for(;t;){if(t===n)return!0;t=hx(t)}return!1}):fx=(n,t)=>n.contains(t),G$=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let x1=null,j$=!1;const $$=fx,q$=G$;let Y$=(()=>{class n{validateStyleProperty(e){return function F$e(n){x1||(x1=function O$e(){return typeof document<"u"?document.body:null}()||{},j$=!!x1.style&&"WebkitAppearance"in x1.style);let t=!0;return x1.style&&!function N$e(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in x1.style,!t&&j$&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in x1.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return $$(e,i)}getParentElement(e){return hx(e)}query(e,i,r){return q$(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,o=[],c){return new ff(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),px=(()=>{class n{}return n.NOOP=new Y$,n})();const mx="ng-enter",Z8="ng-leave",Q8="ng-trigger",J8=".ng-trigger",K$="ng-animating",gx=".ng-animating";function Rc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:_x(parseFloat(t[1]),t[2])}function _x(n,t){return"s"===t?1e3*n:n}function e5(n,t,e){return n.hasOwnProperty("duration")?n:function G$e(n,t,e){let r,s=0,a="";if("string"==typeof n){const o=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push(O$()),{duration:0,delay:0,easing:""};r=_x(parseFloat(o[1]),o[2]);const c=o[3];null!=c&&(s=_x(parseFloat(c),o[4]));const l=o[5];l&&(a=l)}else r=n;if(!e){let o=!1,c=t.length;r<0&&(t.push(function i$e(){return new we(3100,!1)}()),o=!0),s<0&&(t.push(function r$e(){return new we(3101,!1)}()),o=!0),o&&t.splice(c,0,O$())}return{duration:r,delay:s,easing:a}}(n,t,e)}function Rh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Z$(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function j2(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function J$(n,t,e){return e?t+":"+e+";":""}function eq(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=J$(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=J$(0,q$e(e),n.style[e]));n.setAttribute("style",t)}function Ro(n,t,e){n.style&&(t.forEach((i,r)=>{const s=yx(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),cx()&&eq(n))}function C1(n,t){n.style&&(t.forEach((e,i)=>{const r=yx(i);n.style[r]=""}),cx()&&eq(n))}function zh(n){return Array.isArray(n)?1==n.length?n[0]:W_(n):n}const vx=new RegExp("{{\\s*(.+?)\\s*}}","g");function tq(n){let t=[];if("string"==typeof n){let e;for(;e=vx.exec(n);)t.push(e[1]);vx.lastIndex=0}return t}function Ph(n,t,e){const i=n.toString(),r=i.replace(vx,(s,a)=>{let o=t[a];return null==o&&(e.push(function a$e(n){return new we(3003,!1)}()),o=""),o.toString()});return r==i?n:r}function t5(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const $$e=/-+([a-z0-9])/g;function yx(n){return n.replace($$e,(...t)=>t[1].toUpperCase())}function q$e(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sa(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function o$e(n){return new we(3004,!1)}()}}function nq(n,t){return window.getComputedStyle(n)[t]}function J$e(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function eqe(n,t,e){if(":"==n[0]){const c=function tqe(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function M$e(n){return new we(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function b$e(n){return new we(3015,!1)}()),t;const r=i[1],s=i[2],a=i[3];t.push(iq(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&t.push(iq(a,r))}(i,e,t)):e.push(n),e}const a5=new Set(["true","1"]),o5=new Set(["false","0"]);function iq(n,t){const e=a5.has(n)||o5.has(n),i=a5.has(t)||o5.has(t);return(r,s)=>{let a="*"==n||n==r,o="*"==t||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?a5.has(n):o5.has(n)),!o&&i&&"boolean"==typeof s&&(o=s?a5.has(t):o5.has(t)),a&&o}}const nqe=new RegExp("s*:selfs*,?","g");function bx(n,t,e,i){return new iqe(n).build(t,e,i)}class iqe{constructor(t){this._driver=t}build(t,e,i){const r=new aqe(e);return this._resetContextStyleTimingState(r),sa(this,zh(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function l$e(){return new we(3006,!1)}()),t.definitions.forEach(o=>{if(this._resetContextStyleTimingState(e),0==o.type){const c=o,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,s.push(this.visitState(c,e))}),c.name=l}else if(1==o.type){const c=this.visitTransition(o,e);i+=c.queryCount,r+=c.depCount,a.push(c)}else e.errors.push(function u$e(){return new we(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(o=>{o instanceof Map&&o.forEach(c=>{tq(c).forEach(l=>{a.hasOwnProperty(l)||s.add(l)})})}),s.size&&(t5(s.values()),e.errors.push(function d$e(n,t){return new we(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=sa(this,zh(t.animation),e);return{type:1,matchers:J$e(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:w1(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>sa(this,i,e)),options:w1(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const o=sa(this,a,e);return r=Math.max(r,e.currentTime),o});return e.currentTime=r,{type:3,steps:s,options:w1(t.options)}}visitAnimate(t,e){const i=function cqe(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Mx(e5(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Mx(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=e5(e,t);return Mx(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:It({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,o=!1;if(!a){o=!0;const l={};i.easing&&(l.easing=i.easing),a=It(l)}e.currentTime+=i.duration+i.delay;const c=this.visitStyle(a,e);c.isEmptyStep=o,r=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let o of r)"string"==typeof o?o===lc?i.push(o):e.errors.push(new we(3002,!1)):i.push(Z$(o));let s=!1,a=null;return i.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(a=o.get("easing"),o.delete("easing")),!s))for(let c of o.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&a.forEach((o,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),u=l.get(c);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function h$e(n,t,e,i,r){return new we(3010,!1)}()),d=!1),s=u.startTime),d&&l.set(c,{startTime:s,endTime:r}),e.options&&function j$e(n,t,e){const i=t.params||{},r=tq(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function s$e(n){return new we(3001,!1)}())})}(o,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function p$e(){return new we(3011,!1)}()),i;let s=0;const a=[];let o=!1,c=!1,l=0;const u=t.steps.map(m=>{const C=this._makeStyleAst(m,e);let b=null!=C.offset?C.offset:function oqe(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(C.styles),T=0;return null!=b&&(s++,T=C.offset=b),c=c||T<0||T>1,o=o||T<l,l=T,a.push(T),C});c&&e.errors.push(function m$e(){return new we(3012,!1)}()),o&&e.errors.push(function g$e(){return new we(3200,!1)}());const d=t.steps.length;let f=0;s>0&&s<d?e.errors.push(function _$e(){return new we(3202,!1)}()):0==s&&(f=1/(d-1));const h=d-1,p=e.currentTime,v=e.currentAnimateTimings,g=v.duration;return u.forEach((m,C)=>{const b=f>0?C==h?1:f*C:a[C],T=b*g;e.currentTime=p+v.delay+T,v.duration=T,this._validateStyleAst(m,e),m.offset=b,i.styles.push(m)}),i}visitReference(t,e){return{type:8,animation:sa(this,zh(t.animation),e),options:w1(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:w1(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:w1(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function rqe(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(nqe,"")),n=n.replace(/@\*/g,J8).replace(/@\w+/g,e=>J8+"-"+e.slice(1)).replace(/:animating/g,gx),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,ra(e.collectedStyles,e.currentQuerySelector,new Map);const o=sa(this,zh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:o,originalSelector:t.selector,options:w1(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function v$e(){return new we(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:e5(t.timings,e.errors,!0);return{type:12,animation:sa(this,zh(t.animation),e),timings:i,options:null}}}class aqe{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function w1(n){return n?(n=Rh(n)).params&&(n.params=function sqe(n){return n?Rh(n):null}(n.params)):n={},n}function Mx(n,t,e){return{duration:n,delay:t,easing:e}}function xx(n,t,e,i,r,s,a=null,o=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:o}}class c5{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const dqe=new RegExp(":enter","g"),hqe=new RegExp(":leave","g");function Cx(n,t,e,i,r,s=new Map,a=new Map,o,c,l=[]){return(new pqe).buildKeyframes(n,t,e,i,r,s,a,o,c,l)}class pqe{buildKeyframes(t,e,i,r,s,a,o,c,l,u=[]){l=l||new c5;const d=new wx(t,e,l,r,s,u,[]);d.options=c;const f=c.delay?Rc(c.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([a],null,d.errors,c),sa(this,i,d);const h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&o.size){let p;for(let v=h.length-1;v>=0;v--){const g=h[v];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([o],null,d.errors,c)}return h.length?h.map(p=>p.buildKeyframes()):[xx(e,[],[],[],0,f,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimateRefDelay(t.animation,e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimateRefDelay(t,e,i){const r=t.options?.delay;if(!r)return;let s;s="string"==typeof r?Rc(Ph(r,t.options?.params??{},e.errors)):r,i.delayNextStep(s)}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?Rc(i.duration):null,o=null!=i.delay?Rc(i.delay):null;return 0!==a&&t.forEach(c=>{const l=e.appendInstructionToTimeline(c,a,o);s=Math.max(s,l.duration+l.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),sa(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=l5);const a=Rc(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>sa(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Rc(t.options.delay):0;t.steps.forEach(a=>{const o=e.createSubContext(t.options);s&&o.delayNextStep(s),sa(this,a,o),r=Math.max(r,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return e5(e.params?Ph(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,o=e.createSubContext().currentTimeline;o.easing=i.easing,t.styles.forEach(c=>{o.forwardTime((c.offset||0)*s),o.setStyles(c.styles,c.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Rc(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=l5);let a=i;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let c=null;o.forEach((l,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,l);s&&d.delayNextStep(s),l===e.element&&(c=d.currentTimeline),sa(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),o=a*(e.currentQueryTotal-1);let c=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=o-c;break;case"full":c=i.currentStaggerTime}const u=e.currentTimeline;c&&u.delayNextStep(c);const d=u.currentTime;sa(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const l5={};class wx{constructor(t,e,i,r,s,a,o,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=l5,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new u5(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Rc(i.duration)),null!=i.delay&&(r.delay=Rc(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(o=>{(!e||!a.hasOwnProperty(o))&&(a[o]=Ph(s[o],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new wx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=l5,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new mqe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(dqe,"."+this._enterClassName)).replace(hqe,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),o.push(...l)}return!s&&0==o.length&&a.push(function y$e(n){return new we(3014,!1)}()),o}}class u5{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new u5(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||lc),this._currentKeyframe.set(e,lc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},a=function gqe(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,lc)}else j2(r,e)}),e}(t,this._globalTimelineStyles);for(let[o,c]of a){const l=Ph(c,s,i);this._pendingStyles.set(o,l),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??lc),this._updateStyle(o,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((o,c)=>{const l=j2(o,new Map,this._backFill);l.forEach((u,d)=>{"!"===u?t.add(d):u===lc&&e.add(d)}),i||l.set("offset",c/this.duration),r.push(l)});const s=t.size?t5(t.values()):[],a=e.size?t5(e.values()):[];if(i){const o=r[0],c=new Map(o);o.set("offset",0),c.set("offset",1),r=[o,c]}return xx(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class mqe extends u5{constructor(t,e,i,r,s,a,o=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,o=e/a,c=j2(t[0]);c.set("offset",0),s.push(c);const l=j2(t[0]);l.set("offset",aq(o)),s.push(l);const u=t.length-1;for(let d=1;d<=u;d++){let f=j2(t[d]);const h=f.get("offset");f.set("offset",aq((e+h*i)/a)),s.push(f)}i=a,e=0,r="",t=s}return xx(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function aq(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Sx{}const _qe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class vqe extends Sx{normalizePropertyName(t,e){return yx(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(_qe.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&r.push(function c$e(n,t){return new we(3005,!1)}())}return a+s}}function oq(n,t,e,i,r,s,a,o,c,l,u,d,f){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:o,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:f}}const Tx={};class cq{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function yqe(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,a,o,c,l,u){const d=[],f=this.ast.options&&this.ast.options.params||Tx,p=this.buildStyles(i,o&&o.params||Tx,d),v=c&&c.params||Tx,g=this.buildStyles(r,v,d),m=new Set,C=new Map,b=new Map,T="void"===r,E={params:bqe(v,f),delay:this.ast.options?.delay},L=u?[]:Cx(t,e,this.ast.animation,s,a,p,g,E,l,d);let k=0;if(L.forEach(D=>{k=Math.max(D.duration+D.delay,k)}),d.length)return oq(e,this._triggerName,i,r,T,p,g,[],[],C,b,k,d);L.forEach(D=>{const R=D.element,ie=ra(C,R,new Set);D.preStyleProps.forEach(Q=>ie.add(Q));const ge=ra(b,R,new Set);D.postStyleProps.forEach(Q=>ge.add(Q)),R!==e&&m.add(R)});const O=t5(m.values());return oq(e,this._triggerName,i,r,T,p,g,L,O,C,b,k)}}function bqe(n,t){const e=Rh(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Mqe{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Rh(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!==a&&(r[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,o)=>{a&&(a=Ph(a,r,e));const c=this.normalizer.normalizePropertyName(o,e);a=this.normalizer.normalizeStyleValue(o,c,a,e),i.set(c,a)})}),i}}class Cqe{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Mqe(r.style,r.options&&r.options.params||{},i))}),lq(this.states,"true","1"),lq(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new cq(t,r,this.states))}),this.fallbackTransition=function wqe(n,t,e){return new cq(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,o)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function lq(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Sqe=new c5;class Tqe{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=bx(this._driver,e,i,[]);if(i.length)throw function T$e(n){return new we(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=B$(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let a;const o=new Map;if(s?(a=Cx(this._driver,e,s,mx,Z8,new Map,new Map,i,Sqe,r),a.forEach(u=>{const d=ra(o,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(r.push(function A$e(){return new we(3300,!1)}()),a=[]),r.length)throw function D$e(n){return new we(3504,!1)}();o.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,lc))})});const l=W2(a.map(u=>{const d=o.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function E$e(n){return new we(3301,!1)}();return e}listen(t,e,i,r){const s=dx(e,"","","");return lx(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const uq="ng-animate-queued",Ax="ng-animate-disabled",Lqe=[],dq={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Iqe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ta="__ng_removed";class Dx{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function zqe(n){return n??null}(i?t.value:t),i){const s=Rh(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Nh="void",Ex=new Dx(Nh);class Vqe{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Aa(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function k$e(n,t){return new we(3302,!1)}();if(null==i||0==i.length)throw function L$e(n){return new we(3303,!1)}();if(!function Pqe(n){return"start"==n||"done"==n}(i))throw function I$e(n,t){return new we(3400,!1)}();const s=ra(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const o=ra(this._engine.statesByElement,t,new Map);return o.has(e)||(Aa(t,Q8),Aa(t,Q8+"-"+e),o.set(e,Ex)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(a);c>=0&&s.splice(c,1),this._triggers.has(e)||o.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function V$e(n){return new we(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new kx(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Aa(t,Q8),Aa(t,Q8+"-"+e),this._engine.statesByElement.set(t,o=new Map));let c=o.get(e);const l=new Dx(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),o.set(e,l),c||(c=Ex),l.value!==Nh&&c.value===l.value){if(!function Oqe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(c.params,l.params)){const v=[],g=s.matchStyles(c.value,c.params,v),m=s.matchStyles(l.value,l.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{C1(t,g),Ro(t,m)})}return}const f=ra(this._engine.playersByElement,t,[]);f.forEach(v=>{v.namespaceId==this.id&&v.triggerName==e&&v.queued&&v.destroy()});let h=s.matchTransition(c.value,l.value,t,l.params),p=!1;if(!h){if(!r)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:c,toState:l,player:a,isFallbackTransition:p}),p||(Aa(t,uq),a.onStart(()=>{lu(t,uq)})),a.onDone(()=>{let v=this.players.indexOf(a);v>=0&&this.players.splice(v,1);const g=this._engine.playersByElement.get(t);if(g){let m=g.indexOf(a);m>=0&&g.splice(m,1)}}),this.players.push(a),f.push(a),a}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,J8,!0);i.forEach(r=>{if(r[Ta])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const o=[];if(s.forEach((c,l)=>{if(a.set(l,c.value),this._triggers.has(l)){const u=this.trigger(t,l,Nh,r);u&&o.push(u)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&W2(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const c=this._triggers.get(a).fallbackTransition,l=i.get(a)||Ex,u=new Dx(Nh),d=new kx(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Ta];(!s||s===dq)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Aa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(o=>{if(o.name==i.triggerName){const c=dx(s,i.triggerName,i.fromState.value,i.toState.value);c._data=t,lx(i.player,o.phase,c,o.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Hqe{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Vqe(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let a=!1,o=this.driver.getParentElement(e);for(;o;){const c=r.get(o);if(c){const l=i.indexOf(c);i.splice(l+1,0,t),a=!0;break}o=this.driver.getParentElement(o)}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(d5(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!d5(e))return;const s=e[Ta];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Aa(t,Ax)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),lu(t,Ax))}removeNode(t,e,i,r){if(d5(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Ta]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return d5(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,J8,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,gx,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return W2(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ta];if(e&&e.setForRemoval){if(t[Ta]=dq,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Ax)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Aa(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?W2(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function H$e(n){return new we(3402,!1)}()}_flushAnimations(t,e){const i=new c5,r=[],s=new Map,a=[],o=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(X=>{u.add(X);const Z=this.driver.query(X,".ng-animate-queued",!0);for(let te=0;te<Z.length;te++)u.add(Z[te])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=pq(f,this.collectedEnterElements),p=new Map;let v=0;h.forEach((X,Z)=>{const te=mx+v++;p.set(Z,te),X.forEach(oe=>Aa(oe,te))});const g=[],m=new Set,C=new Set;for(let X=0;X<this.collectedLeaveElements.length;X++){const Z=this.collectedLeaveElements[X],te=Z[Ta];te&&te.setForRemoval&&(g.push(Z),m.add(Z),te.hasAnimation?this.driver.query(Z,".ng-star-inserted",!0).forEach(oe=>m.add(oe)):C.add(Z))}const b=new Map,T=pq(f,Array.from(m));T.forEach((X,Z)=>{const te=Z8+v++;b.set(Z,te),X.forEach(oe=>Aa(oe,te))}),t.push(()=>{h.forEach((X,Z)=>{const te=p.get(Z);X.forEach(oe=>lu(oe,te))}),T.forEach((X,Z)=>{const te=b.get(Z);X.forEach(oe=>lu(oe,te))}),g.forEach(X=>{this.processLeaveNode(X)})});const E=[],L=[];for(let X=this._namespaceList.length-1;X>=0;X--)this._namespaceList[X].drainQueuedTransitions(e).forEach(te=>{const oe=te.player,Me=te.element;if(E.push(oe),this.collectedEnterElements.length){const nt=Me[Ta];if(nt&&nt.setForMove){if(nt.previousTriggersValues&&nt.previousTriggersValues.has(te.triggerName)){const ht=nt.previousTriggersValues.get(te.triggerName),Bt=this.statesByElement.get(te.element);if(Bt&&Bt.has(te.triggerName)){const fn=Bt.get(te.triggerName);fn.value=ht,Bt.set(te.triggerName,fn)}}return void oe.destroy()}}const ee=!d||!this.driver.containsElement(d,Me),pe=b.get(Me),ze=p.get(Me),Ee=this._buildInstruction(te,i,ze,pe,ee);if(Ee.errors&&Ee.errors.length)return void L.push(Ee);if(ee)return oe.onStart(()=>C1(Me,Ee.fromStyles)),oe.onDestroy(()=>Ro(Me,Ee.toStyles)),void r.push(oe);if(te.isFallbackTransition)return oe.onStart(()=>C1(Me,Ee.fromStyles)),oe.onDestroy(()=>Ro(Me,Ee.toStyles)),void r.push(oe);const Ye=[];Ee.timelines.forEach(nt=>{nt.stretchStartingKeyframe=!0,this.disabledNodes.has(nt.element)||Ye.push(nt)}),Ee.timelines=Ye,i.append(Me,Ee.timelines),a.push({instruction:Ee,player:oe,element:Me}),Ee.queriedElements.forEach(nt=>ra(o,nt,[]).push(oe)),Ee.preStyleProps.forEach((nt,ht)=>{if(nt.size){let Bt=c.get(ht);Bt||c.set(ht,Bt=new Set),nt.forEach((fn,At)=>Bt.add(At))}}),Ee.postStyleProps.forEach((nt,ht)=>{let Bt=l.get(ht);Bt||l.set(ht,Bt=new Set),nt.forEach((fn,At)=>Bt.add(At))})});if(L.length){const X=[];L.forEach(Z=>{X.push(function R$e(n,t){return new we(3505,!1)}())}),E.forEach(Z=>Z.destroy()),this.reportError(X)}const k=new Map,O=new Map;a.forEach(X=>{const Z=X.element;i.has(Z)&&(O.set(Z,Z),this._beforeAnimationBuild(X.player.namespaceId,X.instruction,k))}),r.forEach(X=>{const Z=X.element;this._getPreviousPlayers(Z,!1,X.namespaceId,X.triggerName,null).forEach(oe=>{ra(k,Z,[]).push(oe),oe.destroy()})});const D=g.filter(X=>gq(X,c,l)),R=new Map;hq(R,this.driver,C,l,lc).forEach(X=>{gq(X,c,l)&&D.push(X)});const ge=new Map;h.forEach((X,Z)=>{hq(ge,this.driver,new Set(X),c,"!")}),D.forEach(X=>{const Z=R.get(X),te=ge.get(X);R.set(X,new Map([...Array.from(Z?.entries()??[]),...Array.from(te?.entries()??[])]))});const Q=[],J=[],se={};a.forEach(X=>{const{element:Z,player:te,instruction:oe}=X;if(i.has(Z)){if(u.has(Z))return te.onDestroy(()=>Ro(Z,oe.toStyles)),te.disabled=!0,te.overrideTotalTime(oe.totalTime),void r.push(te);let Me=se;if(O.size>1){let pe=Z;const ze=[];for(;pe=pe.parentNode;){const Ee=O.get(pe);if(Ee){Me=Ee;break}ze.push(pe)}ze.forEach(Ee=>O.set(Ee,Me))}const ee=this._buildAnimation(te.namespaceId,oe,k,s,ge,R);if(te.setRealPlayer(ee),Me===se)Q.push(te);else{const pe=this.playersByElement.get(Me);pe&&pe.length&&(te.parentPlayer=W2(pe)),r.push(te)}}else C1(Z,oe.fromStyles),te.onDestroy(()=>Ro(Z,oe.toStyles)),J.push(te),u.has(Z)&&r.push(te)}),J.forEach(X=>{const Z=s.get(X.element);if(Z&&Z.length){const te=W2(Z);X.setRealPlayer(te)}}),r.forEach(X=>{X.parentPlayer?X.syncPlayerEvents(X.parentPlayer):X.destroy()});for(let X=0;X<g.length;X++){const Z=g[X],te=Z[Ta];if(lu(Z,Z8),te&&te.hasAnimation)continue;let oe=[];if(o.size){let ee=o.get(Z);ee&&ee.length&&oe.push(...ee);let pe=this.driver.query(Z,gx,!0);for(let ze=0;ze<pe.length;ze++){let Ee=o.get(pe[ze]);Ee&&Ee.length&&oe.push(...Ee)}}const Me=oe.filter(ee=>!ee.destroyed);Me.length?Nqe(this,Z,Me):this.processLeaveNode(Z)}return g.length=0,Q.forEach(X=>{this.players.push(X),X.onDone(()=>{X.destroy();const Z=this.players.indexOf(X);this.players.splice(Z,1)}),X.play()}),Q}elementContainsData(t,e){let i=!1;const r=e[Ta];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const o=this.playersByQueriedElement.get(t);o&&(a=o)}else{const o=this.playersByElement.get(t);if(o){const c=!s||s==Nh;o.forEach(l=>{l.queued||!c&&l.triggerName!=r||a.push(l)})}}return(i||r)&&(a=a.filter(o=>!(i&&i!=o.namespaceId||r&&r!=o.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,u=l!==s,d=ra(i,l,[]);this._getPreviousPlayers(l,u,a,o,e.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}C1(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const o=e.triggerName,c=e.element,l=[],u=new Set,d=new Set,f=e.timelines.map(p=>{const v=p.element;u.add(v);const g=v[Ta];if(g&&g.removedBeforeQueried)return new ff(p.duration,p.delay);const m=v!==c,C=function Fqe(n){const t=[];return mq(n,t),t}((i.get(v)||Lqe).map(k=>k.getRealPlayer())).filter(k=>!!k.element&&k.element===v),b=s.get(v),T=a.get(v),E=B$(0,this._normalizer,0,p.keyframes,b,T),L=this._buildPlayer(p,E,C);if(p.subTimeline&&r&&d.add(v),m){const k=new kx(t,o,v);k.setRealPlayer(L),l.push(k)}return L});l.forEach(p=>{ra(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Rqe(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Aa(p,K$));const h=W2(f);return h.onDestroy(()=>{u.forEach(p=>lu(p,K$)),Ro(c,e.toStyles)}),d.forEach(p=>{ra(r,p,[]).push(h)}),h}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ff(t.duration,t.delay)}}class kx{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ff,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>lx(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ra(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function d5(n){return n&&1===n.nodeType}function fq(n,t){const e=n.style.display;return n.style.display=t??"none",e}function hq(n,t,e,i,r){const s=[];e.forEach(c=>s.push(fq(c)));const a=[];i.forEach((c,l)=>{const u=new Map;c.forEach(d=>{const f=t.computeStyle(l,d,r);u.set(d,f),(!f||0==f.length)&&(l[Ta]=Iqe,a.push(l))}),n.set(l,u)});let o=0;return e.forEach(c=>fq(c,s[o++])),a}function pq(n,t){const e=new Map;if(n.forEach(o=>e.set(o,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(o){if(!o)return 1;let c=s.get(o);if(c)return c;const l=o.parentNode;return c=e.has(l)?l:r.has(l)?1:a(l),s.set(o,c),c}return t.forEach(o=>{const c=a(o);1!==c&&e.get(c).push(o)}),e}function Aa(n,t){n.classList?.add(t)}function lu(n,t){n.classList?.remove(t)}function Nqe(n,t,e){W2(e).onDone(()=>n.processLeaveNode(t))}function mq(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof mI?mq(i.players,t):t.push(i)}}function gq(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class f5{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Hqe(t,e,i),this._timelineEngine=new Tqe(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let o=this._triggerCache[a];if(!o){const c=[],u=bx(this._driver,s,c,[]);if(c.length)throw function w$e(n,t){return new we(3404,!1)}();o=function xqe(n,t,e){return new Cqe(n,t,e)}(r,u,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=U$(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,o]=U$(i);return this._timelineEngine.listen(a,e,o,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Uqe=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ro(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ro(this._element,this._initialStyles),this._endStyles&&(Ro(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(C1(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(C1(this._element,this._endStyles),this._endStyles=null),Ro(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Lx(n){let t=null;return n.forEach((e,i)=>{(function Gqe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class _q{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:nq(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Wqe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return $$(t,e)}getParentElement(t){return hx(t)}query(t,e,i){return q$(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(c.easing=s);const l=new Map,u=a.filter(h=>h instanceof _q);(function Y$e(n,t){return 0===n||0===t})(i,r)&&u.forEach(h=>{h.currentSnapshot.forEach((p,v)=>l.set(v,p))});let d=function W$e(n){return n.length?n[0]instanceof Map?n:n.map(t=>Z$(t)):[]}(e).map(h=>j2(h));d=function X$e(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,a)=>{i.has(a)||r.push(a),i.set(a,s)}),r.length)for(let s=1;s<t.length;s++){let a=t[s];r.forEach(o=>a.set(o,nq(n,o)))}}return t}(t,d,l);const f=function Bqe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Lx(t[0]),t.length>1&&(i=Lx(t[t.length-1]))):t instanceof Map&&(e=Lx(t)),e||i?new Uqe(n,e,i):null}(t,d);return new _q(t,d,c,f)}}let jqe=(()=>{class n extends hI{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Ps.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?W_(e):e;return vq(this._renderer,null,i,"register",[r]),new $qe(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(j(fd),j(Ct))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class $qe extends class Mle{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new qqe(this._id,t,e||{},this._renderer)}}class qqe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return vq(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vq(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const yq="@.disabled";let Yqe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const o=a?.parentNode(s);o&&a.removeChild(o,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new bq("",s,this.engine),this._rendererCache.set(s,u)),u}const a=i.id,o=i.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const c=u=>{Array.isArray(u)?u.forEach(c):this.engine.registerTrigger(a,o,e,u.name,u)};return i.data.animation.forEach(c),new Xqe(this,o,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,o]=s;a(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(j(fd),j(f5),j(Ht))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class bq{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==yq?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Xqe extends bq{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==yq?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Kqe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function Zqe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,o=>{this.factory.scheduleListenerCallback(o._data||-1,i,o)})}return this.delegate.listen(t,e,i)}}const Mq=[{provide:hI,useClass:jqe},{provide:Sx,useFactory:function Jqe(){return new vqe}},{provide:f5,useClass:(()=>{class n extends f5{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(j(Ct),j(px),j(Sx),j(a2))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})()},{provide:fd,useFactory:function eYe(n,t,e){return new Yqe(n,t,e)},deps:[G6,f5,Ht]}],Ix=[{provide:px,useFactory:()=>new Wqe},{provide:fr,useValue:"BrowserAnimations"},...Mq],xq=[{provide:px,useClass:Y$},{provide:fr,useValue:"NoopAnimations"},...Mq];let tYe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?xq:Ix}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({providers:Ix,imports:[Ua]}),n})();function de(n,t,e,i){var a,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,t,e,i);else for(var o=n.length-1;o>=0;o--)(a=n[o])&&(s=(r<3?a(s):r>3?a(t,e,s):a(t,e))||s);return r>3&&s&&Object.defineProperty(t,e,s),s}function eo(n,t){return function(e,i){t(e,i,n)}}class iYe extends Xe{constructor(t=1/0,e=1/0,i=Y9){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let o=0;for(let c=1;c<i.length&&i[c]<=a;c+=2)o=c;o&&i.splice(0,o+1)}}}function Fh(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,Vr({connector:()=>new iYe(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}var ps=ca(122);function rYe(n,t){if(1&n){const e=fi();I(0,"ngx-material-timepicker-24-hours-face",17),ve("hourChange",function(r){return dt(e),ft(ue(2).onHourChange(r))})("hourSelected",function(r){return dt(e),ft(ue(2).onHourSelected(r))}),ii(1,"async"),V()}if(2&n){const e=ue(2);U("selectedHour",Xs(1,4,e.selectedHour))("minTime",e.minTime)("maxTime",e.maxTime)("format",e.format)}}function sYe(n,t){if(1&n){const e=fi();I(0,"ngx-material-timepicker-12-hours-face",18),ve("hourChange",function(r){return dt(e),ft(ue(2).onHourChange(r))})("hourSelected",function(r){return dt(e),ft(ue(2).onHourSelected(r))}),ii(1,"async"),ii(2,"async"),V()}if(2&n){const e=ue(2);U("selectedHour",Xs(1,4,e.selectedHour))("period",Xs(2,6,e.selectedPeriod))("minTime",e.minTime)("maxTime",e.maxTime)}}function aYe(n,t){if(1&n&&(I(0,"div"),Le(1,rYe,2,6,"ngx-material-timepicker-24-hours-face",15),Le(2,sYe,3,8,"ng-template",null,16,yo),V()),2&n){const e=ki(3),i=ue();Y(1),U("ngIf",24===i.format)("ngIfElse",e)}}function oYe(n,t){if(1&n){const e=fi();I(0,"ngx-material-timepicker-minutes-face",19),ve("minuteChange",function(r){return dt(e),ft(ue().onMinuteChange(r))}),ii(1,"async"),ii(2,"async"),ii(3,"async"),V()}if(2&n){const e=ue();let i;U("selectedMinute",Xs(1,7,e.selectedMinute))("selectedHour",null==(i=Xs(2,9,e.selectedHour))?null:i.time)("minTime",e.minTime)("maxTime",e.maxTime)("format",e.format)("period",Xs(3,11,e.selectedPeriod))("minutesGap",e.minutesGap)}}function cYe(n,t){1&n&&go(0)}function lYe(n,t){1&n&&go(0)}function uYe(n,t){1&n&&(I(0,"ngx-material-timepicker-button"),K(1,"Cancel"),V())}function dYe(n,t){1&n&&(I(0,"ngx-material-timepicker-button"),K(1,"Ok"),V())}const fYe=function(n){return{"timepicker-backdrop-overlay--transparent":n}};function hYe(n,t){1&n&&(ti(),I(0,"svg",2),Re(1,"path",3),V())}const pYe=[[["","ngxMaterialTimepickerToggleIcon",""]]],mYe=["[ngxMaterialTimepickerToggleIcon]"],gYe=["clockFace"],_Ye=["clockHand"],uu=function(n){return{transform:n}},Hx=function(n,t){return{active:n,disabled:t}};function vYe(n,t){if(1&n&&(I(0,"div",9)(1,"span",10),ii(2,"activeHour"),K(3),ii(4,"timeLocalizer"),V()()),2&n){const e=t.$implicit,i=ue(2);U("ngStyle",yi(11,uu,"rotateZ("+e.angle+"deg) translateX(-50%)")),Y(1),U("ngStyle",yi(13,uu,"rotateZ(-"+e.angle+"deg)"))("ngClass",Ad(15,Hx,bl(2,4,e.time,i.selectedTime.time,i.isClockFaceDisabled),e.disabled)),Y(2),as(" ",r2(4,8,e.time,i.timeUnit.HOUR)," ")}}function yYe(n,t){if(1&n&&(I(0,"div",13)(1,"span",10),ii(2,"activeHour"),K(3),ii(4,"timeLocalizer"),V()()),2&n){const e=t.$implicit,i=ue(3);Ts("height",i.innerClockFaceSize,"px"),U("ngStyle",yi(13,uu,"rotateZ("+e.angle+"deg) translateX(-50%)")),Y(1),U("ngStyle",yi(15,uu,"rotateZ(-"+e.angle+"deg)"))("ngClass",Ad(17,Hx,bl(2,6,e.time,null==i.selectedTime?null:i.selectedTime.time,i.isClockFaceDisabled),e.disabled)),Y(2),as(" ",r2(4,10,e.time,i.timeUnit.HOUR),"")}}function bYe(n,t){if(1&n&&(I(0,"div",11),Le(1,yYe,5,20,"div",12),ii(2,"slice"),V()),2&n){const e=ue(2);Ts("top","calc(50% - "+e.innerClockFaceSize+"px)"),Y(1),U("ngForOf",bl(2,4,e.faceTime,12,24))("ngForTrackBy",e.trackByTime)}}function MYe(n,t){if(1&n&&(I(0,"div",6),Le(1,vYe,5,18,"div",7),ii(2,"slice"),Le(3,bYe,3,8,"div",8),V()),2&n){const e=ue();Y(1),U("ngForOf",bl(2,3,e.faceTime,0,12))("ngForTrackBy",e.trackByTime),Y(2),U("ngIf",e.faceTime.length>12)}}function xYe(n,t){if(1&n&&(I(0,"div",9)(1,"span",10),ii(2,"activeMinute"),K(3),ii(4,"timeLocalizer"),ii(5,"minutesFormatter"),V()()),2&n){const e=t.$implicit,i=ue(2);U("ngStyle",yi(15,uu,"rotateZ("+e.angle+"deg) translateX(-50%)")),Y(1),U("ngStyle",yi(17,uu,"rotateZ(-"+e.angle+"deg)"))("ngClass",Ad(19,Hx,function AA(n,t,e,i,r,s){const a=n+22,o=Ae(),c=Ve(o,a);return Ed(o,a)?SA(o,is(),t,c.transform,e,i,r,s,c):c.transform(e,i,r,s)}(2,4,e.time,null==i.selectedTime?null:i.selectedTime.time,i.minutesGap,i.isClockFaceDisabled),e.disabled)),Y(2),as(" ",r2(4,9,r2(5,12,e.time,i.minutesGap),i.timeUnit.MINUTE),"")}}function CYe(n,t){if(1&n&&(I(0,"div",6),Le(1,xYe,6,22,"div",7),V()),2&n){const e=ue();Y(1),U("ngForOf",e.faceTime)("ngForTrackBy",e.trackByTime)}}const wYe=function(n){return{"clock-face__clock-hand_minute":n}},Sq=["*"];function SYe(n,t){1&n&&go(0)}function TYe(n,t){1&n&&(I(0,"small",10),K(1," * use arrows ("),I(2,"span"),K(3,"\u21c5"),V(),K(4,") to change the time"),V())}const AYe=function(n){return{"timepicker-dial__hint-container--hidden":n}};function DYe(n,t){if(1&n&&(I(0,"div",7),Le(1,SYe,1,0,"ng-container",8),Le(2,TYe,5,0,"ng-template",null,9,yo),V()),2&n){const e=ki(3),i=ue();U("ngClass",yi(2,AYe,!i.isHintVisible)),Y(1),U("ngTemplateOutlet",i.editableHintTmpl?i.editableHintTmpl:e)}}const EYe=function(n){return{"timepicker-dial__period--hidden":n}},m5=function(n){return{"timepicker-dial__item_active":n}};function kYe(n,t){if(1&n){const e=fi();I(0,"input",2),ve("ngModelChange",function(r){return dt(e),ft(ue().time=r)})("input",function(){return dt(e),ft(ue().updateTime())})("focus",function(r){dt(e);const s=ue();return ft(s.saveTimeAndChangeTimeUnit(r,s.timeUnit))}),ii(1,"timeLocalizer"),V()}if(2&n){const e=ue();U("ngClass",yi(7,m5,e.isActive))("ngModel",r2(1,4,e.time,e.timeUnit))("disabled",e.disabled)("timepickerAutofocus",e.isActive)}}function LYe(n,t){if(1&n){const e=fi();I(0,"input",3),ve("ngModelChange",function(r){return dt(e),ft(ue().onModelChange(r))})("input",function(){return dt(e),ft(ue().updateTime())})("focus",function(r){dt(e);const s=ue();return ft(s.saveTimeAndChangeTimeUnit(r,s.timeUnit))})("keydown",function(r){return dt(e),ft(ue().onKeydown(r))})("keypress",function(r){return dt(e),ft(ue().changeTimeByKeyboard(r))}),ii(1,"timeLocalizer"),ii(2,"timeParser"),V()}if(2&n){const e=ue();U("ngClass",yi(11,m5,e.isActive))("ngModel",bl(1,4,r2(2,8,e.time,e.timeUnit),e.timeUnit,!0))("disabled",e.disabled)("timepickerAutofocus",e.isActive)}}function IYe(n,t){if(1&n){const e=fi();I(0,"div",3),ve("@scaleInOut.done",function(){return dt(e),ft(ue().animationDone())}),I(1,"p"),K(2,"Current time would be invalid in this period."),V()()}2&n&&U("@scaleInOut",void 0)}function VYe(n,t){if(1&n){const e=fi();I(0,"ngx-timepicker-period-selector",9),ve("periodSelected",function(r){return dt(e),ft(ue().changePeriod(r))}),V()}if(2&n){const e=ue();U("selectedPeriod",e.period)("disabled",e.disabled||e.isChangePeriodDisabled)}}function HYe(n,t){1&n&&go(0)}const RYe=function(n){return{"ngx-timepicker__toggle--left":n}};function zYe(n,t){if(1&n&&(I(0,"ngx-material-timepicker-toggle",10)(1,"span",11),Le(2,HYe,1,0,"ng-container",12),V()()),2&n){const e=ue(),i=ki(10),r=ki(12);U("ngClass",yi(4,RYe,"left"===e.buttonAlign))("for",i)("disabled",e.disabled),Y(2),U("ngTemplateOutlet",e.toggleIcon||r)}}function PYe(n,t){1&n&&(ti(),I(0,"svg",13),Re(1,"path",14),V())}const NYe=function(n){return{"ngx-timepicker--disabled":n}},FYe=function(n){return{"ngx-timepicker-control--active":n}},Tq=function(n){return{"period-selector__button--active":n}};function OYe(n,t){if(1&n){const e=fi();I(0,"ul",6)(1,"li")(2,"button",7),ve("click",function(){dt(e);const r=ue();return ft(r.select(r.period.AM))}),K(3),V()(),I(4,"li")(5,"button",7),ve("click",function(){dt(e);const r=ue();return ft(r.select(r.period.PM))}),K(6),V()()()}if(2&n){const e=ue();U("@scaleInOut",void 0)("timepickerAutofocus",!0),Y(2),U("ngClass",yi(6,Tq,e.localizedPeriod===e.meridiems[0])),Y(1),ur(e.meridiems[0]),Y(2),U("ngClass",yi(8,Tq,e.localizedPeriod===e.meridiems[1])),Y(1),ur(e.meridiems[1])}}function BYe(n,t){if(1&n){const e=fi();I(0,"div",8),ve("click",function(){return dt(e),ft(ue().backdropClick())}),V()}}const UYe=function(n){return{"period-control__button--disabled":n}};function GYe(n,t){1&n&&go(0)}function WYe(n,t){if(1&n&&(I(0,"div",3),Le(1,GYe,1,0,"ng-container",4),V()),2&n){const e=ue(),i=ki(4);U("ngxAppendToInput",e.inputElement),Y(1),U("ngTemplateOutlet",i)}}function jYe(n,t){1&n&&go(0)}function $Ye(n,t){1&n&&Le(0,jYe,1,0,"ng-container",4),2&n&&(ue(),U("ngTemplateOutlet",ki(4)))}function qYe(n,t){1&n&&Jt(0)}let to=class{constructor(){this.backdropClickSubject=new Xe,this.keydownEventSubject=new Xe}get backdropClick(){return this.backdropClickSubject.asObservable().pipe(Fh({bufferSize:1,refCount:!0}))}get keydownEvent(){return this.keydownEventSubject.asObservable().pipe(Fh({bufferSize:1,refCount:!0}))}dispatchEvent(t){switch(t.type){case"click":this.backdropClickSubject.next(t);break;case"keydown":this.keydownEventSubject.next(t);break;default:throw new Error("no such event type")}}};to.\u0275fac=function(t){return new(t||to)},to.\u0275prov=_e({token:to,factory:function(n){return to.\u0275fac(n)},providedIn:"root"}),to.ngInjectableDef=_e({factory:function(){return new to},token:to,providedIn:"root"});let no=class{constructor(t,e,i,r){this.cfr=t,this.appRef=e,this.injector=i,this.document=r}appendTimepickerToBody(t,e){this.componentRef=this.cfr.resolveComponentFactory(t).create(this.injector),Object.keys(e).forEach(r=>this.componentRef.instance[r]=e[r]),this.appRef.attachView(this.componentRef.hostView),this.document.body.appendChild(this.componentRef.hostView.rootNodes[0])}destroyTimepicker(){this.componentRef.destroy(),this.appRef.detachView(this.componentRef.hostView)}};no.\u0275fac=function(t){return new(t||no)(j(Ko),j(a2),j(Gi),j(Ct,8))},no.\u0275prov=_e({token:no,factory:function(n){return no.\u0275fac(n)},providedIn:"root"}),no.ngInjectableDef=_e({factory:function(){return new no(j(Ko),j(a2),j(V7),j(Ct,8))},token:no,providedIn:"root"}),no=de([eo(3,ws()),eo(3,Cs(Ct))],no);var br=(()=>{return(n=br||(br={}))[n.HOUR=0]="HOUR",n[n.MINUTE=1]="MINUTE",br;var n})(),Mr=(()=>{return(n=Mr||(Mr={})).AM="AM",n.PM="PM",Mr;var n})(),io=(()=>{return(n=io||(io={})).TWELVE="hh:mm a",n.TWELVE_SHORT="h:m a",n.TWENTY_FOUR="HH:mm",n.TWENTY_FOUR_SHORT="H:m",io;var n})();function Rx(n,t,e="minutes"){return"hours"===e?n.hour>=t.hour:"minutes"===e?n.hasSame(t,e)||n.valueOf()>t.valueOf():void 0}function zx(n,t,e="minutes"){return"hours"===e?n.hour<=t.hour:"minutes"===e?n.hasSame(t,e)||n.valueOf()<=t.valueOf():void 0}function Aq(n){return!!([46,8,9,27,13].some(t=>t===n.keyCode)||65==n.keyCode&&(!0===n.ctrlKey||!0===n.metaKey)||67==n.keyCode&&(!0===n.ctrlKey||!0===n.metaKey)||88==n.keyCode&&(!0===n.ctrlKey||!0===n.metaKey)||n.keyCode>=35&&n.keyCode<=40)||!((n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105))}let Ai=(()=>{class n{static parseTime(e,i){const{numberingSystem:r,locale:s}=n.getLocaleOptionsByTime(e,i),o=2===e.split(" ").length?io.TWELVE_SHORT:io.TWENTY_FOUR_SHORT;return ps.ou.fromFormat(e,o,{numberingSystem:r,locale:s})}static formatTime(e,i){if(!e)return"Invalid Time";const{format:r}=i,s=n.parseTime(e,i).setLocale(n.DEFAULT_LOCALE);return 24!==r?s.toLocaleString(Object.assign({},ps.ou.TIME_SIMPLE,{hour12:24!==r,numberingSystem:n.DEFAULT_NUMBERING_SYSTEM})).replace(/\u200E/g,""):s.toISOTime({includeOffset:!1,suppressMilliseconds:!0,suppressSeconds:!0}).replace(/\u200E/g,"")}static toLocaleTimeString(e,i={}){const{format:r=n.DEFAULT_FORMAT,locale:s=n.DEFAULT_LOCALE}=i,o=Object.assign({},ps.ou.TIME_SIMPLE,{hourCycle:24===r?"h23":"h12"});return ps.ou.fromFormat(e,24===r?io.TWENTY_FOUR_SHORT:io.TWELVE_SHORT).setLocale(s).toLocaleString(o)}static isTimeAvailable(e,i,r,s,a,o){if(!e)return;const c=this.parseTime(e,{format:o}),l=c.minute;if(a&&l==l&&l%a!=0)throw new Error(`Your minutes - ${l} doesn't match your minutesGap - ${a}`);const u=i&&!r&&Rx(c,i,s),d=r&&!i&&zx(c,r,s),f=i&&r&&function YYe(n,t,e,i="minutes"){return"hours"===i?zx(n,e,i)&&Rx(n,t,i):"minutes"===i?zx(n,e)&&Rx(n,t):void 0}(c,i,r,s);return u||d||f||!i&&!r}static formatHour(e,i,r){if(24===i)return e;const s=r===Mr.AM?e:e+12;return r===Mr.AM&&12===s?0:r===Mr.PM&&24===s?12:s}static fromDateTimeToString(e,i){const r=24===i?io.TWENTY_FOUR:io.TWELVE;return e.reconfigure({numberingSystem:n.DEFAULT_NUMBERING_SYSTEM,locale:n.DEFAULT_LOCALE}).toFormat(r)}static getLocaleOptionsByTime(e,i){const{numberingSystem:r,locale:s}=ps.ou.local().setLocale(i.locale).resolvedLocaleOpts(),a={numberingSystem:r,locale:s},o={numberingSystem:n.DEFAULT_NUMBERING_SYSTEM,locale:n.DEFAULT_LOCALE};return isNaN(parseInt(e,10))?a:o}}return n.DEFAULT_FORMAT=12,n.DEFAULT_LOCALE="en-US",n.DEFAULT_NUMBERING_SYSTEM="latn",n})();const g5={time:12,angle:360},_5={time:0,angle:360};let aa=class{constructor(){this.hourSubject=new Rr(g5),this.minuteSubject=new Rr(_5),this.periodSubject=new Rr(Mr.AM)}set hour(t){this.hourSubject.next(t)}get selectedHour(){return this.hourSubject.asObservable()}set minute(t){this.minuteSubject.next(t)}get selectedMinute(){return this.minuteSubject.asObservable()}set period(t){(t===Mr.AM||t===Mr.PM)&&this.periodSubject.next(t)}get selectedPeriod(){return this.periodSubject.asObservable()}setDefaultTimeIfAvailable(t,e,i,r,s){try{Ai.isTimeAvailable(t,e,i,"minutes",s)&&this.setDefaultTime(t,r)}catch(a){console.error(a)}}getFullTime(t){const e=this.hourSubject.getValue().time,i=this.minuteSubject.getValue().time,o=`${e??g5.time}:${i??_5.time} ${12===t?this.periodSubject.getValue():""}`.trim();return Ai.formatTime(o,{format:t})}setDefaultTime(t,e){const i=Ai.parseTime(t,{format:e}).toJSDate();if(ps.ou.fromJSDate(i).isValid){const r=t.substr(t.length-2).toUpperCase(),s=i.getHours();this.hour=Object.assign({},g5,{time:XYe(s,r)}),this.minute=Object.assign({},_5,{time:i.getMinutes()}),this.period=r}else this.resetTime()}resetTime(){this.hour=Object.assign({},g5),this.minute=Object.assign({},_5),this.period=Mr.AM}};function XYe(n,t){switch(t){case Mr.AM:return 0===n?12:n;case Mr.PM:return 12===n?12:n-12;default:return n}}aa.\u0275fac=function(t){return new(t||aa)},aa.\u0275prov=_e({token:aa,factory:function(n){return aa.\u0275fac(n)},providedIn:"root"}),aa.ngInjectableDef=_e({factory:function(){return new aa},token:aa,providedIn:"root"});const Ur=new he("TimeLocale",{providedIn:"root",factory:()=>Ai.DEFAULT_LOCALE});var zc=(()=>{return(n=zc||(zc={})).ENTER="enter",n.LEAVE="leave",zc;var n})();let KYe=(()=>{let n=class{constructor(e,i,r){this.timepickerService=e,this.eventService=i,this.locale=r,this.timeUnit=br,this.activeTimeUnit=br.HOUR,this.unsubscribe=new Xe}set defaultTime(e){this._defaultTime=e,this.setDefaultTime(e)}get defaultTime(){return this._defaultTime}onKeydown(e){this.eventService.dispatchEvent(e),e.stopPropagation()}ngOnInit(){this.animationState=!this.disableAnimation&&zc.ENTER,this.defineTime(),this.selectedHour=this.timepickerService.selectedHour.pipe(Fh({bufferSize:1,refCount:!0})),this.selectedMinute=this.timepickerService.selectedMinute.pipe(Fh({bufferSize:1,refCount:!0})),this.selectedPeriod=this.timepickerService.selectedPeriod.pipe(Fh({bufferSize:1,refCount:!0})),this.timepickerBaseRef.timeUpdated.pipe(en(this.unsubscribe)).subscribe(this.setDefaultTime.bind(this))}onHourChange(e){this.timepickerService.hour=e,this.onTimeChange()}onHourSelected(e){this.hoursOnly||this.changeTimeUnit(br.MINUTE),this.timepickerBaseRef.hourSelected.next(e)}onMinuteChange(e){this.timepickerService.minute=e,this.onTimeChange()}changePeriod(e){this.timepickerService.period=e,this.onTimeChange()}changeTimeUnit(e){this.activeTimeUnit=e}setTime(){this.timepickerBaseRef.timeSet.next(this.timepickerService.getFullTime(this.format)),this.close()}close(){this.disableAnimation?this.timepickerBaseRef.close():this.animationState=zc.LEAVE}animationDone(e){"done"===e.phaseName&&e.toState===zc.LEAVE&&this.timepickerBaseRef.close()}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}setDefaultTime(e){this.timepickerService.setDefaultTimeIfAvailable(e,this.minTime,this.maxTime,this.format,this.minutesGap)}defineTime(){const e=this.minTime;if(e&&!this.time&&!this.defaultTime){const i=Ai.fromDateTimeToString(e,this.format);this.setDefaultTime(i)}}onTimeChange(){const e=Ai.toLocaleTimeString(this.timepickerService.getFullTime(this.format),{locale:this.locale,format:this.format});this.timepickerBaseRef.timeChanged.emit(e)}};return n.\u0275fac=function(e){return new(e||n)(S(aa),S(to),S(Ur))},n.\u0275cmp=st({type:n,selectors:[["ngx-material-timepicker-container"]],hostBindings:function(e,i){1&e&&ve("keydown",function(s){return i.onKeydown(s)})},inputs:{defaultTime:"defaultTime"},features:[wt([aa])],decls:22,vars:31,consts:[[1,"timepicker-backdrop-overlay",3,"overlay","ngClass"],[1,"timepicker-overlay"],[3,"appendToInput","inputElement","ngxMaterialTimepickerTheme"],[1,"timepicker",3,"ngClass"],[1,"timepicker__header"],[3,"format","hour","minute","period","activeTimeUnit","minTime","maxTime","isEditable","editableHintTmpl","minutesGap","hoursOnly","periodChanged","timeUnitChanged","hourChanged","minuteChanged"],[1,"timepicker__main-content"],[1,"timepicker__body",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange",4,"ngSwitchCase"],[1,"timepicker__actions"],[3,"click"],[4,"ngTemplateOutlet"],["cancelBtnDefault",""],["confirmBtnDefault",""],[3,"selectedHour","minTime","maxTime","format","hourChange","hourSelected",4,"ngIf","ngIfElse"],["ampmHours",""],[3,"selectedHour","minTime","maxTime","format","hourChange","hourSelected"],[3,"selectedHour","period","minTime","maxTime","hourChange","hourSelected"],[3,"selectedMinute","selectedHour","minTime","maxTime","format","period","minutesGap","minuteChange"]],template:function(e,i){if(1&e&&(Re(0,"div",0),I(1,"div",1)(2,"ngx-material-timepicker-content",2)(3,"div",3),ve("@timepicker.done",function(s){return i.animationDone(s)}),I(4,"header",4)(5,"ngx-material-timepicker-dial",5),ve("periodChanged",function(s){return i.changePeriod(s)})("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("hourChanged",function(s){return i.onHourChange(s)})("minuteChanged",function(s){return i.onMinuteChange(s)}),ii(6,"async"),ii(7,"async"),ii(8,"async"),V()(),I(9,"div",6)(10,"div",7),Le(11,aYe,4,2,"div",8),Le(12,oYe,4,13,"ngx-material-timepicker-minutes-face",9),V(),I(13,"div",10)(14,"div",11),ve("click",function(){return i.close()}),Le(15,cYe,1,0,"ng-container",12),V(),I(16,"div",11),ve("click",function(){return i.setTime()}),Le(17,lYe,1,0,"ng-container",12),V()()()()()(),Le(18,uYe,2,0,"ng-template",null,13,yo),Le(20,dYe,2,0,"ng-template",null,14,yo)),2&e){const r=ki(19),s=ki(21);let a,o;U("overlay",i.preventOverlayClick)("ngClass",yi(29,fYe,i.appendToInput)),Y(2),U("appendToInput",i.appendToInput)("inputElement",i.inputElement)("ngxMaterialTimepickerTheme",i.theme),Y(1),U("@timepicker",i.animationState)("ngClass",i.timepickerClass),Y(2),U("format",i.format)("hour",null==(a=Xs(6,23,i.selectedHour))?null:a.time)("minute",null==(o=Xs(7,25,i.selectedMinute))?null:o.time)("period",Xs(8,27,i.selectedPeriod))("activeTimeUnit",i.activeTimeUnit)("minTime",i.minTime)("maxTime",i.maxTime)("isEditable",i.enableKeyboardInput)("editableHintTmpl",i.editableHintTmpl)("minutesGap",i.minutesGap)("hoursOnly",i.hoursOnly),Y(5),U("ngSwitch",i.activeTimeUnit),Y(1),U("ngSwitchCase",i.timeUnit.HOUR),Y(1),U("ngSwitchCase",i.timeUnit.MINUTE),Y(3),U("ngTemplateOutlet",i.cancelBtnTmpl?i.cancelBtnTmpl:r),Y(2),U("ngTemplateOutlet",i.confirmBtnTmpl?i.confirmBtnTmpl:s)}},dependencies:function(){return[Sr,Kn,Hd,c2,R3,nXe,iXe,rXe,oXe,cXe,fXe,eXe,yXe,P6]},styles:["[_nghost-%COMP%]{--body-background-color:#fff;--primary-font-family:'Roboto',sans-serif;--button-color:deepskyblue;--dial-active-color:#fff;--dial-inactive-color:rgba(255, 255, 255, .5);--dial-background-color:deepskyblue;--dial-editable-active-color:deepskyblue;--dial-editable-background-color:#fff;--clock-face-time-active-color:#fff;--clock-face-time-inactive-color:#6c6c6c;--clock-face-inner-time-inactive-color:#929292;--clock-face-time-disabled-color:#c5c5c5;--clock-face-background-color:#f0f0f0;--clock-hand-color:deepskyblue}.timepicker-backdrop-overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;left:0;background-color:rgba(0,0,0,.3);z-index:999;pointer-events:auto}.timepicker-backdrop-overlay--transparent[_ngcontent-%COMP%]{background-color:transparent}.timepicker-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:999;pointer-events:none}.timepicker[_ngcontent-%COMP%]{width:300px;border-radius:2px;box-shadow:rgba(0,0,0,.25) 0 14px 45px,rgba(0,0,0,.22) 0 10px 18px;outline:0;position:static;z-index:999;pointer-events:auto}.timepicker__header[_ngcontent-%COMP%]{padding:15px 30px;background-color:#00bfff}@supports (background-color:var(--dial-background-color)){.timepicker__header[_ngcontent-%COMP%]{background-color:var(--dial-background-color)}}.timepicker__body[_ngcontent-%COMP%]{padding:15px 5px;display:flex;justify-content:center;align-items:center;background-color:#fff}@supports (background-color:var(--body-background-color)){.timepicker__body[_ngcontent-%COMP%]{background-color:var(--body-background-color)}}.timepicker__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:15px;background-color:#fff}@supports (background-color:var(--body-background-color)){.timepicker__actions[_ngcontent-%COMP%]{background-color:var(--body-background-color)}}@media (max-device-width:1023px) and (orientation:landscape){.timepicker[_ngcontent-%COMP%]{display:flex;width:515px}.timepicker__header[_ngcontent-%COMP%]{display:flex;align-items:center}.timepicker__main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.timepicker__actions[_ngcontent-%COMP%]{padding:5px;margin-top:-1px}}"],data:{animation:[Nr("timepicker",[Zn(`* => ${zc.ENTER}`,[It({transform:"translateY(-30%)"}),$n("0.2s ease-out",It({transform:"translateY(0)"}))]),Zn(`${zc.ENTER} => ${zc.LEAVE}`,[It({transform:"translateY(0)",opacity:1}),$n("0.2s ease-out",It({transform:"translateY(-30%)",opacity:0}))])])]}}),de([Ie()],n.prototype,"defaultTime",null),de([bo("keydown",["$event"])],n.prototype,"onKeydown",null),n=de([eo(2,Cs(Ur))],n),n})(),QYe=(()=>{let n=class{constructor(e,i){this.eventService=e,this.domService=i,this.timeUpdated=new Xe,this.isEsc=!0,this.hoursOnly=!1,this.timeSet=new Te,this.opened=new Te,this.closed=new Te,this.hourSelected=new Te,this.timeChanged=new Te,this.unsubscribe=new Xe}set ngxMaterialTimepickerTheme(e){console.warn("'ngxMaterialTimepickerTheme' is deprecated. Use 'theme' instead"),this._ngxMaterialTimepickerTheme=e}set format(e){this._format=24===e?24:12}get format(){return this.timepickerInput?this.timepickerInput.format:this._format}set minutesGap(e){null!=e&&(e=Math.floor(e),this._minutesGap=e<=59?e:1)}get minutesGap(){return this._minutesGap}get minTime(){return this.timepickerInput?this.timepickerInput.min:this.min}get maxTime(){return this.timepickerInput?this.timepickerInput.max:this.max}get disabled(){return this.timepickerInput&&this.timepickerInput.disabled}get time(){return this.timepickerInput&&this.timepickerInput.value}get inputElement(){return this.timepickerInput&&this.timepickerInput.element}registerInput(e){if(this.timepickerInput)throw Error("A Timepicker can only be associated with a single input.");this.timepickerInput=e}open(){this.domService.appendTimepickerToBody(KYe,{timepickerBaseRef:this,time:this.time,defaultTime:this.defaultTime,maxTime:this.maxTime,minTime:this.minTime,format:this.format,minutesGap:this.minutesGap,disableAnimation:this.disableAnimation,cancelBtnTmpl:this.cancelBtnTmpl,confirmBtnTmpl:this.confirmBtnTmpl,editableHintTmpl:this.editableHintTmpl,disabled:this.disabled,enableKeyboardInput:this.enableKeyboardInput,preventOverlayClick:this.preventOverlayClick,appendToInput:this.appendToInput,hoursOnly:this.hoursOnly,theme:this.theme||this._ngxMaterialTimepickerTheme,timepickerClass:this.timepickerClass,inputElement:this.inputElement}),this.opened.next(),this.subscribeToEvents()}close(){this.domService.destroyTimepicker(),this.closed.next(),this.unsubscribeFromEvents()}updateTime(e){this.timeUpdated.next(e)}subscribeToEvents(){oi(this.eventService.backdropClick,this.eventService.keydownEvent.pipe(jn(e=>27===e.keyCode&&this.isEsc))).pipe(en(this.unsubscribe)).subscribe(()=>this.close())}unsubscribeFromEvents(){this.unsubscribe.next(),this.unsubscribe.complete()}};return n.\u0275fac=function(e){return new(e||n)(S(to),S(no))},n.\u0275cmp=st({type:n,selectors:[["ngx-material-timepicker"]],inputs:{isEsc:["ESC","isEsc"],hoursOnly:"hoursOnly",ngxMaterialTimepickerTheme:"ngxMaterialTimepickerTheme",format:"format",minutesGap:"minutesGap",cancelBtnTmpl:"cancelBtnTmpl",editableHintTmpl:"editableHintTmpl",confirmBtnTmpl:"confirmBtnTmpl",enableKeyboardInput:"enableKeyboardInput",preventOverlayClick:"preventOverlayClick",disableAnimation:"disableAnimation",appendToInput:"appendToInput",defaultTime:"defaultTime",timepickerClass:"timepickerClass",theme:"theme",min:"min",max:"max"},outputs:{timeSet:"timeSet",opened:"opened",closed:"closed",hourSelected:"hourSelected",timeChanged:"timeChanged"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),de([Ie()],n.prototype,"cancelBtnTmpl",void 0),de([Ie()],n.prototype,"editableHintTmpl",void 0),de([Ie()],n.prototype,"confirmBtnTmpl",void 0),de([Ie("ESC")],n.prototype,"isEsc",void 0),de([Ie()],n.prototype,"enableKeyboardInput",void 0),de([Ie()],n.prototype,"preventOverlayClick",void 0),de([Ie()],n.prototype,"disableAnimation",void 0),de([Ie()],n.prototype,"appendToInput",void 0),de([Ie()],n.prototype,"hoursOnly",void 0),de([Ie()],n.prototype,"defaultTime",void 0),de([Ie()],n.prototype,"timepickerClass",void 0),de([Ie()],n.prototype,"theme",void 0),de([Ie()],n.prototype,"min",void 0),de([Ie()],n.prototype,"max",void 0),de([Ie()],n.prototype,"ngxMaterialTimepickerTheme",null),de([Ie()],n.prototype,"format",null),de([Ie()],n.prototype,"minutesGap",null),de([Ii()],n.prototype,"timeSet",void 0),de([Ii()],n.prototype,"opened",void 0),de([Ii()],n.prototype,"closed",void 0),de([Ii()],n.prototype,"hourSelected",void 0),de([Ii()],n.prototype,"timeChanged",void 0),n})(),Px=(()=>{let n=class{};return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ne({type:n,selectors:[["","ngxMaterialTimepickerToggleIcon",""]]}),n})(),JYe=(()=>{let n=class{get disabled(){return void 0===this._disabled?this.timepicker.disabled:this._disabled}set disabled(e){this._disabled=e}open(e){this.timepicker&&(this.timepicker.open(),e.stopPropagation())}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["ngx-material-timepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&Fn(r,Px,7),2&e){let s;vt(s=yt())&&(i.customIcon=s.first)}},inputs:{disabled:"disabled",timepicker:["for","timepicker"]},ngContentSelectors:mYe,decls:3,vars:2,consts:[["type","button",1,"ngx-material-timepicker-toggle",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(e,i){1&e&&(li(pYe),I(0,"button",0),ve("click",function(s){return i.open(s)}),Le(1,hYe,2,0,"svg",1),Jt(2),V()),2&e&&(U("disabled",i.disabled),Y(1),U("ngIf",!i.customIcon))},dependencies:[Kn],styles:[".ngx-material-timepicker-toggle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:4px;background-color:transparent;border-radius:50%;text-align:center;border:none;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:background-color .3s;cursor:pointer}.ngx-material-timepicker-toggle[_ngcontent-%COMP%]:focus{background-color:rgba(0,0,0,.07)}"]}),de([Ie("for")],n.prototype,"timepicker",void 0),de([Ie()],n.prototype,"disabled",null),de([lY(Px,{static:!0})],n.prototype,"customIcon",void 0),n})();var Nx;let ms=Nx=class{constructor(t,e){this.elementRef=t,this.locale=e,this._format=12,this._value="",this.timepickerSubscriptions=[],this.onTouched=()=>{},this.onChange=()=>{}}set format(t){this._format=24===t?24:12,t&&this.previousFormat&&this.previousFormat!==this._format&&(this.value=this._value,this._timepicker.updateTime(this._value)),this.previousFormat=this._format}get format(){return this._format}set min(t){this._min="string"!=typeof t?t:Ai.parseTime(t,{locale:this.locale,format:this.format})}get min(){return this._min}set max(t){this._max="string"!=typeof t?t:Ai.parseTime(t,{locale:this.locale,format:this.format})}get max(){return this._max}set timepicker(t){this.registerTimepicker(t)}set value(t){if(!t)return this._value="",void this.updateInputValue();const e=Ai.formatTime(t,{locale:this.locale,format:this.format});if(Ai.isTimeAvailable(e,this._min,this._max,"minutes",this._timepicker.minutesGap,this._format))return this._value=e,void this.updateInputValue();console.warn("Selected time doesn't match min or max value")}get value(){return this._value?Ai.toLocaleTimeString(this._value,{format:this.format,locale:this.locale}):""}get element(){return this.elementRef&&this.elementRef.nativeElement}set defaultTime(t){this._timepicker.defaultTime=Ai.formatTime(t,{locale:this.locale,format:this.format})}updateValue(t){this.value=t,this.onChange(t)}ngOnChanges(t){t.value&&t.value.currentValue&&(this.defaultTime=t.value.currentValue)}onClick(t){this.disableClick||(this._timepicker.open(),t.stopPropagation())}writeValue(t){this.value=t,t&&(this.defaultTime=t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}ngOnDestroy(){this.timepickerSubscriptions.forEach(t=>t.unsubscribe())}registerTimepicker(t){if(!t)throw new Error("NgxMaterialTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxTimepicker directive");this._timepicker=t,this._timepicker.registerInput(this),this.timepickerSubscriptions.push(this._timepicker.timeSet.subscribe(e=>{this.value=e,this.onChange(this.value),this.onTouched(),this.defaultTime=this._value}))}updateInputValue(){this.elementRef.nativeElement.value=this.value}};ms.\u0275fac=function(t){return new(t||ms)(S(Ge),S(Ur))},ms.\u0275dir=ne({type:ms,selectors:[["","ngxTimepicker",""]],hostVars:1,hostBindings:function(t,e){1&t&&ve("change",function(r){return e.updateValue(r.target.value)})("blur",function(){return e.onTouched()})("click",function(r){return e.onClick(r)}),2&t&&Ys("disabled",e.disabled)},inputs:{format:"format",value:"value",min:"min",max:"max",timepicker:["ngxTimepicker","timepicker"],disabled:"disabled",disableClick:"disableClick"},features:[wt([{provide:mr,useExisting:Nx,multi:!0}]),Qt]}),ms.ctorParameters=()=>[{type:Ge},{type:String,decorators:[{type:Cs,args:[Ur]}]}],de([Ie()],ms.prototype,"format",null),de([Ie()],ms.prototype,"min",null),de([Ie()],ms.prototype,"max",null),de([Ie("ngxTimepicker")],ms.prototype,"timepicker",null),de([Ie()],ms.prototype,"value",null),de([Ie()],ms.prototype,"disabled",void 0),de([Ie()],ms.prototype,"disableClick",void 0),de([bo("click",["$event"])],ms.prototype,"onClick",null),ms=Nx=de([eo(1,Cs(Ur))],ms);let eXe=(()=>{let n=class{constructor(e){this.element=e.nativeElement}ngAfterViewInit(){this.theme&&this.setTheme(this.theme)}setTheme(e){for(const i in e)if(e.hasOwnProperty(i)){if("string"==typeof e[i]){for(const r in e)e.hasOwnProperty(r)&&this.element.style.setProperty(`--${tXe(r)}`,e[r]);return}this.setTheme(e[i])}}};return n.\u0275fac=function(e){return new(e||n)(S(Ge))},n.\u0275dir=ne({type:n,selectors:[["","ngxMaterialTimepickerTheme",""]],inputs:{theme:["ngxMaterialTimepickerTheme","theme"]}}),de([Ie("ngxMaterialTimepickerTheme")],n.prototype,"theme",void 0),n})();function tXe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}class kr{static getHours(t){return Array(t).fill(1).map((e,i)=>{const s=e+i;return{time:24===s?0:s,angle:30*s}})}static disableHours(t,e){return e.min||e.max?t.map(i=>{const r=24===e.format?i.time:Ai.formatHour(i.time,e.format,e.period),s=ps.ou.fromObject({hour:r}).toFormat(io.TWELVE);return Object.assign({},i,{disabled:!Ai.isTimeAvailable(s,e.min,e.max,"hours")})}):t}static getMinutes(t=1){const r=[];for(let s=0;s<60;s++){const a=6*s;s%t==0&&r.push({time:s,angle:0!==a?a:360})}return r}static disableMinutes(t,e,i){if(i.min||i.max){const r=Ai.formatHour(e,i.format,i.period);return t.map(s=>{const a=ps.ou.fromObject({hour:r,minute:s.time}).toFormat(io.TWELVE);return Object.assign({},s,{disabled:!Ai.isTimeAvailable(a,i.min,i.max,"minutes")})})}return t}}let Dq=(()=>{class n{constructor(e){this.hourChange=new Te,this.hourSelected=new Te,this.hoursList=[],this.hoursList=kr.getHours(e)}onTimeSelected(e){this.hourSelected.next(e)}}return n.\u0275fac=function(e){da()},n.\u0275dir=ne({type:n,inputs:{selectedHour:"selectedHour",minTime:"minTime",maxTime:"maxTime",format:"format"},outputs:{hourChange:"hourChange",hourSelected:"hourSelected"}}),de([Ie()],n.prototype,"selectedHour",void 0),de([Ie()],n.prototype,"minTime",void 0),de([Ie()],n.prototype,"maxTime",void 0),de([Ie()],n.prototype,"format",void 0),de([Ii()],n.prototype,"hourChange",void 0),de([Ii()],n.prototype,"hourSelected",void 0),n})(),nXe=(()=>{let n=class extends Dq{constructor(){super(24)}ngAfterContentInit(){this.hoursList=kr.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["ngx-material-timepicker-24-hours-face"]],features:[me],decls:1,vars:3,consts:[[3,"selectedTime","faceTime","format","timeChange","timeSelected"]],template:function(e,i){1&e&&(I(0,"ngx-material-timepicker-face",0),ve("timeChange",function(s){return i.hourChange.next(s)})("timeSelected",function(s){return i.onTimeSelected(s)}),V()),2&e&&U("selectedTime",i.selectedHour)("faceTime",i.hoursList)("format",i.format)},dependencies:function(){return[Fx]},encapsulation:2,changeDetection:0}),n})(),iXe=(()=>{let n=class extends Dq{constructor(){super(12)}ngOnChanges(e){e.period&&e.period.currentValue&&(this.hoursList=kr.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["ngx-material-timepicker-12-hours-face"]],inputs:{period:"period"},features:[me,Qt],decls:1,vars:2,consts:[[3,"selectedTime","faceTime","timeChange","timeSelected"]],template:function(e,i){1&e&&(I(0,"ngx-material-timepicker-face",0),ve("timeChange",function(s){return i.hourChange.next(s)})("timeSelected",function(s){return i.onTimeSelected(s)}),V()),2&e&&U("selectedTime",i.selectedHour)("faceTime",i.hoursList)},dependencies:function(){return[Fx]},encapsulation:2,changeDetection:0}),de([Ie()],n.prototype,"period",void 0),n})(),rXe=(()=>{let n=class{constructor(){this.minutesList=[],this.timeUnit=br,this.minuteChange=new Te}ngOnChanges(e){if(e.period&&e.period.currentValue){const i=kr.getMinutes(this.minutesGap);this.minutesList=kr.disableMinutes(i,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["ngx-material-timepicker-minutes-face"]],inputs:{selectedMinute:"selectedMinute",selectedHour:"selectedHour",period:"period",minTime:"minTime",maxTime:"maxTime",format:"format",minutesGap:"minutesGap"},outputs:{minuteChange:"minuteChange"},features:[Qt],decls:1,vars:4,consts:[[3,"faceTime","selectedTime","minutesGap","unit","timeChange"]],template:function(e,i){1&e&&(I(0,"ngx-material-timepicker-face",0),ve("timeChange",function(s){return i.minuteChange.next(s)}),V()),2&e&&U("faceTime",i.minutesList)("selectedTime",i.selectedMinute)("minutesGap",i.minutesGap)("unit",i.timeUnit.MINUTE)},dependencies:function(){return[Fx]},encapsulation:2}),de([Ie()],n.prototype,"selectedMinute",void 0),de([Ie()],n.prototype,"selectedHour",void 0),de([Ie()],n.prototype,"period",void 0),de([Ie()],n.prototype,"minTime",void 0),de([Ie()],n.prototype,"maxTime",void 0),de([Ie()],n.prototype,"format",void 0),de([Ie()],n.prototype,"minutesGap",void 0),de([Ii()],n.prototype,"minuteChange",void 0),n})();const v5_small_height="75px",v5_small_top="calc(50% - 75px)",v5_large_height="103px",v5_large_top="calc(50% - 103px)";let Fx=(()=>{let n=class{constructor(){this.timeUnit=br,this.innerClockFaceSize=85,this.timeChange=new Te,this.timeSelected=new Te}ngAfterViewInit(){this.setClockHandPosition(),this.addTouchEvents()}ngOnChanges(e){const i=e.faceTime,r=e.selectedTime;i&&i.currentValue&&r&&r.currentValue&&(this.selectedTime=this.faceTime.find(s=>s.time===this.selectedTime.time)),r&&r.currentValue&&this.setClockHandPosition(),i&&i.currentValue&&setTimeout(()=>this.selectAvailableTime())}trackByTime(e,i){return i.time}onMousedown(e){e.preventDefault(),this.isStarted=!0}selectTime(e){if(!this.isStarted&&e instanceof MouseEvent&&"click"!==e.type)return;const i=this.clockFace.nativeElement.getBoundingClientRect(),r=i.left+i.width/2,s=i.top+i.height/2,a=180*Math.atan(Math.abs(e.clientX-r)/Math.abs(e.clientY-s))/Math.PI,o=function aXe(n,t,e,i,r){return i>t&&e>=n?180-r:i>t&&e<n?180+r:i<t&&e<n?360-r:r}(r,s,e.clientX,e.clientY,a),c=this.format&&this.isInnerClockFace(r,s,e.clientX,e.clientY),d=(function sXe(n,t){return Math.round(n/t)*t}(o,this.unit===br.MINUTE?6*(this.minutesGap||1):30)||360)+(c?360:0),f=this.faceTime.find(h=>h.angle===d);f&&!f.disabled&&(this.timeChange.next(f),this.isStarted||this.timeSelected.next(f.time))}onMouseup(e){e.preventDefault(),this.isStarted=!1}ngOnDestroy(){this.removeTouchEvents()}addTouchEvents(){this.touchStartHandler=this.onMousedown.bind(this),this.touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this.touchEndHandler)}removeTouchEvents(){this.clockFace.nativeElement.removeEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this.touchEndHandler)}setClockHandPosition(){24===this.format&&(this.selectedTime.time>12||0===this.selectedTime.time?this.decreaseClockHand():this.increaseClockHand()),this.clockHand.nativeElement.style.transform=`rotate(${this.selectedTime.angle}deg)`}selectAvailableTime(){const e=this.faceTime.find(i=>this.selectedTime.time===i.time);if(this.isClockFaceDisabled=this.faceTime.every(i=>i.disabled),e&&e.disabled&&!this.isClockFaceDisabled){const i=this.faceTime.find(r=>!r.disabled);this.timeChange.next(i)}}isInnerClockFace(e,i,r,s){return Math.sqrt(Math.pow(r-e,2)+Math.pow(s-i,2))<this.innerClockFaceSize}decreaseClockHand(){this.clockHand.nativeElement.style.height=v5_small_height,this.clockHand.nativeElement.style.top=v5_small_top}increaseClockHand(){this.clockHand.nativeElement.style.height=v5_large_height,this.clockHand.nativeElement.style.top=v5_large_top}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["ngx-material-timepicker-face"]],viewQuery:function(e,i){if(1&e&&(Ln(gYe,7),Ln(_Ye,7)),2&e){let r;vt(r=yt())&&(i.clockFace=r.first),vt(r=yt())&&(i.clockHand=r.first)}},hostBindings:function(e,i){1&e&&ve("mousedown",function(s){return i.onMousedown(s)})("click",function(s){return i.selectTime(s)})("touchmove",function(s){return i.selectTime(s.changedTouches[0])})("touchend",function(s){return i.selectTime(s.changedTouches[0])})("mousemove",function(s){return i.selectTime(s)})("mouseup",function(s){return i.onMouseup(s)})},inputs:{selectedTime:"selectedTime",faceTime:"faceTime",unit:"unit",format:"format",minutesGap:"minutesGap"},outputs:{timeChange:"timeChange",timeSelected:"timeSelected"},features:[Qt],decls:7,vars:6,consts:[[1,"clock-face"],["clockFace",""],["class","clock-face__container",4,"ngIf","ngIfElse"],[1,"clock-face__clock-hand",3,"ngClass","hidden"],["clockHand",""],["minutesFace",""],[1,"clock-face__container"],["class","clock-face__number clock-face__number--outer",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["class","clock-face__inner",3,"top",4,"ngIf"],[1,"clock-face__number","clock-face__number--outer",3,"ngStyle"],[3,"ngStyle","ngClass"],[1,"clock-face__inner"],["class","clock-face__number clock-face__number--inner",3,"ngStyle","height",4,"ngFor","ngForOf","ngForTrackBy"],[1,"clock-face__number","clock-face__number--inner",3,"ngStyle"]],template:function(e,i){if(1&e&&(I(0,"div",0,1),Le(2,MYe,4,7,"div",2),Re(3,"span",3,4),V(),Le(5,CYe,2,2,"ng-template",null,5,yo)),2&e){const r=ki(6);Y(2),U("ngIf",i.unit!==i.timeUnit.MINUTE)("ngIfElse",r),Y(1),U("ngClass",yi(4,wYe,i.unit===i.timeUnit.MINUTE))("hidden",i.isClockFaceDisabled)}},dependencies:function(){return[Sr,Co,Kn,Ds,ZD,hXe,Bx,_Xe,vXe]},styles:[".clock-face[_ngcontent-%COMP%]{width:290px;height:290px;border-radius:50%;position:relative;display:flex;justify-content:center;padding:20px;box-sizing:border-box;background-color:#f0f0f0}@supports (background-color:var(--clock-face-background-color)){.clock-face[_ngcontent-%COMP%]{background-color:var(--clock-face-background-color)}}.clock-face__inner[_ngcontent-%COMP%]{position:absolute}.clock-face__container[_ngcontent-%COMP%]{margin-left:-2px}.clock-face__number[_ngcontent-%COMP%]{position:absolute;transform-origin:0 100%;width:50px;text-align:center;z-index:2}.clock-face__number--outer[_ngcontent-%COMP%]{height:calc(290px / 2 - 20px)}.clock-face__number--outer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:16px;color:#6c6c6c}@supports (color:var(--clock-face-time-inactive-color)){.clock-face__number--outer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--clock-face-time-inactive-color)}}.clock-face__number--inner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;color:#929292}@supports (color:var(--clock-face-inner-time-inactive-color)){.clock-face__number--inner[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--clock-face-inner-time-inactive-color)}}.clock-face__number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:30px;height:30px;display:flex;justify-content:center;align-items:center;margin:auto;border-radius:50%;font-weight:500;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.clock-face__number[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}.clock-face__number[_ngcontent-%COMP%] > span.active[_ngcontent-%COMP%]{background-color:#00bfff;color:#fff}@supports (background-color:var(--clock-hand-color)){.clock-face__number[_ngcontent-%COMP%] > span.active[_ngcontent-%COMP%]{background-color:var(--clock-hand-color);color:var(--clock-face-time-active-color)}}.clock-face__number[_ngcontent-%COMP%] > span.disabled[_ngcontent-%COMP%]{color:#c5c5c5}@supports (color:var(--clock-face-time-disabled-color)){.clock-face__number[_ngcontent-%COMP%] > span.disabled[_ngcontent-%COMP%]{color:var(--clock-face-time-disabled-color)}}.clock-face__clock-hand[_ngcontent-%COMP%]{height:103px;width:2px;transform-origin:0 100%;position:absolute;top:calc(50% - 103px);z-index:1;background-color:#00bfff}@supports (background-color:var(--clock-hand-color)){.clock-face__clock-hand[_ngcontent-%COMP%]{background-color:var(--clock-hand-color)}}.clock-face__clock-hand[_ngcontent-%COMP%]:after{content:'';width:7px;height:7px;border-radius:50%;background-color:inherit;position:absolute;bottom:-3px;left:-3.5px}.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{content:'';width:7px;height:7px;background-color:#fff;border-radius:50%;position:absolute;top:-8px;left:calc(50% - 8px);box-sizing:content-box;border:4px solid #00bfff}@supports (border-color:var(--clock-hand-color)){.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{border-color:var(--clock-hand-color)}}@media (max-device-width:1023px) and (orientation:landscape){.clock-face[_ngcontent-%COMP%]{width:225px;height:225px;padding:5px}.clock-face__number--outer[_ngcontent-%COMP%]{height:calc(225px / 2 - 5px)}.clock-face__clock-hand_minute[_ngcontent-%COMP%]:before{top:0}}"],changeDetection:0}),de([Ie()],n.prototype,"faceTime",void 0),de([Ie()],n.prototype,"selectedTime",void 0),de([Ie()],n.prototype,"unit",void 0),de([Ie()],n.prototype,"format",void 0),de([Ie()],n.prototype,"minutesGap",void 0),de([Ii()],n.prototype,"timeChange",void 0),de([Ii()],n.prototype,"timeSelected",void 0),de([HC("clockFace",{static:!0})],n.prototype,"clockFace",void 0),de([HC("clockHand",{static:!0})],n.prototype,"clockHand",void 0),de([bo("mousedown",["$event"])],n.prototype,"onMousedown",null),de([bo("click",["$event"]),bo("touchmove",["$event.changedTouches[0]"]),bo("touchend",["$event.changedTouches[0]"]),bo("mousemove",["$event"])],n.prototype,"selectTime",null),de([bo("mouseup",["$event"])],n.prototype,"onMouseup",null),n})(),oXe=(()=>{let n=class{};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["ngx-material-timepicker-button"]],ngContentSelectors:Sq,decls:3,vars:0,consts:[["type","button",1,"timepicker-button"]],template:function(e,i){1&e&&(li(),I(0,"button",0)(1,"span"),Jt(2),V()())},styles:[".timepicker-button[_ngcontent-%COMP%]{display:inline-block;height:36px;min-width:88px;line-height:36px;border:12px;border-radius:2px;background-color:transparent;text-align:center;transition:450ms cubic-bezier(.23,1,.32,1);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;cursor:pointer;outline:0;color:#00bfff}@supports (color:var(--button-color)){.timepicker-button[_ngcontent-%COMP%]{color:var(--button-color)}}.timepicker-button[_ngcontent-%COMP%]:focus, .timepicker-button[_ngcontent-%COMP%]:hover{background-color:rgba(153,153,153,.2)}.timepicker-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:14px;text-transform:uppercase;font-weight:600;padding-left:16px;padding-right:16px;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}"]}),n})(),cXe=(()=>{let n=class{constructor(e){this.locale=e,this.timeUnit=br,this.meridiems=ps.kI.meridiems({locale:this.locale}),this.periodChanged=new Te,this.timeUnitChanged=new Te,this.hourChanged=new Te,this.minuteChanged=new Te}ngOnChanges(e){if(e.period&&e.period.currentValue||e.format&&e.format.currentValue){const i=kr.getHours(this.format);this.hours=kr.disableHours(i,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(e.period&&e.period.currentValue||e.hour&&e.hour.currentValue){const i=kr.getMinutes(this.minutesGap);this.minutes=kr.disableMinutes(i,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}}changeTimeUnit(e){this.timeUnitChanged.next(e)}changePeriod(e){this.periodChanged.next(e)}changeHour(e){this.hourChanged.next(e)}changeMinute(e){this.minuteChanged.next(e)}showHint(){this.isHintVisible=!0}hideHint(){this.isHintVisible=!1}};return n.\u0275fac=function(e){return new(e||n)(S(Ur))},n.\u0275cmp=st({type:n,selectors:[["ngx-material-timepicker-dial"]],inputs:{editableHintTmpl:"editableHintTmpl",hour:"hour",minute:"minute",format:"format",period:"period",activeTimeUnit:"activeTimeUnit",minTime:"minTime",maxTime:"maxTime",isEditable:"isEditable",minutesGap:"minutesGap",hoursOnly:"hoursOnly"},outputs:{periodChanged:"periodChanged",timeUnitChanged:"timeUnitChanged",hourChanged:"hourChanged",minuteChanged:"minuteChanged"},features:[Qt],decls:9,vars:25,consts:[[1,"timepicker-dial"],[1,"timepicker-dial__container"],[1,"timepicker-dial__time"],[3,"timeList","time","timeUnit","isActive","isEditable","timeUnitChanged","timeChanged","focused","unfocused"],[3,"timeList","time","timeUnit","isActive","isEditable","minutesGap","disabled","timeUnitChanged","timeChanged","focused","unfocused"],[1,"timepicker-dial__period",3,"ngClass","selectedPeriod","activeTimeUnit","maxTime","minTime","format","hours","minutes","selectedHour","meridiems","periodChanged"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet"],["editableHintDefault",""],[1,"timepicker-dial__hint"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1)(2,"div",2)(3,"ngx-material-timepicker-dial-control",3),ve("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("timeChanged",function(s){return i.changeHour(s)})("focused",function(){return i.showHint()})("unfocused",function(){return i.hideHint()}),V(),I(4,"span"),K(5,":"),V(),I(6,"ngx-material-timepicker-dial-control",4),ve("timeUnitChanged",function(s){return i.changeTimeUnit(s)})("timeChanged",function(s){return i.changeMinute(s)})("focused",function(){return i.showHint()})("unfocused",function(){return i.hideHint()}),V()(),I(7,"ngx-material-timepicker-period",5),ve("periodChanged",function(s){return i.changePeriod(s)}),V()(),Le(8,DYe,4,4,"div",6),V()),2&e&&(Y(3),U("timeList",i.hours)("time",i.hour)("timeUnit",i.timeUnit.HOUR)("isActive",i.activeTimeUnit===i.timeUnit.HOUR)("isEditable",i.isEditable),Y(3),U("timeList",i.minutes)("time",i.minute)("timeUnit",i.timeUnit.MINUTE)("isActive",i.activeTimeUnit===i.timeUnit.MINUTE)("isEditable",i.isEditable)("minutesGap",i.minutesGap)("disabled",i.hoursOnly),Y(1),U("ngClass",yi(23,EYe,24===i.format))("selectedPeriod",i.period)("activeTimeUnit",i.activeTimeUnit)("maxTime",i.maxTime)("minTime",i.minTime)("format",i.format)("hours",i.hours)("minutes",i.minutes)("selectedHour",i.hour)("meridiems",i.meridiems),Y(1),U("ngIf",i.isEditable||i.editableHintTmpl))},dependencies:function(){return[Sr,Kn,Hd,lXe,dXe]},styles:[".timepicker-dial[_ngcontent-%COMP%]{text-align:right}.timepicker-dial__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;-webkit-tap-highlight-color:transparent}.timepicker-dial__time[_ngcontent-%COMP%]{display:flex;align-items:baseline;line-height:normal;font-size:50px;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__time[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__period[_ngcontent-%COMP%]{display:block;margin-left:10px}.timepicker-dial__hint-container--hidden[_ngcontent-%COMP%], .timepicker-dial__period--hidden[_ngcontent-%COMP%]{visibility:hidden}.timepicker-dial__hint[_ngcontent-%COMP%]{display:inline-block;font-size:10px;color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__hint[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-dial__hint[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}@media (max-device-width:1023px) and (orientation:landscape){.timepicker-dial__container[_ngcontent-%COMP%]{flex-direction:column}.timepicker-dial__period[_ngcontent-%COMP%]{margin-left:0}}"],changeDetection:0}),de([Ie()],n.prototype,"editableHintTmpl",void 0),de([Ie()],n.prototype,"hour",void 0),de([Ie()],n.prototype,"minute",void 0),de([Ie()],n.prototype,"format",void 0),de([Ie()],n.prototype,"period",void 0),de([Ie()],n.prototype,"activeTimeUnit",void 0),de([Ie()],n.prototype,"minTime",void 0),de([Ie()],n.prototype,"maxTime",void 0),de([Ie()],n.prototype,"isEditable",void 0),de([Ie()],n.prototype,"minutesGap",void 0),de([Ie()],n.prototype,"hoursOnly",void 0),de([Ii()],n.prototype,"periodChanged",void 0),de([Ii()],n.prototype,"timeUnitChanged",void 0),de([Ii()],n.prototype,"hourChanged",void 0),de([Ii()],n.prototype,"minuteChanged",void 0),n=de([eo(0,Cs(Ur))],n),n})(),du=(()=>{let n=class{constructor(e){this.locale=e,this.numberingSystem=ps.ou.local().setLocale(this.locale).resolvedLocaleOpts().numberingSystem}transform(e,i=br.HOUR){return null==e||""===e?"":isNaN(+e)?i===br.MINUTE?this.parseTime(e,"m","minute"):this.parseTime(e,"H","hour"):e}parseTime(e,i,r){const s=ps.ou.fromFormat(String(e),i,{numberingSystem:this.numberingSystem})[r];if(!isNaN(s))return s;throw new Error(`Cannot parse time - ${e}`)}};return n.\u0275fac=function(e){return new(e||n)(S(Ur,16))},n.\u0275pipe=Rn({name:"timeParser",type:n,pure:!0}),n.\u0275prov=_e({token:n,factory:function(t){return n.\u0275fac(t)}}),n=de([eo(0,Cs(Ur))],n),n})(),lXe=(()=>{let n=class{constructor(e){this.timeParserPipe=e,this.timeUnitChanged=new Te,this.timeChanged=new Te,this.focused=new Te,this.unfocused=new Te}get selectedTime(){if(this.time)return this.timeList.find(e=>e.time===+this.time)}saveTimeAndChangeTimeUnit(e,i){e.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(i),this.focused.next()}updateTime(){const e=this.selectedTime;e&&(this.timeChanged.next(e),this.previousTime=e.time)}changeTimeByKeyboard(e){const i=String.fromCharCode(e.keyCode);(function uXe(n,t,e){if(/\d/.test(t))return Eq(n+t,e)})(this.time,i,this.timeList)&&e.preventDefault()}onKeydown(e){Aq(e)?this.changeTimeByArrow(e.keyCode):e.preventDefault()}onModelChange(e){this.time=this.timeParserPipe.transform(e,this.timeUnit).toString()}changeTimeByArrow(e){let s;38===e?s=String(+this.time+(this.minutesGap||1)):40===e&&(s=String(+this.time-(this.minutesGap||1))),Eq(s,this.timeList)||(this.time=s,this.updateTime())}};return n.\u0275fac=function(e){return new(e||n)(S(du))},n.\u0275cmp=st({type:n,selectors:[["ngx-material-timepicker-dial-control"]],inputs:{time:"time",timeList:"timeList",timeUnit:"timeUnit",isActive:"isActive",isEditable:"isEditable",minutesGap:"minutesGap",disabled:"disabled"},outputs:{timeUnitChanged:"timeUnitChanged",timeChanged:"timeChanged",focused:"focused",unfocused:"unfocused"},features:[wt([du])],decls:3,vars:2,consts:[["class","timepicker-dial__control timepicker-dial__item","readonly","",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus",4,"ngIf","ngIfElse"],["editableTemplate",""],["readonly","",1,"timepicker-dial__control","timepicker-dial__item",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus"],[1,"timepicker-dial__control","timepicker-dial__item","timepicker-dial__control_editable",3,"ngClass","ngModel","disabled","timepickerAutofocus","ngModelChange","input","focus","keydown","keypress"]],template:function(e,i){if(1&e&&(Le(0,kYe,2,9,"input",0),Le(1,LYe,3,13,"ng-template",null,1,yo)),2&e){const r=ki(2);U("ngIf",!i.isEditable)("ngIfElse",r)}},dependencies:function(){return[Sr,Kn,W3,cp,ef,kq,Bx,du]},styles:[".timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-dial__control[_ngcontent-%COMP%]{border:none;background-color:transparent;font-size:50px;width:60px;padding:0;border-radius:3px;text-align:right}.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{color:#00bfff;background-color:#fff;outline:#00bfff}@supports (color:var(--dial-editable-active-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{color:var(--dial-editable-active-color)}}@supports (background-color:var(--dial-editable-background-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{background-color:var(--dial-editable-background-color)}}@supports (outline:var(--dial-editable-active-color)){.timepicker-dial__control_editable[_ngcontent-%COMP%]:focus{outline:var(--dial-editable-active-color)}}.timepicker-dial__control[_ngcontent-%COMP%]:disabled{cursor:default}"]}),de([Ie()],n.prototype,"timeList",void 0),de([Ie()],n.prototype,"timeUnit",void 0),de([Ie()],n.prototype,"time",void 0),de([Ie()],n.prototype,"isActive",void 0),de([Ie()],n.prototype,"isEditable",void 0),de([Ie()],n.prototype,"minutesGap",void 0),de([Ie()],n.prototype,"disabled",void 0),de([Ii()],n.prototype,"timeUnitChanged",void 0),de([Ii()],n.prototype,"timeChanged",void 0),de([Ii()],n.prototype,"focused",void 0),de([Ii()],n.prototype,"unfocused",void 0),n})();function Eq(n,t){const e=t.find(i=>i.time===+n);return!e||e&&e.disabled}let dXe=(()=>{let n=class{constructor(){this.timePeriod=Mr,this.isPeriodAvailable=!0,this.periodChanged=new Te}changePeriod(e){this.isPeriodAvailable=this.isSwitchPeriodAvailable(e),this.isPeriodAvailable&&this.periodChanged.next(e)}animationDone(){this.isPeriodAvailable=!0}isSwitchPeriodAvailable(e){return!this.getDisabledTimeByPeriod(e).every(r=>r.disabled)}getDisabledTimeByPeriod(e){switch(this.activeTimeUnit){case br.HOUR:return kr.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:e});case br.MINUTE:return kr.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:e});default:throw new Error("no such TimeUnit")}}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["ngx-material-timepicker-period"]],inputs:{selectedPeriod:"selectedPeriod",format:"format",activeTimeUnit:"activeTimeUnit",hours:"hours",minutes:"minutes",minTime:"minTime",maxTime:"maxTime",selectedHour:"selectedHour",meridiems:"meridiems"},outputs:{periodChanged:"periodChanged"},decls:6,vars:9,consts:[[1,"timepicker-period"],["type","button",1,"timepicker-dial__item","timepicker-period__btn",3,"ngClass","click"],["class","timepicker-period__warning",4,"ngIf"],[1,"timepicker-period__warning"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"button",1),ve("click",function(){return i.changePeriod(i.timePeriod.AM)}),K(2),V(),I(3,"button",1),ve("click",function(){return i.changePeriod(i.timePeriod.PM)}),K(4),V(),Le(5,IYe,3,1,"div",2),V()),2&e&&(Y(1),U("ngClass",yi(5,m5,i.selectedPeriod===i.timePeriod.AM)),Y(1),ur(i.meridiems[0]),Y(1),U("ngClass",yi(7,m5,i.selectedPeriod===i.timePeriod.PM)),Y(1),ur(i.meridiems[1]),Y(1),U("ngIf",!i.isPeriodAvailable))},dependencies:[Sr,Kn],styles:[".timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:rgba(255,255,255,.5);font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color:var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0;border-radius:3px;transition:background-color .5s;font-family:Roboto,sans-serif}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:rgba(0,0,0,.07)}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:rgba(0,0,0,.55);color:#fff;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-family:Roboto,sans-serif}@supports (font-family:var(--primary-font-family)){.timepicker-period__btn[_ngcontent-%COMP%], .timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}"],data:{animation:[Nr("scaleInOut",[Zn(":enter",[It({transform:"scale(0)"}),$n(".2s",It({transform:"scale(1)"})),W_([$n("3s",It({opacity:1})),$n(".3s",It({opacity:0}))])])])]}}),de([Ie()],n.prototype,"selectedPeriod",void 0),de([Ie()],n.prototype,"format",void 0),de([Ie()],n.prototype,"activeTimeUnit",void 0),de([Ie()],n.prototype,"hours",void 0),de([Ie()],n.prototype,"minutes",void 0),de([Ie()],n.prototype,"minTime",void 0),de([Ie()],n.prototype,"maxTime",void 0),de([Ie()],n.prototype,"selectedHour",void 0),de([Ie()],n.prototype,"meridiems",void 0),de([Ii()],n.prototype,"periodChanged",void 0),n})(),fXe=(()=>{let n=class{constructor(e){this.eventService=e}onClick(e){this.preventClick||this.eventService.dispatchEvent(e),e.preventDefault()}};return n.\u0275fac=function(e){return new(e||n)(S(to))},n.\u0275dir=ne({type:n,selectors:[["","overlay",""]],hostBindings:function(e,i){1&e&&ve("click",function(s){return i.onClick(s)})},inputs:{preventClick:["overlay","preventClick"]}}),de([Ie("overlay")],n.prototype,"preventClick",void 0),de([bo("click",["$event"])],n.prototype,"onClick",null),n})(),hXe=(()=>{let n=class{transform(e,i=5){return e&&(e%i==0?e:"")}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Rn({name:"minutesFormatter",type:n,pure:!0}),n})(),kq=(()=>{let n=class{constructor(e,i){this.element=e,this.document=i,this.activeElement=this.document.activeElement}ngOnChanges(){this.isFocusActive&&setTimeout(()=>this.element.nativeElement.focus({preventScroll:!0}))}ngOnDestroy(){setTimeout(()=>this.activeElement.focus({preventScroll:!0}))}};return n.\u0275fac=function(e){return new(e||n)(S(Ge),S(Ct,8))},n.\u0275dir=ne({type:n,selectors:[["","timepickerAutofocus",""]],inputs:{isFocusActive:["timepickerAutofocus","isFocusActive"]},features:[Qt]}),de([Ie("timepickerAutofocus")],n.prototype,"isFocusActive",void 0),n=de([eo(1,ws()),eo(1,Cs(Ct))],n),n})();var Ox;let xr=Ox=class{constructor(t,e){this.timepickerService=t,this.locale=e,this.minHour=1,this.maxHour=12,this.timeUnit=br,this.buttonAlign="right",this.timeChanged=new Te,this._format=12,this.unsubscribe$=new Xe,this.isFirstTimeChange=!0,this.onChange=()=>{}}set format(t){this._format=24===t?24:12,this.minHour=12===this._format?1:0,this.maxHour=12===this._format?12:23,this.hoursList=kr.getHours(this._format),t&&this.previousFormat&&this.previousFormat!==this._format&&this.updateTime(this.timepickerTime),this.previousFormat=this._format}get format(){return this._format}set min(t){this._min="string"!=typeof t?t:Ai.parseTime(t,{locale:this.locale,format:this.format})}get min(){return this._min}set max(t){this._max="string"!=typeof t?t:Ai.parseTime(t,{locale:this.locale,format:this.format})}get max(){return this._max}set defaultTime(t){this._defaultTime=t,this.isDefaultTime=!!t}get defaultTime(){return this._defaultTime}ngOnInit(){this.initTime(this.defaultTime),this.hoursList=kr.getHours(this._format),this.minutesList=kr.getMinutes(),this.isTimeRangeSet=!(!this.min&&!this.max),this.hour$=this.timepickerService.selectedHour.pipe(ri(t=>this.selectedHour=t.time),Lt(this.changeDefaultTimeValue.bind(this)),ri(()=>this.isTimeRangeSet&&this.updateAvailableMinutes())),this.minute$=this.timepickerService.selectedMinute.pipe(Lt(this.changeDefaultTimeValue.bind(this)),ri(()=>this.isFirstTimeChange=!1)),12===this.format&&this.timepickerService.selectedPeriod.pipe(q6(),ri(t=>this.period=t),ri(t=>this.isChangePeriodDisabled=this.isPeriodDisabled(t)),en(this.unsubscribe$)).subscribe(()=>this.isTimeRangeSet&&this.updateAvailableTime())}writeValue(t){t?this.initTime(t):this.resetTime()}registerOnTouched(t){}registerOnChange(t){this.onChange=t}setDisabledState(t){this.disabled=t}changeHour(t){this.timepickerService.hour=this.hoursList.find(e=>e.time===t),this.changeTime()}changeMinute(t){this.timepickerService.minute=this.minutesList.find(e=>e.time===t),this.changeTime()}changePeriod(t){this.timepickerService.period=t,this.changeTime()}onTimeSet(t){this.updateTime(t),this.emitLocalTimeChange(t)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}changeTime(){const t=this.timepickerService.getFullTime(this.format);this.timepickerTime=t,this.emitLocalTimeChange(t)}resetTime(){this.timepickerService.hour={angle:0,time:null},this.timepickerService.minute={angle:0,time:null}}emitLocalTimeChange(t){const e=Ai.toLocaleTimeString(t,{format:this.format,locale:this.locale});this.onChange(e),this.timeChanged.emit(e)}changeDefaultTimeValue(t){return!this.isDefaultTime&&this.isFirstTimeChange?Object.assign({},t,{time:null}):t}updateAvailableHours(){this.hoursList=kr.disableHours(this.hoursList,{min:this.min,max:this.max,format:this.format,period:this.period})}updateAvailableMinutes(){this.minutesList=kr.disableMinutes(this.minutesList,this.selectedHour,{min:this.min,max:this.max,format:this.format,period:this.period})}updateAvailableTime(){this.updateAvailableHours(),this.selectedHour&&this.updateAvailableMinutes()}updateTime(t){if(t){const e=Ai.formatTime(t,{locale:this.locale,format:this.format});this.timepickerService.setDefaultTimeIfAvailable(e,this.min,this.max,this.format),this.timepickerTime=e}}initTime(t){if(!Ai.isTimeAvailable(t,this.min,this.max,"minutes",null,this.format)){if(this.min)return void this.updateTime(Ai.fromDateTimeToString(this.min,this.format));if(this.max)return void this.updateTime(Ai.fromDateTimeToString(this.max,this.format))}this.updateTime(t)}isPeriodDisabled(t){return kr.disableHours(kr.getHours(12),{min:this.min,max:this.max,format:12,period:t===Mr.AM?Mr.PM:Mr.AM}).every(e=>e.disabled)}};xr.\u0275fac=function(t){return new(t||xr)(S(aa),S(Ur))},xr.\u0275cmp=st({type:xr,selectors:[["ngx-timepicker-field"]],inputs:{buttonAlign:"buttonAlign",format:"format",min:"min",max:"max",defaultTime:"defaultTime",disabled:"disabled",toggleIcon:"toggleIcon",clockTheme:"clockTheme",controlOnly:"controlOnly",cancelBtnTmpl:"cancelBtnTmpl",confirmBtnTmpl:"confirmBtnTmpl"},outputs:{timeChanged:"timeChanged"},features:[wt([aa,{provide:mr,useExisting:Ox,multi:!0}])],decls:13,vars:32,consts:[[1,"ngx-timepicker",3,"ngClass"],[1,"ngx-timepicker__control--first",3,"placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],[1,"ngx-timepicker__time-colon","ngx-timepicker__control--second"],[1,"ngx-timepicker__control--third",3,"placeholder","time","min","max","timeUnit","disabled","timeList","preventTyping","timeChanged"],["class","ngx-timepicker__control--forth",3,"selectedPeriod","disabled","periodSelected",4,"ngIf"],["class","ngx-timepicker__toggle",3,"ngClass","for","disabled",4,"ngIf"],[3,"min","max","theme","defaultTime","format","cancelBtnTmpl","confirmBtnTmpl","timeSet"],["timepicker",""],["defaultIcon",""],[1,"ngx-timepicker__control--forth",3,"selectedPeriod","disabled","periodSelected"],[1,"ngx-timepicker__toggle",3,"ngClass","for","disabled"],["ngxMaterialTimepickerToggleIcon",""],[4,"ngTemplateOutlet"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24px","height","24px"],["d","M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003                   6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 6 L 11 12.414062 L 15.292969 16.707031 L 16.707031 15.292969 L 13 11.585938 L 13 6 L 11 6 z"]],template:function(t,e){if(1&t&&(I(0,"div",0)(1,"ngx-timepicker-time-control",1),ve("timeChanged",function(r){return e.changeHour(r)}),ii(2,"async"),V(),I(3,"span",2),K(4,":"),V(),I(5,"ngx-timepicker-time-control",3),ve("timeChanged",function(r){return e.changeMinute(r)}),ii(6,"async"),V(),Le(7,VYe,1,2,"ngx-timepicker-period-selector",4),Le(8,zYe,3,6,"ngx-material-timepicker-toggle",5),V(),I(9,"ngx-material-timepicker",6,7),ve("timeSet",function(r){return e.onTimeSet(r)}),V(),Le(11,PYe,2,0,"ng-template",null,8,yo)),2&t){let i,r;U("ngClass",yi(30,NYe,e.disabled)),Y(1),U("placeholder","HH")("time",null==(i=Xs(2,26,e.hour$))?null:i.time)("min",e.minHour)("max",e.maxHour)("timeUnit",e.timeUnit.HOUR)("disabled",e.disabled)("timeList",e.hoursList)("preventTyping",e.isTimeRangeSet),Y(4),U("placeholder","MM")("time",null==(r=Xs(6,28,e.minute$))?null:r.time)("min",0)("max",59)("timeUnit",e.timeUnit.MINUTE)("disabled",e.disabled)("timeList",e.minutesList)("preventTyping",e.isTimeRangeSet),Y(2),U("ngIf",24!==e.format),Y(1),U("ngIf",!e.controlOnly),Y(1),U("min",e.min)("max",e.max)("theme",e.clockTheme)("defaultTime",e.timepickerTime)("format",e.format)("cancelBtnTmpl",e.cancelBtnTmpl)("confirmBtnTmpl",e.confirmBtnTmpl)}},dependencies:function(){return[Sr,Kn,Hd,QYe,JYe,Px,pXe,gXe,P6]},styles:[".ngx-timepicker[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;border-bottom:1px solid rgba(0,0,0,.12)}.ngx-timepicker--disabled[_ngcontent-%COMP%]{background:rgba(0,0,0,.07);pointer-events:none}.ngx-timepicker__time-colon[_ngcontent-%COMP%]{margin-left:10px}.ngx-timepicker__control--first[_ngcontent-%COMP%]{order:1}.ngx-timepicker__control--second[_ngcontent-%COMP%]{order:2}.ngx-timepicker__control--third[_ngcontent-%COMP%]{order:3}.ngx-timepicker__control--forth[_ngcontent-%COMP%], .ngx-timepicker__toggle[_ngcontent-%COMP%]{order:4}.ngx-timepicker__toggle--left[_ngcontent-%COMP%]{order:0}"],changeDetection:0}),xr.ctorParameters=()=>[{type:aa},{type:String,decorators:[{type:Cs,args:[Ur]}]}],de([Ie()],xr.prototype,"disabled",void 0),de([Ie()],xr.prototype,"toggleIcon",void 0),de([Ie()],xr.prototype,"buttonAlign",void 0),de([Ie()],xr.prototype,"clockTheme",void 0),de([Ie()],xr.prototype,"controlOnly",void 0),de([Ie()],xr.prototype,"cancelBtnTmpl",void 0),de([Ie()],xr.prototype,"confirmBtnTmpl",void 0),de([Ie()],xr.prototype,"format",null),de([Ie()],xr.prototype,"min",null),de([Ie()],xr.prototype,"max",null),de([Ie()],xr.prototype,"defaultTime",null),de([Ii()],xr.prototype,"timeChanged",void 0),xr=Ox=de([eo(1,Cs(Ur))],xr);let pXe=(()=>{let n=class{constructor(e){this.timeParser=e,this.timeChanged=new Te}ngOnChanges(e){e.timeList&&null!=this.time&&this.isSelectedTimeDisabled(this.time)&&this.setAvailableTime()}changeTime(e){e.stopPropagation();const i=String.fromCharCode(e.keyCode),r=function mXe(n,t){if(/\d/.test(t))return+(n+t)}(String(this.time),i);this.changeTimeIfValid(r)}onKeydown(e){switch(e.stopPropagation(),Aq(e)||e.preventDefault(),e.key){case"ArrowUp":this.increase();break;case"ArrowDown":this.decrease()}this.preventTyping&&"Tab"!==e.key&&e.preventDefault()}increase(){if(!this.disabled){let e=+this.time+1;e>this.max&&(e=this.min),this.isSelectedTimeDisabled(e)&&(e=this.getAvailableTime(e,this.getNextAvailableTime.bind(this))),e!==this.time&&this.timeChanged.emit(e)}}decrease(){if(!this.disabled){let e=+this.time-1;e<this.min&&(e=this.max),this.isSelectedTimeDisabled(e)&&(e=this.getAvailableTime(e,this.getPrevAvailableTime.bind(this))),e!==this.time&&this.timeChanged.emit(e)}}onFocus(){this.isFocused=!0,this.previousTime=this.time}onBlur(){this.isFocused=!1,this.previousTime!==this.time&&this.changeTimeIfValid(+this.time)}onModelChange(e){this.time=+this.timeParser.transform(e,this.timeUnit)}changeTimeIfValid(e){if(!isNaN(e)){if(this.time=e,this.time>this.max){const i=String(e);this.time=+i[i.length-1]}this.time<this.min&&(this.time=this.min),this.timeChanged.emit(this.time)}}isSelectedTimeDisabled(e){return this.timeList.find(i=>i.time===e).disabled}getNextAvailableTime(e){const i=this.timeList,r=i.length;for(let s=e+1;s<r;s++){const a=i[s];if(!a.disabled)return a.time}}getPrevAvailableTime(e){for(let i=e;i>=0;i--){const r=this.timeList[i];if(!r.disabled)return r.time}}getAvailableTime(e,i){return i(this.timeList.findIndex(a=>a.time===e))??this.time}setAvailableTime(){this.time=this.timeList.find(e=>!e.disabled).time,this.timeChanged.emit(this.time)}};return n.\u0275fac=function(e){return new(e||n)(S(du))},n.\u0275cmp=st({type:n,selectors:[["ngx-timepicker-time-control"]],inputs:{time:"time",min:"min",max:"max",placeholder:"placeholder",timeUnit:"timeUnit",disabled:"disabled",timeList:"timeList",preventTyping:"preventTyping"},outputs:{timeChanged:"timeChanged"},features:[wt([du]),Qt],decls:9,vars:13,consts:[[1,"ngx-timepicker-control",3,"ngClass"],["maxlength","2",1,"ngx-timepicker-control__input",3,"ngModel","placeholder","disabled","ngModelChange","keydown","keypress","focus","blur"],[1,"ngx-timepicker-control__arrows"],["role","button",1,"ngx-timepicker-control__arrow",3,"click"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"input",1),ve("ngModelChange",function(s){return i.onModelChange(s)})("keydown",function(s){return i.onKeydown(s)})("keypress",function(s){return i.changeTime(s)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),ii(2,"timeLocalizer"),ii(3,"timeParser"),V(),I(4,"div",2)(5,"span",3),ve("click",function(){return i.increase()}),K(6," \u25b2 "),V(),I(7,"span",3),ve("click",function(){return i.decrease()}),K(8," \u25bc "),V()()()),2&e&&(U("ngClass",yi(11,FYe,i.isFocused)),Y(1),U("ngModel",bl(2,4,r2(3,8,i.time,i.timeUnit),i.timeUnit,!0))("placeholder",i.placeholder)("disabled",i.disabled))},dependencies:function(){return[Sr,W3,cp,I_,ef,Bx,du]},styles:[".ngx-timepicker-control[_ngcontent-%COMP%]{position:relative;display:flex;width:60px;height:30px;padding:0 5px;box-sizing:border-box}.ngx-timepicker-control--active[_ngcontent-%COMP%]:after{content:'';position:absolute;bottom:-2px;left:0;width:100%;height:1px;background-color:#00bfff}.ngx-timepicker-control__input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0 5px 0 0;border:0;font-size:1rem;color:inherit;outline:0;text-align:center}.ngx-timepicker-control__input[_ngcontent-%COMP%]:disabled{background-color:transparent}.ngx-timepicker-control__arrows[_ngcontent-%COMP%]{position:absolute;right:2px;top:0;display:flex;flex-direction:column}.ngx-timepicker-control__arrow[_ngcontent-%COMP%]{font-size:11px;color:rgba(0,0,0,.4);cursor:pointer;transition:color .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ngx-timepicker-control__arrow[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.9)}"],changeDetection:0}),de([Ie()],n.prototype,"time",void 0),de([Ie()],n.prototype,"min",void 0),de([Ie()],n.prototype,"max",void 0),de([Ie()],n.prototype,"placeholder",void 0),de([Ie()],n.prototype,"timeUnit",void 0),de([Ie()],n.prototype,"disabled",void 0),de([Ie()],n.prototype,"timeList",void 0),de([Ie()],n.prototype,"preventTyping",void 0),de([Ii()],n.prototype,"timeChanged",void 0),n})(),gXe=(()=>{let n=class{constructor(e){this.locale=e,this.periodSelected=new Te,this.period=Mr,this.meridiems=ps.kI.meridiems({locale:this.locale})}set selectedPeriod(e){e&&(this.localizedPeriod=this.meridiems[[Mr.AM,Mr.PM].indexOf(e)])}open(){this.disabled||(this.isOpened=!0)}select(e){this.periodSelected.next(e),this.isOpened=!1}backdropClick(){this.isOpened=!1}};return n.\u0275fac=function(e){return new(e||n)(S(Ur))},n.\u0275cmp=st({type:n,selectors:[["ngx-timepicker-period-selector"]],inputs:{selectedPeriod:"selectedPeriod",isOpened:"isOpened",disabled:"disabled"},outputs:{periodSelected:"periodSelected"},decls:9,vars:6,consts:[[1,"period"],[1,"period-control"],["type","button",1,"period-control__button","period__btn--default",3,"ngClass","click"],[1,"period-control__arrow"],["class","period-selector",3,"timepickerAutofocus",4,"ngIf"],["class","overlay",3,"click",4,"ngIf"],[1,"period-selector",3,"timepickerAutofocus"],["type","button",1,"period-selector__button","period__btn--default",3,"ngClass","click"],[1,"overlay",3,"click"]],template:function(e,i){1&e&&(I(0,"div",0)(1,"div",1)(2,"button",2),ve("click",function(){return i.open()}),I(3,"span"),K(4),V(),I(5,"span",3),K(6,"\u25bc"),V()()(),Le(7,OYe,7,10,"ul",4),V(),Le(8,BYe,1,0,"div",5)),2&e&&(Y(2),U("ngClass",yi(4,UYe,i.disabled)),Y(2),ur(i.localizedPeriod),Y(3),U("ngIf",i.isOpened),Y(1),U("ngIf",i.isOpened))},dependencies:[Sr,Kn,kq],styles:[".period[_ngcontent-%COMP%]{position:relative}.period__btn--default[_ngcontent-%COMP%]{padding:0;border:none;background-color:transparent;cursor:pointer;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;outline:0}.period-control[_ngcontent-%COMP%]{position:relative}.period-control__button[_ngcontent-%COMP%]{position:relative;width:60px;font-size:1rem;color:inherit;text-align:center}.period-control__button[_ngcontent-%COMP%]:not(.period-control__button--disabled):focus:after{content:'';position:absolute;bottom:-8px;left:0;width:100%;height:1px;background-color:#00bfff}.period-control__arrow[_ngcontent-%COMP%]{margin-left:10px;font-size:12px;color:rgba(0,0,0,.4)}.period-selector[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 50px);right:calc(-50% + -50px);max-width:135px;width:150px;padding:6px 0;margin:0;list-style:none;background-color:#f5f5f5;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);z-index:201}.period-selector__button[_ngcontent-%COMP%]{width:100%;height:48px;padding:0 16px;line-height:48px}.period-selector__button--active[_ngcontent-%COMP%]{color:#00bfff}.period-selector__button[_ngcontent-%COMP%]:focus{background-color:#eee}.overlay[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;top:0;left:0;background-color:transparent;z-index:200}"],data:{animation:[Nr("scaleInOut",[Zn(":enter",[It({transform:"scale(0)",opacity:0}),$n(200,It({transform:"scale(1)",opacity:1}))]),Zn(":leave",[$n(200,It({transform:"scale(0)",opacity:0}))])])]},changeDetection:0}),de([Ie()],n.prototype,"isOpened",void 0),de([Ie()],n.prototype,"disabled",void 0),de([Ie()],n.prototype,"selectedPeriod",null),de([Ii()],n.prototype,"periodSelected",void 0),n=de([eo(0,Cs(Ur))],n),n})(),Bx=(()=>{let n=class{constructor(e){this.locale=e}transform(e,i,r=!1){if(null==e||""===e)return"";switch(i){case br.HOUR:return this.formatTime("hour",e,0===e||r?"HH":"H");case br.MINUTE:return this.formatTime("minute",e,"mm");default:throw new Error(`There is no Time Unit with type ${i}`)}}formatTime(e,i,r){try{return ps.ou.fromObject({[e]:+i}).setLocale(this.locale).toFormat(r)}catch{throw new Error(`Cannot format provided time - ${i} to locale - ${this.locale}`)}}};return n.\u0275fac=function(e){return new(e||n)(S(Ur,16))},n.\u0275pipe=Rn({name:"timeLocalizer",type:n,pure:!0}),n=de([eo(0,Cs(Ur))],n),n})(),_Xe=(()=>{let n=class{transform(e,i,r){return null!=e&&!r&&e===i}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Rn({name:"activeHour",type:n,pure:!0}),n})(),vXe=(()=>{let n=class{transform(e,i,r,s){return null!=e&&!s&&i===e&&e%(r||5)==0}};return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Rn({name:"activeMinute",type:n,pure:!0}),n})(),yXe=(()=>{let n=class{};return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=st({type:n,selectors:[["ngx-material-timepicker-content"]],inputs:{appendToInput:"appendToInput",inputElement:"inputElement"},ngContentSelectors:Sq,decls:5,vars:2,consts:[[3,"ngxAppendToInput",4,"ngIf","ngIfElse"],["timepickerModal",""],["timepickerOutlet",""],[3,"ngxAppendToInput"],[4,"ngTemplateOutlet"]],template:function(e,i){if(1&e&&(li(),Le(0,WYe,2,2,"div",0),Le(1,$Ye,1,1,"ng-template",null,1,yo),Le(3,qYe,1,0,"ng-template",null,2,yo)),2&e){const r=ki(2);U("ngIf",i.appendToInput)("ngIfElse",r)}},dependencies:function(){return[Kn,Hd,bXe]},encapsulation:2}),de([Ie()],n.prototype,"appendToInput",void 0),de([Ie()],n.prototype,"inputElement",void 0),n})(),bXe=(()=>{let n=class{constructor(e,i){this.renderer=i,this.element=e.nativeElement}get inputCords(){return this.inputElement.getBoundingClientRect()}get direction(){const e=this.element.offsetHeight,{bottom:i,top:r}=this._inputCords,s=(window&&window.innerHeight)-i<e;return s&&r>e?"top":s&&r<e?"center":"bottom"}ngAfterViewInit(){this._inputCords=this.inputCords,this._direction=this.direction,this.append()}changePosition(){const{bottom:e,top:i}=this.inputCords,r=this.defineElementYByDirection(i,e);this.setStyle("top",`${r}px`)}append(){const{left:e,bottom:i,top:r}=this._inputCords,s=this.defineElementYByDirection(r,i);this.setStyle("position","fixed"),this.setStyle("left",`${e}px`),this.setStyle("top",`${s}px`)}setStyle(e,i){this.renderer.setStyle(this.element,e,i)}defineElementYByDirection(e,i){return"top"===this._direction?e-this.element.offsetHeight:"center"===this._direction?e-this.element.offsetHeight/2:i}};return n.\u0275fac=function(e){return new(e||n)(S(Ge),S($s))},n.\u0275dir=ne({type:n,selectors:[["","ngxAppendToInput",""]],hostBindings:function(e,i){1&e&&ve("scroll",function(){return i.changePosition()},0,Aw)},inputs:{inputElement:["ngxAppendToInput","inputElement"]}}),de([Ie("ngxAppendToInput")],n.prototype,"inputElement",void 0),de([bo("window:scroll")],n.prototype,"changePosition",null),n})();var Lq;let fu=Lq=class{static setLocale(t){return{ngModule:Lq,providers:[{provide:Ur,useValue:t}]}}};fu.\u0275fac=function(t){return new(t||fu)},fu.\u0275mod=qe({type:fu}),fu.\u0275inj=je({imports:[pr,V_]});let xXe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Ua]}),n})(),wXe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Ua]}),n})(),TXe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Ua]}),n})(),DXe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Ua]}),n})(),IXe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Ua]}),n})(),HXe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Ua]}),n})(),PXe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Ua]}),n})(),OXe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[Ua]}),n})(),BXe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=je({imports:[xXe,wXe,TXe,gPe,DXe,IXe,HXe,PXe,OXe]}),n})(),UXe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n,bootstrap:[n$e]}),n.\u0275inj=je({imports:[Ua,Zhe,fPe,Nue,tYe,bV,cV,BXe,CI,i2e,Z3,fu,pr,joe,vV,c4e,R3e,F_,Q4e,R1e,Z3,t3e,N2e,cV,V_,h4e,Gce,Tue,kPe,bde,RPe,Z3,CI,V_,qd,w2e,wV,bV,T4e,q4e,Zue,M3e,Jue,IV,lde,ude,IV,Lde]}),n})();(function Zee(){vD=!1})(),yie().bootstrapModule(UXe).catch(n=>console.error(n))},122:(Bh,hu)=>{function bn(y,w){for(var M=0;M<w.length;M++){var _=w[M];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,_.key,_)}}function ts(y,w,M){return w&&bn(y.prototype,w),M&&bn(y,M),y}function Gr(y,w){y.prototype=Object.create(w.prototype),y.prototype.constructor=y,y.__proto__=w}function Nc(y){return(Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(y)}function rn(y,w){return(rn=Object.setPrototypeOf||function(_,x){return _.__proto__=x,_})(y,w)}function Uh(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function q2(y,w,M){return(q2=Uh()?Reflect.construct:function(x,A,z){var F=[null];F.push.apply(F,A);var xe=new(Function.bind.apply(x,F));return z&&rn(xe,z.prototype),xe}).apply(null,arguments)}function Ea(y){var w="function"==typeof Map?new Map:void 0;return Ea=function(_){if(null===_||!function Gh(y){return-1!==Function.toString.call(y).indexOf("[native code]")}(_))return _;if("function"!=typeof _)throw new TypeError("Super expression must either be null or a function");if(typeof w<"u"){if(w.has(_))return w.get(_);w.set(_,x)}function x(){return q2(_,arguments,Nc(this).constructor)}return x.prototype=Object.create(_.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),rn(x,_)},Ea(y)}function Y2(y,w){(null==w||w>y.length)&&(w=y.length);for(var M=0,_=new Array(w);M<w;M++)_[M]=y[M];return _}function ro(y){var w=0;if(typeof Symbol>"u"||null==y[Symbol.iterator]){if(Array.isArray(y)||(y=function Wh(y,w){if(y){if("string"==typeof y)return Y2(y,w);var M=Object.prototype.toString.call(y).slice(8,-1);if("Object"===M&&y.constructor&&(M=y.constructor.name),"Map"===M||"Set"===M)return Array.from(M);if("Arguments"===M||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return Y2(y,w)}}(y)))return function(){return w>=y.length?{done:!0}:{done:!1,value:y[w++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(w=y[Symbol.iterator]()).next.bind(w)}var Po=function(y){function w(){return y.apply(this,arguments)||this}return Gr(w,y),w}(Ea(Error)),M5=function(y){function w(M){return y.call(this,"Invalid DateTime: "+M.toMessage())||this}return Gr(w,y),w}(Po),pu=function(y){function w(M){return y.call(this,"Invalid Interval: "+M.toMessage())||this}return Gr(w,y),w}(Po),No=function(y){function w(M){return y.call(this,"Invalid Duration: "+M.toMessage())||this}return Gr(w,y),w}(Po),Fc=function(y){function w(){return y.apply(this,arguments)||this}return Gr(w,y),w}(Po),jh=function(y){function w(M){return y.call(this,"Invalid unit "+M)||this}return Gr(w,y),w}(Po),Wr=function(y){function w(){return y.apply(this,arguments)||this}return Gr(w,y),w}(Po),so=function(y){function w(){return y.call(this,"Zone is an abstract class")||this}return Gr(w,y),w}(Po),Ze="numeric",ka="short",sr="long",Fo={year:Ze,month:Ze,day:Ze},mu={year:Ze,month:ka,day:Ze},X2={year:Ze,month:sr,day:Ze},gu={year:Ze,month:sr,day:Ze,weekday:sr},K2={hour:Ze,minute:Ze},la={hour:Ze,minute:Ze,second:Ze},_u={hour:Ze,minute:Ze,second:Ze,timeZoneName:ka},D1={hour:Ze,minute:Ze,second:Ze,timeZoneName:sr},In={hour:Ze,minute:Ze,hour12:!1},E1={hour:Ze,minute:Ze,second:Ze,hour12:!1},vu={hour:Ze,minute:Ze,second:Ze,hour12:!1,timeZoneName:ka},yu={hour:Ze,minute:Ze,second:Ze,hour12:!1,timeZoneName:sr},bu={year:Ze,month:Ze,day:Ze,hour:Ze,minute:Ze},Xe={year:Ze,month:Ze,day:Ze,hour:Ze,minute:Ze,second:Ze},k1={year:Ze,month:ka,day:Ze,hour:Ze,minute:Ze},L1={year:Ze,month:ka,day:Ze,hour:Ze,minute:Ze,second:Ze},ai={year:Ze,month:ka,day:Ze,weekday:ka,hour:Ze,minute:Ze},qn={year:Ze,month:sr,day:Ze,hour:Ze,minute:Ze,timeZoneName:ka},Mu={year:Ze,month:sr,day:Ze,hour:Ze,minute:Ze,second:Ze,timeZoneName:ka},Lt={year:Ze,month:sr,day:Ze,weekday:sr,hour:Ze,minute:Ze,timeZoneName:sr},Z2={year:Ze,month:sr,day:Ze,weekday:sr,hour:Ze,minute:Ze,second:Ze,timeZoneName:sr};function Bn(y){return typeof y>"u"}function ao(y){return"number"==typeof y}function xu(y){return"number"==typeof y&&y%1==0}function La(){try{return typeof Intl<"u"&&Intl.DateTimeFormat}catch{return!1}}function Q2(){return!Bn(Intl.DateTimeFormat.prototype.formatToParts)}function x5(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function C5(y,w,M){if(0!==y.length)return y.reduce(function(_,x){var A=[w(x),x];return _&&M(_[0],A[0])===_[0]?_:A},null)[1]}function Cu(y,w){return w.reduce(function(M,_){return M[_]=y[_],M},{})}function Oc(y,w){return Object.prototype.hasOwnProperty.call(y,w)}function oo(y,w,M){return xu(y)&&y>=w&&y<=M}function J2(y,w){return void 0===w&&(w=2),y.toString().length<w?("0".repeat(w)+y).slice(-w):y.toString()}function xi(y){if(!Bn(y)&&null!==y&&""!==y)return parseInt(y,10)}function wu(y){if(!Bn(y)&&null!==y&&""!==y){var w=1e3*parseFloat("0."+y);return Math.floor(w)}}function qh(y,w,M){void 0===M&&(M=!1);var _=Math.pow(10,w);return(M?Math.trunc:Math.round)(y*_)/_}function el(y){return y%4==0&&(y%100!=0||y%400==0)}function I1(y){return el(y)?366:365}function V1(y,w){var M=function Yx(y,w){return y-w*Math.floor(y/w)}(w-1,12)+1;return 2===M?el(y+(w-M)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][M-1]}function Yh(y){var w=Date.UTC(y.year,y.month-1,y.day,y.hour,y.minute,y.second,y.millisecond);return y.year<100&&y.year>=0&&(w=new Date(w)).setUTCFullYear(w.getUTCFullYear()-1900),+w}function Su(y){var w=(y+Math.floor(y/4)-Math.floor(y/100)+Math.floor(y/400))%7,M=y-1,_=(M+Math.floor(M/4)-Math.floor(M/100)+Math.floor(M/400))%7;return 4===w||3===_?53:52}function Xh(y){return y>99?y:y>60?1900+y:2e3+y}function w5(y,w,M,_){void 0===_&&(_=null);var x=new Date(y),A={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};_&&(A.timeZone=_);var z=Object.assign({timeZoneName:w},A),F=La();if(F&&Q2()){var $=new Intl.DateTimeFormat(M,z).formatToParts(x).find(function(Mt){return"timezonename"===Mt.type.toLowerCase()});return $?$.value:null}if(F){var xe=new Intl.DateTimeFormat(M,A).format(x);return new Intl.DateTimeFormat(M,z).format(x).substring(xe.length).replace(/^[, \u200e]+/,"")}return null}function Tu(y,w){var M=parseInt(y,10);Number.isNaN(M)&&(M=0);var _=parseInt(w,10)||0;return 60*M+(M<0||Object.is(M,-0)?-_:_)}function H1(y){var w=Number(y);if("boolean"==typeof y||""===y||Number.isNaN(w))throw new Wr("Invalid unit value "+y);return w}function tl(y,w,M){var _={};for(var x in y)if(Oc(y,x)){if(M.indexOf(x)>=0)continue;var A=y[x];if(null==A)continue;_[w(x)]=H1(A)}return _}function nl(y,w){var M=Math.trunc(y/60),_=Math.abs(y%60),x=M>=0&&!Object.is(M,-0)?"+":"-",A=""+x+Math.abs(M);switch(w){case"short":return""+x+J2(Math.abs(M),2)+":"+J2(_,2);case"narrow":return _>0?A+":"+_:A;case"techie":return""+x+J2(Math.abs(M),2)+J2(_,2);default:throw new RangeError("Value format "+w+" is out of range for property format")}}function il(y){return Cu(y,["hour","minute","second","millisecond"])}var Au=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/;function vi(y){return JSON.stringify(y,Object.keys(y).sort())}var Kh=["January","February","March","April","May","June","July","August","September","October","November","December"],Du=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Zh=["J","F","M","A","M","J","J","A","S","O","N","D"];function Eu(y){switch(y){case"narrow":return Zh;case"short":return Du;case"long":return Kh;case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Lr=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Qh=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],S5=["M","T","W","T","F","S","S"];function Jh(y){switch(y){case"narrow":return S5;case"short":return Qh;case"long":return Lr;case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var e0=["AM","PM"],t0=["Before Christ","Anno Domini"],T5=["BC","AD"],A5=["B","A"];function ua(y){switch(y){case"narrow":return A5;case"short":return T5;case"long":return t0;default:return null}}function ku(y,w){for(var x,M="",_=ro(y);!(x=_()).done;){var A=x.value;M+=A.literal?A.val:w(A.val)}return M}var Lu={D:Fo,DD:mu,DDD:X2,DDDD:gu,t:K2,tt:la,ttt:_u,tttt:D1,T:In,TT:E1,TTT:vu,TTTT:yu,f:bu,ff:k1,fff:qn,ffff:Lt,F:Xe,FF:L1,FFF:Mu,FFFF:Z2},Rs=function(){function y(M,_){this.opts=_,this.loc=M,this.systemLoc=null}y.create=function(_,x){return void 0===x&&(x={}),new y(_,x)},y.parseFormat=function(_){for(var x=null,A="",z=!1,F=[],$=0;$<_.length;$++){var xe=_.charAt($);"'"===xe?(A.length>0&&F.push({literal:z,val:A}),x=null,A="",z=!z):z||xe===x?A+=xe:(A.length>0&&F.push({literal:!1,val:A}),A=xe,x=xe)}return A.length>0&&F.push({literal:z,val:A}),F},y.macroTokenToFormatOpts=function(_){return Lu[_]};var w=y.prototype;return w.formatWithSystemDefault=function(_,x){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(_,Object.assign({},this.opts,x)).format()},w.formatDateTime=function(_,x){return void 0===x&&(x={}),this.loc.dtFormatter(_,Object.assign({},this.opts,x)).format()},w.formatDateTimeParts=function(_,x){return void 0===x&&(x={}),this.loc.dtFormatter(_,Object.assign({},this.opts,x)).formatToParts()},w.resolvedOptions=function(_,x){return void 0===x&&(x={}),this.loc.dtFormatter(_,Object.assign({},this.opts,x)).resolvedOptions()},w.num=function(_,x){if(void 0===x&&(x=0),this.opts.forceSimple)return J2(_,x);var A=Object.assign({},this.opts);return x>0&&(A.padTo=x),this.loc.numberFormatter(A).format(_)},w.formatDateTimeFromString=function(_,x){var A=this,z="en"===this.loc.listingMode(),F=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&Q2(),$=function(Nt,wr){return A.loc.extract(_,Nt,wr)},xe=function(Nt){return _.isOffsetFixed&&0===_.offset&&Nt.allowZ?"Z":_.isValid?_.zone.formatOffset(_.ts,Nt.format):""},Ve=function(Nt,wr){return z?function Bc(y,w){return Eu(w)[y.month-1]}(_,Nt):$(wr?{month:Nt}:{month:Nt,day:"numeric"},"month")},Ne=function(Nt,wr){return z?function Oi(y,w){return Jh(w)[y.weekday-1]}(_,Nt):$(wr?{weekday:Nt}:{weekday:Nt,month:"long",day:"numeric"},"weekday")},un=function(Nt){return z?function Hs(y,w){return ua(w)[y.year<0?0:1]}(_,Nt):$({era:Nt},"era")};return ku(y.parseFormat(x),function(Nt){switch(Nt){case"S":return A.num(_.millisecond);case"u":case"SSS":return A.num(_.millisecond,3);case"s":return A.num(_.second);case"ss":return A.num(_.second,2);case"m":return A.num(_.minute);case"mm":return A.num(_.minute,2);case"h":return A.num(_.hour%12==0?12:_.hour%12);case"hh":return A.num(_.hour%12==0?12:_.hour%12,2);case"H":return A.num(_.hour);case"HH":return A.num(_.hour,2);case"Z":return xe({format:"narrow",allowZ:A.opts.allowZ});case"ZZ":return xe({format:"short",allowZ:A.opts.allowZ});case"ZZZ":return xe({format:"techie",allowZ:A.opts.allowZ});case"ZZZZ":return console.log(_.zone),_.zone.offsetName(_.ts,{format:"short",locale:A.loc.locale});case"ZZZZZ":return _.zone.offsetName(_.ts,{format:"long",locale:A.loc.locale});case"z":return _.zoneName;case"a":return z?function D5(y){return e0[y.hour<12?0:1]}(_):$({hour:"numeric",hour12:!0},"dayperiod");case"d":return F?$({day:"numeric"},"day"):A.num(_.day);case"dd":return F?$({day:"2-digit"},"day"):A.num(_.day,2);case"c":case"E":return A.num(_.weekday);case"ccc":return Ne("short",!0);case"cccc":return Ne("long",!0);case"ccccc":return Ne("narrow",!0);case"EEE":return Ne("short",!1);case"EEEE":return Ne("long",!1);case"EEEEE":return Ne("narrow",!1);case"L":return F?$({month:"numeric",day:"numeric"},"month"):A.num(_.month);case"LL":return F?$({month:"2-digit",day:"numeric"},"month"):A.num(_.month,2);case"LLL":return Ve("short",!0);case"LLLL":return Ve("long",!0);case"LLLLL":return Ve("narrow",!0);case"M":return F?$({month:"numeric"},"month"):A.num(_.month);case"MM":return F?$({month:"2-digit"},"month"):A.num(_.month,2);case"MMM":return Ve("short",!1);case"MMMM":return Ve("long",!1);case"MMMMM":return Ve("narrow",!1);case"y":return F?$({year:"numeric"},"year"):A.num(_.year);case"yy":return F?$({year:"2-digit"},"year"):A.num(_.year.toString().slice(-2),2);case"yyyy":return F?$({year:"numeric"},"year"):A.num(_.year,4);case"yyyyyy":return F?$({year:"numeric"},"year"):A.num(_.year,6);case"G":return un("short");case"GG":return un("long");case"GGGGG":return un("narrow");case"kk":return A.num(_.weekYear.toString().slice(-2),2);case"kkkk":return A.num(_.weekYear,4);case"W":return A.num(_.weekNumber);case"WW":return A.num(_.weekNumber,2);case"o":return A.num(_.ordinal);case"ooo":return A.num(_.ordinal,3);case"q":return A.num(_.quarter);case"qq":return A.num(_.quarter,2);case"X":return A.num(Math.floor(_.ts/1e3));case"x":return A.num(_.ts);default:return function(Nt){var wr=y.macroTokenToFormatOpts(Nt);return wr?A.formatWithSystemDefault(_,wr):Nt}(Nt)}})},w.formatDurationFromString=function(_,x){var Ne,A=this,z=function(Ne){switch(Ne[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},$=y.parseFormat(x),xe=$.reduce(function(Ve,Ne){return Ne.literal?Ve:Ve.concat(Ne.val)},[]),$e=_.shiftTo.apply(_,xe.map(z).filter(function(Ve){return Ve}));return ku($,(Ne=$e,function(Mt){var un=z(Mt);return un?A.num(Ne.get(un),Mt.length):Mt}))},y}(),Ir=function(){function y(M,_){this.reason=M,this.explanation=_}return y.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},y}(),Uc=function(){function y(){}var w=y.prototype;return w.offsetName=function(_,x){throw new so},w.formatOffset=function(_,x){throw new so},w.offset=function(_){throw new so},w.equals=function(_){throw new so},ts(y,[{key:"type",get:function(){throw new so}},{key:"name",get:function(){throw new so}},{key:"universal",get:function(){throw new so}},{key:"isValid",get:function(){throw new so}}]),y}(),R1=null,Iu=function(y){function w(){return y.apply(this,arguments)||this}Gr(w,y);var M=w.prototype;return M.offsetName=function(x,A){return w5(x,A.format,A.locale)},M.formatOffset=function(x,A){return nl(this.offset(x),A)},M.offset=function(x){return-new Date(x).getTimezoneOffset()},M.equals=function(x){return"local"===x.type},ts(w,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return La()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===R1&&(R1=new w),R1}}]),w}(Uc),k5=RegExp("^"+Au.source+"$"),z1={},I5={year:0,month:1,day:2,hour:3,minute:4,second:5},P1={},Un=function(y){function w(_){var x;return(x=y.call(this)||this).zoneName=_,x.valid=w.isValidZone(_),x}Gr(w,y),w.create=function(x){return P1[x]||(P1[x]=new w(x)),P1[x]},w.resetCache=function(){P1={},z1={}},w.isValidSpecifier=function(x){return!(!x||!x.match(k5))},w.isValidZone=function(x){try{return new Intl.DateTimeFormat("en-US",{timeZone:x}).format(),!0}catch{return!1}},w.parseGMTOffset=function(x){if(x){var A=x.match(/^Etc\/GMT([+-]\d{1,2})$/i);if(A)return-60*parseInt(A[1])}return null};var M=w.prototype;return M.offsetName=function(x,A){return w5(x,A.format,A.locale,this.name)},M.formatOffset=function(x,A){return nl(this.offset(x),A)},M.offset=function(x){var A=new Date(x),z=function L5(y){return z1[y]||(z1[y]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:y,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),z1[y]}(this.name),F=z.formatToParts?function V5(y,w){for(var M=y.formatToParts(w),_=[],x=0;x<M.length;x++){var A=M[x],F=A.value,$=I5[A.type];Bn($)||(_[$]=parseInt(F,10))}return _}(z,A):function n0(y,w){var M=y.format(w).replace(/\u200E/g,""),_=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(M);return[_[3],_[1],_[2],_[4],_[5],_[6]]}(z,A),Ve=F[3],an=+A,Nt=an%1e3;return(Yh({year:F[0],month:F[1],day:F[2],hour:24===Ve?0:Ve,minute:F[4],second:F[5],millisecond:0})-(an-=Nt>=0?Nt:1e3+Nt))/6e4},M.equals=function(x){return"iana"===x.type&&x.name===this.name},ts(w,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),w}(Uc),oi=null,Vr=function(y){function w(_){var x;return(x=y.call(this)||this).fixed=_,x}Gr(w,y),w.instance=function(x){return 0===x?w.utcInstance:new w(x)},w.parseSpecifier=function(x){if(x){var A=x.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(A)return new w(Tu(A[1],A[2]))}return null},ts(w,null,[{key:"utcInstance",get:function(){return null===oi&&(oi=new w(0)),oi}}]);var M=w.prototype;return M.offsetName=function(){return this.name},M.formatOffset=function(x,A){return nl(this.fixed,A)},M.offset=function(){return this.fixed},M.equals=function(x){return"fixed"===x.type&&x.fixed===this.fixed},ts(w,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+nl(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]),w}(Uc),rl=function(y){function w(_){var x;return(x=y.call(this)||this).zoneName=_,x}Gr(w,y);var M=w.prototype;return M.offsetName=function(){return null},M.formatOffset=function(){return""},M.offset=function(){return NaN},M.equals=function(){return!1},ts(w,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),w}(Uc);function An(y,w){var M;if(Bn(y)||null===y)return w;if(y instanceof Uc)return y;if(function $x(y){return"string"==typeof y}(y)){var _=y.toLowerCase();return"local"===_?w:"utc"===_||"gmt"===_?Vr.utcInstance:null!=(M=Un.parseGMTOffset(y))?Vr.instance(M):Un.isValidSpecifier(_)?Un.create(y):Vr.parseSpecifier(_)||new rl(y)}return ao(y)?Vr.instance(y):"object"==typeof y&&y.offset&&"number"==typeof y.offset?y:new rl(y)}var N1=function(){return Date.now()},On=null,F1=null,r0=null,sn=null,Rt=!1,ci=function(){function y(){}return y.resetCaches=function(){ar.resetCache(),Un.resetCache()},ts(y,null,[{key:"now",get:function(){return N1},set:function(M){N1=M}},{key:"defaultZoneName",get:function(){return y.defaultZone.name},set:function(M){On=M?An(M):null}},{key:"defaultZone",get:function(){return On||Iu.instance}},{key:"defaultLocale",get:function(){return F1},set:function(M){F1=M}},{key:"defaultNumberingSystem",get:function(){return r0},set:function(M){r0=M}},{key:"defaultOutputCalendar",get:function(){return sn},set:function(M){sn=M}},{key:"throwOnInvalid",get:function(){return Rt},set:function(M){Rt=M}}]),y}(),s0={};function we(y,w){void 0===w&&(w={});var M=JSON.stringify([y,w]),_=s0[M];return _||(_=new Intl.DateTimeFormat(y,w),s0[M]=_),_}var Gc={},Dn={};var Wc=null;function Vu(y,w,M,_,x){var A=y.listingMode(M);return"error"===A?null:"en"===A?_(w):x(w)}var Zx=function(){function y(M,_,x){if(this.padTo=x.padTo||0,this.floor=x.floor||!1,!_&&La()){var A={useGrouping:!1};x.padTo>0&&(A.minimumIntegerDigits=x.padTo),this.inf=function Gt(y,w){void 0===w&&(w={});var M=JSON.stringify([y,w]),_=Gc[M];return _||(_=new Intl.NumberFormat(y,w),Gc[M]=_),_}(M,A)}}return y.prototype.format=function(_){if(this.inf){var x=this.floor?Math.floor(_):_;return this.inf.format(x)}return J2(this.floor?Math.floor(_):qh(_,3),this.padTo)},y}(),Qx=function(){function y(M,_,x){var A;if(this.opts=x,this.hasIntl=La(),M.zone.universal&&this.hasIntl?(A="UTC",this.dt=x.timeZoneName||0===M.offset?M:zn.fromMillis(M.ts+60*M.offset*1e3)):"local"===M.zone.type?this.dt=M:(this.dt=M,A=M.zone.name),this.hasIntl){var z=Object.assign({},this.opts);A&&(z.timeZone=A),this.dtf=we(_,z)}}var w=y.prototype;return w.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var _=function E5(y){var _="EEEE, LLLL d, yyyy, h:mm a";switch(vi(Cu(y,["weekday","era","year","month","day","hour","minute","second","timeZoneName","hour12"]))){case vi(Fo):return"M/d/yyyy";case vi(mu):return"LLL d, yyyy";case vi(X2):return"LLLL d, yyyy";case vi(gu):return"EEEE, LLLL d, yyyy";case vi(K2):return"h:mm a";case vi(la):return"h:mm:ss a";case vi(_u):case vi(D1):return"h:mm a";case vi(In):return"HH:mm";case vi(E1):return"HH:mm:ss";case vi(vu):case vi(yu):return"HH:mm";case vi(bu):return"M/d/yyyy, h:mm a";case vi(k1):return"LLL d, yyyy, h:mm a";case vi(qn):return"LLLL d, yyyy, h:mm a";case vi(Lt):return _;case vi(Xe):return"M/d/yyyy, h:mm:ss a";case vi(L1):return"LLL d, yyyy, h:mm:ss a";case vi(ai):return"EEE, d LLL yyyy, h:mm a";case vi(Mu):return"LLLL d, yyyy, h:mm:ss a";case vi(Z2):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return _}}(this.opts),x=ar.create("en-US");return Rs.create(x).formatDateTimeFromString(this.dt,_)},w.formatToParts=function(){return this.hasIntl&&Q2()?this.dtf.formatToParts(this.dt.toJSDate()):[]},w.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}},y}(),Jx=function(){function y(M,_,x){this.opts=Object.assign({style:"long"},x),!_&&x5()&&(this.rtf=function H5(y,w){void 0===w&&(w={});var x=function A1(y,w){if(null==y)return{};var x,A,M={},_=Object.keys(y);for(A=0;A<_.length;A++)!(w.indexOf(x=_[A])>=0)&&(M[x]=y[x]);return M}(w,["base"]),A=JSON.stringify([y,x]),z=Dn[A];return z||(z=new Intl.RelativeTimeFormat(y,w),Dn[A]=z),z}(M,x))}var w=y.prototype;return w.format=function(_,x){return this.rtf?this.rtf.format(_,x):function Xx(y,w,M,_){void 0===M&&(M="always"),void 0===_&&(_=!1);var x={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},A=-1===["hours","minutes","seconds"].indexOf(y);if("auto"===M&&A){var z="days"===y;switch(w){case 1:return z?"tomorrow":"next "+x[y][0];case-1:return z?"yesterday":"last "+x[y][0];case 0:return z?"today":"this "+x[y][0]}}var F=Object.is(w,-0)||w<0,$=Math.abs(w),xe=1===$,$e=x[y],Ve=_?xe?$e[1]:$e[2]||$e[1]:xe?x[y][0]:y;return F?$+" "+Ve+" ago":"in "+$+" "+Ve}(x,_,this.opts.numeric,"long"!==this.opts.style)},w.formatToParts=function(_,x){return this.rtf?this.rtf.formatToParts(_,x):[]},y}(),ar=function(){function y(M,_,x,A){var z=function O1(y){var w=y.indexOf("-u-");if(-1===w)return[y];var M,_=y.substring(0,w);try{M=we(y).resolvedOptions()}catch{M=we(_).resolvedOptions()}return[_,M.numberingSystem,M.calendar]}(M),$=z[1],xe=z[2];this.locale=z[0],this.numberingSystem=_||$||null,this.outputCalendar=x||xe||null,this.intl=function ns(y,w,M){return La()?((M||w)&&(y+="-u",M&&(y+="-ca-"+M),w&&(y+="-nu-"+w)),y):[]}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=A,this.fastNumbersCached=null}y.fromOpts=function(_){return y.create(_.locale,_.numberingSystem,_.outputCalendar,_.defaultToEN)},y.create=function(_,x,A,z){void 0===z&&(z=!1);var F=_||ci.defaultLocale,$=F||(z?"en-US":function R5(){if(Wc)return Wc;if(La()){var y=(new Intl.DateTimeFormat).resolvedOptions().locale;return Wc=y&&"und"!==y?y:"en-US"}return Wc="en-US"}());return new y($,x||ci.defaultNumberingSystem,A||ci.defaultOutputCalendar,F)},y.resetCache=function(){Wc=null,s0={},Gc={},Dn={}},y.fromObject=function(_){var x=void 0===_?{}:_;return y.create(x.locale,x.numberingSystem,x.outputCalendar)};var w=y.prototype;return w.listingMode=function(_){void 0===_&&(_=!0);var A=La()&&Q2(),z=this.isEnglish(),F=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return A||z&&F||_?!A||z&&F?"en":"intl":"error"},w.clone=function(_){return _&&0!==Object.getOwnPropertyNames(_).length?y.create(_.locale||this.specifiedLocale,_.numberingSystem||this.numberingSystem,_.outputCalendar||this.outputCalendar,_.defaultToEN||!1):this},w.redefaultToEN=function(_){return void 0===_&&(_={}),this.clone(Object.assign({},_,{defaultToEN:!0}))},w.redefaultToSystem=function(_){return void 0===_&&(_={}),this.clone(Object.assign({},_,{defaultToEN:!1}))},w.months=function(_,x,A){var z=this;return void 0===x&&(x=!1),void 0===A&&(A=!0),Vu(this,_,A,Eu,function(){var F=x?{month:_,day:"numeric"}:{month:_},$=x?"format":"standalone";return z.monthsCache[$][_]||(z.monthsCache[$][_]=function Kx(y){for(var w=[],M=1;M<=12;M++){var _=zn.utc(2016,M,1);w.push(y(_))}return w}(function(xe){return z.extract(xe,F,"month")})),z.monthsCache[$][_]})},w.weekdays=function(_,x,A){var z=this;return void 0===x&&(x=!1),void 0===A&&(A=!0),Vu(this,_,A,Jh,function(){var F=x?{weekday:_,year:"numeric",month:"long",day:"numeric"}:{weekday:_},$=x?"format":"standalone";return z.weekdaysCache[$][_]||(z.weekdaysCache[$][_]=function z5(y){for(var w=[],M=1;M<=7;M++){var _=zn.utc(2016,11,13+M);w.push(y(_))}return w}(function(xe){return z.extract(xe,F,"weekday")})),z.weekdaysCache[$][_]})},w.meridiems=function(_){var x=this;return void 0===_&&(_=!0),Vu(this,void 0,_,function(){return e0},function(){if(!x.meridiemCache){var A={hour:"numeric",hour12:!0};x.meridiemCache=[zn.utc(2016,11,13,9),zn.utc(2016,11,13,19)].map(function(z){return x.extract(z,A,"dayperiod")})}return x.meridiemCache})},w.eras=function(_,x){var A=this;return void 0===x&&(x=!0),Vu(this,_,x,ua,function(){var z={era:_};return A.eraCache[_]||(A.eraCache[_]=[zn.utc(-40,1,1),zn.utc(2017,1,1)].map(function(F){return A.extract(F,z,"era")})),A.eraCache[_]})},w.extract=function(_,x,A){var $=this.dtFormatter(_,x).formatToParts().find(function(xe){return xe.type.toLowerCase()===A});return $?$.value:null},w.numberFormatter=function(_){return void 0===_&&(_={}),new Zx(this.intl,_.forceSimple||this.fastNumbers,_)},w.dtFormatter=function(_,x){return void 0===x&&(x={}),new Qx(_,this.intl,x)},w.relFormatter=function(_){return void 0===_&&(_={}),new Jx(this.intl,this.isEnglish(),_)},w.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||La()&&new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},w.equals=function(_){return this.locale===_.locale&&this.numberingSystem===_.numberingSystem&&this.outputCalendar===_.outputCalendar},ts(y,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Ia(y){return(!y.numberingSystem||"latn"===y.numberingSystem)&&("latn"===y.numberingSystem||!y.locale||y.locale.startsWith("en")||La()&&"latn"===new Intl.DateTimeFormat(y.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}}]),y}();function jc(){for(var y=arguments.length,w=new Array(y),M=0;M<y;M++)w[M]=arguments[M];var _=w.reduce(function(x,A){return x+A.source},"");return RegExp("^"+_+"$")}function sl(){for(var y=arguments.length,w=new Array(y),M=0;M<y;M++)w[M]=arguments[M];return function(_){return w.reduce(function(x,A){var z=x[0],F=x[1],xe=A(_,x[2]),Ve=xe[1],Ne=xe[2];return[Object.assign(z,xe[0]),F||Ve,Ne]},[{},null,1]).slice(0,2)}}function al(y){if(null==y)return[null,null];for(var w=arguments.length,M=new Array(w>1?w-1:0),_=1;_<w;_++)M[_-1]=arguments[_];for(var x=0,A=M;x<A.length;x++){var z=A[x],F=z[0],$=z[1],xe=F.exec(y);if(xe)return $(xe)}return[null,null]}function P5(){for(var y=arguments.length,w=new Array(y),M=0;M<y;M++)w[M]=arguments[M];return function(_,x){var z,A={};for(z=0;z<w.length;z++)A[w[z]]=xi(_[x+z]);return[A,null,x+z]}}var jr=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Vn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,9}))?)?)?/,N5=RegExp(""+Vn.source+jr.source+"?"),a0=RegExp("(?:T"+N5.source+")?"),je=P5("weekYear","weekNumber","weekDay"),B1=P5("year","ordinal"),Hu=RegExp(Vn.source+" ?(?:"+jr.source+"|("+Au.source+"))?"),O5=RegExp("(?: "+Hu.source+")?");function $c(y,w,M){var _=y[w];return Bn(_)?M:xi(_)}function Ru(y,w){return[{year:$c(y,w),month:$c(y,w+1,1),day:$c(y,w+2,1)},null,w+3]}function Va(y,w){return[{hour:$c(y,w,0),minute:$c(y,w+1,0),second:$c(y,w+2,0),millisecond:wu(y[w+3])},null,w+4]}function Oo(y,w){var M=!y[w]&&!y[w+1],_=Tu(y[w+1],y[w+2]);return[{},M?null:Vr.instance(_),w+3]}function zu(y,w){return[{},y[w]?Un.create(y[w]):null,w+1]}var B5=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})(?:[.,](-?\d{1,9}))?S)?)?)$/;function Vt(y){var _=y[2],x=y[3],A=y[4],z=y[5],F=y[6],$=y[7],xe=y[8],$e="-"===y[0][0],Ve=function(Mt){return Mt&&$e?-Mt:Mt};return[{years:Ve(xi(y[1])),months:Ve(xi(_)),weeks:Ve(xi(x)),days:Ve(xi(A)),hours:Ve(xi(z)),minutes:Ve(xi(F)),seconds:Ve(xi($)),milliseconds:Ve(wu(xe))}]}var Pu={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nu(y,w,M,_,x,A,z){var F={year:2===w.length?Xh(xi(w)):xi(w),month:Du.indexOf(M)+1,day:xi(_),hour:xi(x),minute:xi(A)};return z&&(F.second=xi(z)),y&&(F.weekday=y.length>3?Lr.indexOf(y)+1:Qh.indexOf(y)+1),F}var vs=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function o0(y){var Mt,$=y[8],xe=y[9],$e=y[10],Ve=y[11],Ne=Nu(y[1],y[4],y[3],y[2],y[5],y[6],y[7]);return Mt=$?Pu[$]:xe?0:Tu($e,Ve),[Ne,new Vr(Mt)]}var co=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,zs=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,iC=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function U5(y){return[Nu(y[1],y[4],y[3],y[2],y[5],y[6],y[7]),Vr.utcInstance]}function Ps(y){return[Nu(y[1],y[7],y[2],y[3],y[4],y[5],y[6]),Vr.utcInstance]}var Yn=jc(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,a0),rC=jc(/(\d{4})-?W(\d\d)(?:-?(\d))?/,a0),sC=jc(/(\d{4})-?(\d{3})/,a0),qc=jc(N5),Hn=sl(Ru,Va,Oo),U1=sl(je,Va,Oo),Fu=sl(B1,Va),Ou=sl(Va,Oo),st=jc(/(\d{4})-(\d\d)-(\d\d)/,O5),W5=jc(Hu),l0=sl(Ru,Va,Oo,zu),u0=sl(Va,Oo,zu),Bu={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},ne=Object.assign({years:{months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Bu),Rn=365.2425,Sn=30.436875,Hr=Object.assign({years:{months:12,weeks:Rn/7,days:Rn,hours:24*Rn,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Rn/28,days:Rn/4,hours:24*Rn/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Sn/7,days:Sn,hours:24*Sn,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Bu),Di=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Yc=Di.slice(0).reverse();function Bi(y,w,M){void 0===M&&(M=!1);var _={values:M?w.values:Object.assign({},y.values,w.values||{}),loc:y.loc.clone(w.loc),conversionAccuracy:w.conversionAccuracy||y.conversionAccuracy};return new ln(_)}function tt(y,w,M,_,x){var A=y[x][M],z=w[M]/A,$=Math.sign(z)!==Math.sign(_[x])&&0!==_[x]&&Math.abs(z)<=1?function ys(y){return y<0?Math.floor(y):Math.ceil(y)}(z):Math.trunc(z);_[x]+=$,w[M]-=$*A}function qt(y,w){Yc.reduce(function(M,_){return Bn(w[_])?M:(M&&tt(y,w,M,w,_),_)},null)}var ln=function(){function y(M){var _="longterm"===M.conversionAccuracy||!1;this.values=M.values,this.loc=M.loc||ar.create(),this.conversionAccuracy=_?"longterm":"casual",this.invalid=M.invalid||null,this.matrix=_?Hr:ne,this.isLuxonDuration=!0}y.fromMillis=function(_,x){return y.fromObject(Object.assign({milliseconds:_},x))},y.fromObject=function(_){if(null==_||"object"!=typeof _)throw new Wr("Duration.fromObject: argument expected to be an object, got "+(null===_?"null":typeof _));return new y({values:tl(_,y.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:ar.fromObject(_),conversionAccuracy:_.conversionAccuracy})},y.fromISO=function(_,x){var A=function G5(y){return al(y,[B5,Vt])}(_),z=A[0];if(z){var F=Object.assign(z,x);return y.fromObject(F)}return y.invalid("unparsable",'the input "'+_+"\" can't be parsed as ISO 8601")},y.invalid=function(_,x){if(void 0===x&&(x=null),!_)throw new Wr("need to specify a reason the Duration is invalid");var A=_ instanceof Ir?_:new Ir(_,x);if(ci.throwOnInvalid)throw new No(A);return new y({invalid:A})},y.normalizeUnit=function(_){var x={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[_&&_.toLowerCase()];if(!x)throw new jh(_);return x},y.isDuration=function(_){return _&&_.isLuxonDuration||!1};var w=y.prototype;return w.toFormat=function(_,x){void 0===x&&(x={});var A=Object.assign({},x,{floor:!1!==x.round&&!1!==x.floor});return this.isValid?Rs.create(this.loc,A).formatDurationFromString(this,_):"Invalid Duration"},w.toObject=function(_){if(void 0===_&&(_={}),!this.isValid)return{};var x=Object.assign({},this.values);return _.includeConfig&&(x.conversionAccuracy=this.conversionAccuracy,x.numberingSystem=this.loc.numberingSystem,x.locale=this.loc.locale),x},w.toISO=function(){if(!this.isValid)return null;var _="P";return 0!==this.years&&(_+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(_+=this.months+3*this.quarters+"M"),0!==this.weeks&&(_+=this.weeks+"W"),0!==this.days&&(_+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(_+="T"),0!==this.hours&&(_+=this.hours+"H"),0!==this.minutes&&(_+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(_+=qh(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===_&&(_+="T0S"),_},w.toJSON=function(){return this.toISO()},w.toString=function(){return this.toISO()},w.valueOf=function(){return this.as("milliseconds")},w.plus=function(_){if(!this.isValid)return this;for(var F,x=Ui(_),A={},z=ro(Di);!(F=z()).done;){var $=F.value;(Oc(x.values,$)||Oc(this.values,$))&&(A[$]=x.get($)+this.get($))}return Bi(this,{values:A},!0)},w.minus=function(_){if(!this.isValid)return this;var x=Ui(_);return this.plus(x.negate())},w.mapUnits=function(_){if(!this.isValid)return this;for(var x={},A=0,z=Object.keys(this.values);A<z.length;A++){var F=z[A];x[F]=H1(_(this.values[F],F))}return Bi(this,{values:x},!0)},w.get=function(_){return this[y.normalizeUnit(_)]},w.set=function(_){return this.isValid?Bi(this,{values:Object.assign(this.values,tl(_,y.normalizeUnit,[]))}):this},w.reconfigure=function(_){var x=void 0===_?{}:_,F=x.conversionAccuracy,xe={loc:this.loc.clone({locale:x.locale,numberingSystem:x.numberingSystem})};return F&&(xe.conversionAccuracy=F),Bi(this,xe)},w.as=function(_){return this.isValid?this.shiftTo(_).get(_):NaN},w.normalize=function(){if(!this.isValid)return this;var _=this.toObject();return qt(this.matrix,_),Bi(this,{values:_},!0)},w.shiftTo=function(){for(var _=arguments.length,x=new Array(_),A=0;A<_;A++)x[A]=arguments[A];if(!this.isValid)return this;if(0===x.length)return this;x=x.map(function(wr){return y.normalizeUnit(wr)});var xe,z={},F={},$=this.toObject();qt(this.matrix,$);for(var Ve,$e=ro(Di);!(Ve=$e()).done;){var Ne=Ve.value;if(x.indexOf(Ne)>=0){xe=Ne;var Mt=0;for(var un in F)Mt+=this.matrix[un][Ne]*F[un],F[un]=0;ao($[Ne])&&(Mt+=$[Ne]);var Gn=Math.trunc(Mt);for(var an in z[Ne]=Gn,F[Ne]=Mt-Gn,$)Di.indexOf(an)>Di.indexOf(Ne)&&tt(this.matrix,$,an,z,Ne)}else ao($[Ne])&&(F[Ne]=$[Ne])}for(var Nt in F)0!==F[Nt]&&(z[xe]+=Nt===xe?F[Nt]:F[Nt]/this.matrix[xe][Nt]);return Bi(this,{values:z},!0).normalize()},w.negate=function(){if(!this.isValid)return this;for(var _={},x=0,A=Object.keys(this.values);x<A.length;x++){var z=A[x];_[z]=-this.values[z]}return Bi(this,{values:_},!0)},w.equals=function(_){if(!this.isValid||!_.isValid||!this.loc.equals(_.loc))return!1;for(var A,x=ro(Di);!(A=x()).done;){var z=A.value;if(this.values[z]!==_.values[z])return!1}return!0},ts(y,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),y}();function Ui(y){if(ao(y))return ln.fromMillis(y);if(ln.isDuration(y))return y;if("object"==typeof y)return ln.fromObject(y);throw new Wr("Unknown duration argument "+y+" of type "+typeof y)}var Ns="Invalid Interval",Fs=function(){function y(M){this.s=M.start,this.e=M.end,this.invalid=M.invalid||null,this.isLuxonInterval=!0}y.invalid=function(_,x){if(void 0===x&&(x=null),!_)throw new Wr("need to specify a reason the Interval is invalid");var A=_ instanceof Ir?_:new Ir(_,x);if(ci.throwOnInvalid)throw new pu(A);return new y({invalid:A})},y.fromDateTimes=function(_,x){var A=jo(_),z=jo(x),F=function Xi(y,w){return y&&y.isValid?w&&w.isValid?w<y?Fs.invalid("end before start","The end of an interval must be after its start, but you had start="+y.toISO()+" and end="+w.toISO()):null:Fs.invalid("missing or invalid end"):Fs.invalid("missing or invalid start")}(A,z);return F??new y({start:A,end:z})},y.after=function(_,x){var A=Ui(x),z=jo(_);return y.fromDateTimes(z,z.plus(A))},y.before=function(_,x){var A=Ui(x),z=jo(_);return y.fromDateTimes(z.minus(A),z)},y.fromISO=function(_,x){var A=(_||"").split("/",2),z=A[0],F=A[1];if(z&&F){var $=zn.fromISO(z,x),xe=zn.fromISO(F,x);if($.isValid&&xe.isValid)return y.fromDateTimes($,xe);if($.isValid){var $e=ln.fromISO(F,x);if($e.isValid)return y.after($,$e)}else if(xe.isValid){var Ve=ln.fromISO(z,x);if(Ve.isValid)return y.before(xe,Ve)}}return y.invalid("unparsable",'the input "'+_+"\" can't be parsed as ISO 8601")},y.isInterval=function(_){return _&&_.isLuxonInterval||!1};var w=y.prototype;return w.length=function(_){return void 0===_&&(_="milliseconds"),this.isValid?this.toDuration.apply(this,[_]).get(_):NaN},w.count=function(_){if(void 0===_&&(_="milliseconds"),!this.isValid)return NaN;var x=this.start.startOf(_),A=this.end.startOf(_);return Math.floor(A.diff(x,_).get(_))+1},w.hasSame=function(_){return!!this.isValid&&this.e.minus(1).hasSame(this.s,_)},w.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},w.isAfter=function(_){return!!this.isValid&&this.s>_},w.isBefore=function(_){return!!this.isValid&&this.e<=_},w.contains=function(_){return!!this.isValid&&this.s<=_&&this.e>_},w.set=function(_){var x=void 0===_?{}:_;return this.isValid?y.fromDateTimes(x.start||this.s,x.end||this.e):this},w.splitAt=function(){var _=this;if(!this.isValid)return[];for(var x=arguments.length,A=new Array(x),z=0;z<x;z++)A[z]=arguments[z];for(var F=A.map(jo).filter(function(Mt){return _.contains(Mt)}).sort(),$=[],xe=this.s,$e=0;xe<this.e;){var Ve=F[$e]||this.e,Ne=+Ve>+this.e?this.e:Ve;$.push(y.fromDateTimes(xe,Ne)),xe=Ne,$e+=1}return $},w.splitBy=function(_){var x=Ui(_);if(!this.isValid||!x.isValid||0===x.as("milliseconds"))return[];for(var z,F,A=this.s,$=[];A<this.e;)z=A.plus(x),$.push(y.fromDateTimes(A,F=+z>+this.e?this.e:z)),A=F;return $},w.divideEqually=function(_){return this.isValid?this.splitBy(this.length()/_).slice(0,_):[]},w.overlaps=function(_){return this.e>_.s&&this.s<_.e},w.abutsStart=function(_){return!!this.isValid&&+this.e==+_.s},w.abutsEnd=function(_){return!!this.isValid&&+_.e==+this.s},w.engulfs=function(_){return!!this.isValid&&this.s<=_.s&&this.e>=_.e},w.equals=function(_){return!(!this.isValid||!_.isValid)&&this.s.equals(_.s)&&this.e.equals(_.e)},w.intersection=function(_){if(!this.isValid)return this;var x=this.s>_.s?this.s:_.s,A=this.e<_.e?this.e:_.e;return x>A?null:y.fromDateTimes(x,A)},w.union=function(_){return this.isValid?y.fromDateTimes(this.s<_.s?this.s:_.s,this.e>_.e?this.e:_.e):this},y.merge=function(_){var x=_.sort(function(F,$){return F.s-$.s}).reduce(function(F,$){var xe=F[0],$e=F[1];return $e?$e.overlaps($)||$e.abutsStart($)?[xe,$e.union($)]:[xe.concat([$e]),$]:[xe,$]},[[],null]),A=x[0],z=x[1];return z&&A.push(z),A},y.xor=function(_){for(var x,Ne,A=null,z=0,F=[],$=_.map(function(un){return[{time:un.s,type:"s"},{time:un.e,type:"e"}]}),Ve=ro((x=Array.prototype).concat.apply(x,$).sort(function(un,Gn){return un.time-Gn.time}));!(Ne=Ve()).done;){var Mt=Ne.value;1===(z+="s"===Mt.type?1:-1)?A=Mt.time:(A&&+A!=+Mt.time&&F.push(y.fromDateTimes(A,Mt.time)),A=null)}return y.merge(F)},w.difference=function(){for(var _=this,x=arguments.length,A=new Array(x),z=0;z<x;z++)A[z]=arguments[z];return y.xor([this].concat(A)).map(function(F){return _.intersection(F)}).filter(function(F){return F&&!F.isEmpty()})},w.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":Ns},w.toISO=function(_){return this.isValid?this.s.toISO(_)+"/"+this.e.toISO(_):Ns},w.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():Ns},w.toISOTime=function(_){return this.isValid?this.s.toISOTime(_)+"/"+this.e.toISOTime(_):Ns},w.toFormat=function(_,x){var z=(void 0===x?{}:x).separator,F=void 0===z?" \u2013 ":z;return this.isValid?""+this.s.toFormat(_)+F+this.e.toFormat(_):Ns},w.toDuration=function(_,x){return this.isValid?this.e.diff(this.s,_,x):ln.invalid(this.invalidReason)},w.mapEndpoints=function(_){return y.fromDateTimes(_(this.s),_(this.e))},ts(y,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),y}(),Jn=function(){function y(){}return y.hasDST=function(M){void 0===M&&(M=ci.defaultZone);var _=zn.local().setZone(M).set({month:12});return!M.universal&&_.offset!==_.set({month:6}).offset},y.isValidIANAZone=function(M){return Un.isValidSpecifier(M)&&Un.isValidZone(M)},y.normalizeZone=function(M){return An(M,ci.defaultZone)},y.months=function(M,_){void 0===M&&(M="long");var x=void 0===_?{}:_,A=x.locale,F=x.numberingSystem,xe=x.outputCalendar;return ar.create(void 0===A?null:A,void 0===F?null:F,void 0===xe?"gregory":xe).months(M)},y.monthsFormat=function(M,_){void 0===M&&(M="long");var x=void 0===_?{}:_,A=x.locale,F=x.numberingSystem,xe=x.outputCalendar;return ar.create(void 0===A?null:A,void 0===F?null:F,void 0===xe?"gregory":xe).months(M,!0)},y.weekdays=function(M,_){void 0===M&&(M="long");var x=void 0===_?{}:_,A=x.locale,F=x.numberingSystem;return ar.create(void 0===A?null:A,void 0===F?null:F,null).weekdays(M)},y.weekdaysFormat=function(M,_){void 0===M&&(M="long");var x=void 0===_?{}:_,A=x.locale,F=x.numberingSystem;return ar.create(void 0===A?null:A,void 0===F?null:F,null).weekdays(M,!0)},y.meridiems=function(M){var x=(void 0===M?{}:M).locale;return ar.create(void 0===x?null:x).meridiems()},y.eras=function(M,_){void 0===M&&(M="short");var A=(void 0===_?{}:_).locale;return ar.create(void 0===A?null:A,null,"gregory").eras(M)},y.features=function(){var M=!1,_=!1,x=!1,A=!1;if(La()){M=!0,_=Q2(),A=x5();try{x="America/New_York"===new Intl.DateTimeFormat("en",{timeZone:"America/New_York"}).resolvedOptions().timeZone}catch{x=!1}}return{intl:M,intlTokens:_,zones:x,relative:A}},y}();function Xc(y,w){var M=function(A){return A.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},_=M(w)-M(y);return Math.floor(ln.fromMillis(_).as("days"))}var Kc={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Bo={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Uu=Kc.hanidec.replace(/[\[|\]]/g,"").split("");function ei(y,w){return void 0===w&&(w=""),new RegExp(""+Kc[y.numberingSystem||"latn"]+w)}function Mn(y,w){return void 0===w&&(w=function(_){return _}),{regex:y,deser:function(_){return w(function Uo(y){var w=parseInt(y,10);if(isNaN(w)){w="";for(var M=0;M<y.length;M++){var _=y.charCodeAt(M);if(-1!==y[M].search(Kc.hanidec))w+=Uu.indexOf(y[M]);else for(var x in Bo){var A=Bo[x],z=A[0];_>=z&&_<=A[1]&&(w+=_-z)}}return parseInt(w,10)}return w}(_[0]))}}}function Os(y){return y.replace(/\./,"\\.?")}function Go(y){return y.replace(/\./,"").toLowerCase()}function bs(y,w){return null===y?null:{regex:RegExp(y.map(Os).join("|")),deser:function(_){var x=_[0];return y.findIndex(function(A){return Go(x)===Go(A)})+w}}}function Xn(y,w){return{regex:y,deser:function(_){return Tu(_[1],_[2])},groups:w}}function d0(y){return{regex:y,deser:function(M){return M[0]}}}function $5(y){return y.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var Gu={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},Wu=null;function dl(y,w,M){var _=function ju(y,w){var M;return(M=Array.prototype).concat.apply(M,y.map(function(_){return function Bs(y,w){if(y.literal)return y;var M=Rs.macroTokenToFormatOpts(y.val);if(!M)return y;var A=Rs.create(w,M).formatDateTimeParts(function $r(){return Wu||(Wu=zn.fromMillis(1555555555555)),Wu}()).map(function(z){return function ul(y,w,M){var _=y.type;if("literal"===_)return{literal:!0,val:y.value};var z=Gu[_];return"object"==typeof z&&(z=z[M[_]]),z?{literal:!1,val:z}:void 0}(z,0,M)});return A.includes(void 0)?y:A}(_,w)}))}(Rs.parseFormat(M),y),x=_.map(function(an){return function G1(y,w){var M=ei(w),_=ei(w,"{2}"),x=ei(w,"{3}"),A=ei(w,"{4}"),z=ei(w,"{6}"),F=ei(w,"{1,2}"),$=ei(w,"{1,3}"),xe=ei(w,"{1,6}"),$e=ei(w,"{1,9}"),Ve=ei(w,"{2,4}"),Ne=ei(w,"{4,6}"),Mt=function(Nt){return{regex:RegExp($5(Nt.val)),deser:function(Ft){return Ft[0]},literal:!0}},Gn=function(Nt){if(y.literal)return Mt(Nt);switch(Nt.val){case"G":return bs(w.eras("short",!1),0);case"GG":return bs(w.eras("long",!1),0);case"y":return Mn(xe);case"yy":case"kk":return Mn(Ve,Xh);case"yyyy":case"kkkk":return Mn(A);case"yyyyy":return Mn(Ne);case"yyyyyy":return Mn(z);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Mn(F);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Mn(_);case"MMM":return bs(w.months("short",!0,!1),1);case"MMMM":return bs(w.months("long",!0,!1),1);case"LLL":return bs(w.months("short",!1,!1),1);case"LLLL":return bs(w.months("long",!1,!1),1);case"o":case"S":return Mn($);case"ooo":case"SSS":return Mn(x);case"u":return d0($e);case"a":return bs(w.meridiems(),0);case"E":case"c":return Mn(M);case"EEE":return bs(w.weekdays("short",!1,!1),1);case"EEEE":return bs(w.weekdays("long",!1,!1),1);case"ccc":return bs(w.weekdays("short",!0,!1),1);case"cccc":return bs(w.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Xn(new RegExp("([+-]"+F.source+")(?::("+_.source+"))?"),2);case"ZZZ":return Xn(new RegExp("([+-]"+F.source+")("+_.source+")?"),2);case"z":return d0(/[a-z_+-/]{1,256}?/i);default:return Mt(Nt)}}(y)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Gn.token=y,Gn}(an,y)}),A=x.find(function(an){return an.invalidReason});if(A)return{input:w,tokens:_,invalidReason:A.invalidReason};var z=function W1(y){return["^"+y.map(function(M){return M.regex}).reduce(function(M,_){return M+"("+_.source+")"},"")+"$",y]}(x),$=z[1],xe=RegExp(z[0],"i"),$e=function Wo(y,w,M){var _=y.match(w);if(_){var x={},A=1;for(var z in M)if(Oc(M,z)){var F=M[z],$=F.groups?F.groups+1:1;!F.literal&&F.token&&(x[F.token.val[0]]=F.deser(_.slice(A,A+$))),A+=$}return[_,x]}return[_,{}]}(w,xe,$),Ve=$e[0],Ne=$e[1],Mt=Ne?function Cr(y){var M;return M=Bn(y.Z)?Bn(y.z)?null:Un.create(y.z):new Vr(y.Z),Bn(y.q)||(y.M=3*(y.q-1)+1),Bn(y.h)||(y.h<12&&1===y.a?y.h+=12:12===y.h&&0===y.a&&(y.h=0)),0===y.G&&y.y&&(y.y=-y.y),Bn(y.u)||(y.S=wu(y.u)),[Object.keys(y).reduce(function(x,A){var z=function(A){switch(A){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(A);return z&&(x[z]=y[A]),x},{}),M]}(Ne):[null,null],un=Mt[0],Gn=Mt[1];if(Oc(Ne,"a")&&Oc(Ne,"H"))throw new Fc("Can't include meridiem when specifying 24-hour format");return{input:w,tokens:_,regex:xe,rawMatches:Ve,matches:Ne,result:un,zone:Gn}}var Ms=[0,31,59,90,120,151,181,212,243,273,304,334],f0=[0,31,60,91,121,152,182,213,244,274,305,335];function Us(y,w){return new Ir("unit out of range","you specified "+w+" (of type "+typeof w+") as a "+y+", which is invalid")}function h0(y,w,M){var _=new Date(Date.UTC(y,w-1,M)).getUTCDay();return 0===_?7:_}function p0(y,w,M){return M+(el(y)?f0:Ms)[w-1]}function q5(y,w){var M=el(y)?f0:Ms,_=M.findIndex(function(A){return A<w});return{month:_+1,day:w-M[_]}}function m0(y){var F,w=y.year,M=y.month,_=y.day,x=p0(w,M,_),A=h0(w,M,_),z=Math.floor((x-A+10)/7);return z<1?z=Su(F=w-1):z>Su(w)?(F=w+1,z=1):F=w,Object.assign({weekYear:F,weekNumber:z,weekday:A},il(y))}function Y5(y){var F,w=y.weekYear,M=y.weekNumber,_=y.weekday,x=h0(w,1,4),A=I1(w),z=7*M+_-x-3;z<1?z+=I1(F=w-1):z>A?(F=w+1,z-=I1(w)):F=w;var $=q5(F,z);return Object.assign({year:F,month:$.month,day:$.day},il(y))}function g0(y){var w=y.year,x=p0(w,y.month,y.day);return Object.assign({year:w,ordinal:x},il(y))}function X5(y){var w=y.year,_=q5(w,y.ordinal);return Object.assign({year:w,month:_.month,day:_.day},il(y))}function K5(y){var w=xu(y.year),M=oo(y.month,1,12),_=oo(y.day,1,V1(y.year,y.month));return w?M?!_&&Us("day",y.day):Us("month",y.month):Us("year",y.year)}function Z5(y){var w=y.hour,M=y.minute,_=y.second,x=y.millisecond,A=oo(w,0,23)||24===w&&0===M&&0===_&&0===x,z=oo(M,0,59),F=oo(_,0,59),$=oo(x,0,999);return A?z?F?!$&&Us("millisecond",x):Us("second",_):Us("minute",M):Us("hour",w)}var _0="Invalid DateTime",Q5=864e13;function $u(y){return new Ir("unsupported zone",'the zone "'+y.name+'" is not supported')}function v0(y){return null===y.weekData&&(y.weekData=m0(y.c)),y.weekData}function $1(y,w){var M={ts:y.ts,zone:y.zone,c:y.c,o:y.o,loc:y.loc,invalid:y.invalid};return new zn(Object.assign({},M,w,{old:M}))}function qu(y,w,M){var _=y-60*w*1e3,x=M.offset(_);if(w===x)return[_,w];var A=M.offset(_-=60*(x-w)*1e3);return x===A?[_,x]:[y-60*Math.min(x,A)*1e3,Math.max(x,A)]}function q1(y,w){var M=new Date(y+=60*w*1e3);return{year:M.getUTCFullYear(),month:M.getUTCMonth()+1,day:M.getUTCDate(),hour:M.getUTCHours(),minute:M.getUTCMinutes(),second:M.getUTCSeconds(),millisecond:M.getUTCMilliseconds()}}function Yu(y,w,M){return qu(Yh(y),w,M)}function J5(y,w){var M,_=Object.keys(w.values);-1===_.indexOf("milliseconds")&&_.push("milliseconds"),w=(M=w).shiftTo.apply(M,_);var x=y.o,A=y.c.year+w.years,z=y.c.month+w.months+3*w.quarters,F=Object.assign({},y.c,{year:A,month:z,day:Math.min(y.c.day,V1(A,z))+w.days+7*w.weeks}),$=ln.fromObject({hours:w.hours,minutes:w.minutes,seconds:w.seconds,milliseconds:w.milliseconds}).as("milliseconds"),$e=qu(Yh(F),x,y.zone),Ve=$e[0],Ne=$e[1];return 0!==$&&(Ne=y.zone.offset(Ve+=$)),{ts:Ve,o:Ne}}function Y1(y,w,M,_,x){var A=M.setZone,z=M.zone;if(y&&0!==Object.keys(y).length){var $=zn.fromObject(Object.assign(y,M,{zone:w||z,setZone:void 0}));return A?$:$.setZone(z)}return zn.invalid(new Ir("unparsable",'the input "'+x+"\" can't be parsed as "+_))}function xs(y,w,M){return void 0===M&&(M=!0),y.isValid?Rs.create(ar.create("en-US"),{allowZ:M,forceSimple:!0}).formatDateTimeFromString(y,w):null}function y0(y,w){var M=w.suppressSeconds,x=w.suppressMilliseconds,z=w.includeOffset,F=w.includeZone,$=void 0!==F&&F,xe=w.spaceZone,Ve=w.format,Ne=void 0===Ve?"extended":Ve,Mt="basic"===Ne?"HHmm":"HH:mm";return(!(void 0!==M&&M)||0!==y.second||0!==y.millisecond)&&(Mt+="basic"===Ne?"ss":":ss",(!(void 0!==x&&x)||0!==y.millisecond)&&(Mt+=".SSS")),($||z)&&void 0!==xe&&xe&&(Mt+=" "),$?Mt+="z":z&&(Mt+="basic"===Ne?"ZZZ":"ZZ"),xs(y,Mt)}var Qt={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},b0={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},e7={ordinal:1,hour:0,minute:0,second:0,millisecond:0},M0=["year","month","day","hour","minute","second","millisecond"],x0=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],C0=["year","ordinal","hour","minute","second","millisecond"];function w0(y){var w={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[y.toLowerCase()];if(!w)throw new jh(y);return w}function X1(y,w){for(var _,M=ro(M0);!(_=M()).done;){var x=_.value;Bn(y[x])&&(y[x]=Qt[x])}var A=K5(y)||Z5(y);if(A)return zn.invalid(A);var z=ci.now(),$=Yu(y,w.offset(z),w);return new zn({ts:$[0],zone:w,o:$[1]})}function S0(y,w,M){var _=!!Bn(M.round)||M.round,x=function(Ve,Ne){return Ve=qh(Ve,_||M.calendary?0:2,!0),w.loc.clone(M).relFormatter(M).format(Ve,Ne)},A=function(Ve){return M.calendary?w.hasSame(y,Ve)?0:w.startOf(Ve).diff(y.startOf(Ve),Ve).get(Ve):w.diff(y,Ve).get(Ve)};if(M.unit)return x(A(M.unit),M.unit);for(var F,z=ro(M.units);!(F=z()).done;){var $=F.value,xe=A($);if(Math.abs(xe)>=1)return x(xe,$)}return x(0,M.units[M.units.length-1])}var zn=function(){function y(M){var _=M.zone||ci.defaultZone,x=M.invalid||(Number.isNaN(M.ts)?new Ir("invalid input"):null)||(_.isValid?null:$u(_));this.ts=Bn(M.ts)?ci.now():M.ts;var A=null,z=null;if(!x)if(M.old&&M.old.ts===this.ts&&M.old.zone.equals(_)){var $=[M.old.c,M.old.o];A=$[0],z=$[1]}else{var xe=_.offset(this.ts);A=q1(this.ts,xe),A=(x=Number.isNaN(A.year)?new Ir("invalid input"):null)?null:A,z=x?null:xe}this._zone=_,this.loc=M.loc||ar.create(),this.invalid=x,this.weekData=null,this.c=A,this.o=z,this.isLuxonDateTime=!0}y.local=function(_,x,A,z,F,$,xe){return Bn(_)?new y({ts:ci.now()}):X1({year:_,month:x,day:A,hour:z,minute:F,second:$,millisecond:xe},ci.defaultZone)},y.utc=function(_,x,A,z,F,$,xe){return Bn(_)?new y({ts:ci.now(),zone:Vr.utcInstance}):X1({year:_,month:x,day:A,hour:z,minute:F,second:$,millisecond:xe},Vr.utcInstance)},y.fromJSDate=function(_,x){void 0===x&&(x={});var A=function qx(y){return"[object Date]"===Object.prototype.toString.call(y)}(_)?_.valueOf():NaN;if(Number.isNaN(A))return y.invalid("invalid input");var z=An(x.zone,ci.defaultZone);return z.isValid?new y({ts:A,zone:z,loc:ar.fromObject(x)}):y.invalid($u(z))},y.fromMillis=function(_,x){if(void 0===x&&(x={}),ao(_))return _<-Q5||_>Q5?y.invalid("Timestamp out of range"):new y({ts:_,zone:An(x.zone,ci.defaultZone),loc:ar.fromObject(x)});throw new Wr("fromMillis requires a numerical input, but received a "+typeof _+" with value "+_)},y.fromSeconds=function(_,x){if(void 0===x&&(x={}),ao(_))return new y({ts:1e3*_,zone:An(x.zone,ci.defaultZone),loc:ar.fromObject(x)});throw new Wr("fromSeconds requires a numerical input")},y.fromObject=function(_){var x=An(_.zone,ci.defaultZone);if(!x.isValid)return y.invalid($u(x));var A=ci.now(),z=x.offset(A),F=tl(_,w0,["zone","locale","outputCalendar","numberingSystem"]),$=!Bn(F.ordinal),xe=!Bn(F.year),$e=!Bn(F.month)||!Bn(F.day),Ve=xe||$e,Ne=F.weekYear||F.weekNumber,Mt=ar.fromObject(_);if((Ve||$)&&Ne)throw new Fc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if($e&&$)throw new Fc("Can't mix ordinal dates with month/day");var Gn,an,un=Ne||F.weekday&&!Ve,Nt=q1(A,z);un?(Gn=x0,an=b0,Nt=m0(Nt)):$?(Gn=C0,an=e7,Nt=g0(Nt)):(Gn=M0,an=Qt);for(var fl,wr=!1,Ft=ro(Gn);!(fl=Ft()).done;){var K1=fl.value;Bn(F[K1])?F[K1]=wr?an[K1]:Nt[K1]:wr=!0}var n7=un?function aC(y){var w=xu(y.weekYear),M=oo(y.weekNumber,1,Su(y.weekYear)),_=oo(y.weekday,1,7);return w?M?!_&&Us("weekday",y.weekday):Us("week",y.week):Us("weekYear",y.weekYear)}(F):$?function oC(y){var w=xu(y.year),M=oo(y.ordinal,1,I1(y.year));return w?!M&&Us("ordinal",y.ordinal):Us("year",y.year)}(F):K5(F),T0=n7||Z5(F);if(T0)return y.invalid(T0);var D0=Yu(un?Y5(F):$?X5(F):F,z,x),gn=new y({ts:D0[0],zone:x,o:D0[1],loc:Mt});return F.weekday&&Ve&&_.weekday!==gn.weekday?y.invalid("mismatched weekday","you can't specify both a weekday of "+F.weekday+" and a date of "+gn.toISO()):gn},y.fromISO=function(_,x){void 0===x&&(x={});var A=function c0(y){return al(y,[Yn,Hn],[rC,U1],[sC,Fu],[qc,Ou])}(_);return Y1(A[0],A[1],x,"ISO 8601",_)},y.fromRFC2822=function(_,x){void 0===x&&(x={});var A=function Ha(y){return al(function nC(y){return y.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(y),[vs,o0])}(_);return Y1(A[0],A[1],x,"RFC 2822",_)},y.fromHTTP=function(_,x){void 0===x&&(x={});var A=function ol(y){return al(y,[co,U5],[zs,U5],[iC,Ps])}(_);return Y1(A[0],A[1],x,"HTTP",x)},y.fromFormat=function(_,x,A){if(void 0===A&&(A={}),Bn(_)||Bn(x))throw new Wr("fromFormat requires an input string and a format");var F=A.locale,xe=A.numberingSystem,Ne=function j1(y,w,M){var _=dl(y,w,M);return[_.result,_.zone,_.invalidReason]}(ar.fromOpts({locale:void 0===F?null:F,numberingSystem:void 0===xe?null:xe,defaultToEN:!0}),_,x),Mt=Ne[0],un=Ne[1],Gn=Ne[2];return Gn?y.invalid(Gn):Y1(Mt,un,A,"format "+x,_)},y.fromString=function(_,x,A){return void 0===A&&(A={}),y.fromFormat(_,x,A)},y.fromSQL=function(_,x){void 0===x&&(x={});var A=function qe(y){return al(y,[st,l0],[W5,u0])}(_);return Y1(A[0],A[1],x,"SQL",_)},y.invalid=function(_,x){if(void 0===x&&(x=null),!_)throw new Wr("need to specify a reason the DateTime is invalid");var A=_ instanceof Ir?_:new Ir(_,x);if(ci.throwOnInvalid)throw new M5(A);return new y({invalid:A})},y.isDateTime=function(_){return _&&_.isLuxonDateTime||!1};var w=y.prototype;return w.get=function(_){return this[_]},w.resolvedLocaleOpts=function(_){void 0===_&&(_={});var x=Rs.create(this.loc.clone(_),_).resolvedOptions(this);return{locale:x.locale,numberingSystem:x.numberingSystem,outputCalendar:x.calendar}},w.toUTC=function(_,x){return void 0===_&&(_=0),void 0===x&&(x={}),this.setZone(Vr.instance(_),x)},w.toLocal=function(){return this.setZone(ci.defaultZone)},w.setZone=function(_,x){var A=void 0===x?{}:x,z=A.keepLocalTime,F=void 0!==z&&z,$=A.keepCalendarTime,xe=void 0!==$&&$;if((_=An(_,ci.defaultZone)).equals(this.zone))return this;if(_.isValid){var $e=this.ts;if(F||xe){var Ve=_.offset(this.ts);$e=Yu(this.toObject(),Ve,_)[0]}return $1(this,{ts:$e,zone:_})}return y.invalid($u(_))},w.reconfigure=function(_){var x=void 0===_?{}:_;return $1(this,{loc:this.loc.clone({locale:x.locale,numberingSystem:x.numberingSystem,outputCalendar:x.outputCalendar})})},w.setLocale=function(_){return this.reconfigure({locale:_})},w.set=function(_){if(!this.isValid)return this;var z,x=tl(_,w0,[]);Bn(x.weekYear)&&Bn(x.weekNumber)&&Bn(x.weekday)?Bn(x.ordinal)?(z=Object.assign(this.toObject(),x),Bn(x.day)&&(z.day=Math.min(V1(z.year,z.month),z.day))):z=X5(Object.assign(g0(this.c),x)):z=Y5(Object.assign(m0(this.c),x));var F=Yu(z,this.o,this.zone);return $1(this,{ts:F[0],o:F[1]})},w.plus=function(_){return this.isValid?$1(this,J5(this,Ui(_))):this},w.minus=function(_){return this.isValid?$1(this,J5(this,Ui(_).negate())):this},w.startOf=function(_){if(!this.isValid)return this;var x={},A=ln.normalizeUnit(_);switch(A){case"years":x.month=1;case"quarters":case"months":x.day=1;case"weeks":case"days":x.hour=0;case"hours":x.minute=0;case"minutes":x.second=0;case"seconds":x.millisecond=0}if("weeks"===A&&(x.weekday=1),"quarters"===A){var z=Math.ceil(this.month/3);x.month=3*(z-1)+1}return this.set(x)},w.endOf=function(_){var x;return this.isValid?this.plus((x={},x[_]=1,x)).startOf(_).minus(1):this},w.toFormat=function(_,x){return void 0===x&&(x={}),this.isValid?Rs.create(this.loc.redefaultToEN(x)).formatDateTimeFromString(this,_):_0},w.toLocaleString=function(_){return void 0===_&&(_=Fo),this.isValid?Rs.create(this.loc.clone(_),_).formatDateTime(this):_0},w.toLocaleParts=function(_){return void 0===_&&(_={}),this.isValid?Rs.create(this.loc.clone(_),_).formatDateTimeParts(this):[]},w.toISO=function(_){return void 0===_&&(_={}),this.isValid?this.toISODate(_)+"T"+this.toISOTime(_):null},w.toISODate=function(_){var A=(void 0===_?{}:_).format,F="basic"===(void 0===A?"extended":A)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(F="+"+F),xs(this,F)},w.toISOWeekDate=function(){return xs(this,"kkkk-'W'WW-c")},w.toISOTime=function(_){var x=void 0===_?{}:_,A=x.suppressMilliseconds,F=x.suppressSeconds,xe=x.includeOffset,Ve=x.format;return y0(this,{suppressSeconds:void 0!==F&&F,suppressMilliseconds:void 0!==A&&A,includeOffset:void 0===xe||xe,format:void 0===Ve?"extended":Ve})},w.toRFC2822=function(){return xs(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},w.toHTTP=function(){return xs(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},w.toSQLDate=function(){return xs(this,"yyyy-MM-dd")},w.toSQLTime=function(_){var x=void 0===_?{}:_,A=x.includeOffset,F=x.includeZone;return y0(this,{includeOffset:void 0===A||A,includeZone:void 0!==F&&F,spaceZone:!0})},w.toSQL=function(_){return void 0===_&&(_={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(_):null},w.toString=function(){return this.isValid?this.toISO():_0},w.valueOf=function(){return this.toMillis()},w.toMillis=function(){return this.isValid?this.ts:NaN},w.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},w.toJSON=function(){return this.toISO()},w.toBSON=function(){return this.toJSDate()},w.toObject=function(_){if(void 0===_&&(_={}),!this.isValid)return{};var x=Object.assign({},this.c);return _.includeConfig&&(x.outputCalendar=this.outputCalendar,x.numberingSystem=this.loc.numberingSystem,x.locale=this.loc.locale),x},w.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},w.diff=function(_,x,A){if(void 0===x&&(x="milliseconds"),void 0===A&&(A={}),!this.isValid||!_.isValid)return ln.invalid(this.invalid||_.invalid,"created by diffing an invalid DateTime");var z=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},A),F=function $h(y){return Array.isArray(y)?y:[y]}(x).map(ln.normalizeUnit),$=_.valueOf()>this.valueOf(),Ve=function tn(y,w,M,_){var Ve,x=function cl(y,w,M){for(var A,z,x={},F=0,$=[["years",function(Gn,an){return an.year-Gn.year}],["months",function(Gn,an){return an.month-Gn.month+12*(an.year-Gn.year)}],["weeks",function(Gn,an){var Nt=Xc(Gn,an);return(Nt-Nt%7)/7}],["days",Xc]];F<$.length;F++){var xe=$[F],$e=xe[0],Ve=xe[1];if(M.indexOf($e)>=0){var Ne;A=$e;var un,Mt=Ve(y,w);(z=y.plus(((Ne={})[$e]=Mt,Ne)))>w?(y=y.plus(((un={})[$e]=Mt-1,un)),Mt-=1):y=z,x[$e]=Mt}}return[y,x,z,A]}(y,w,M),A=x[0],z=x[1],F=x[2],$=x[3],xe=w-A,$e=M.filter(function(un){return["hours","minutes","seconds","milliseconds"].indexOf(un)>=0});0===$e.length&&(F<w&&(F=A.plus(((Ve={})[$]=1,Ve))),F!==A&&(z[$]=(z[$]||0)+xe/(F-A)));var Mt,Ne=ln.fromObject(Object.assign(z,_));return $e.length>0?(Mt=ln.fromMillis(xe,_)).shiftTo.apply(Mt,$e).plus(Ne):Ne}($?this:_,$?_:this,F,z);return $?Ve.negate():Ve},w.diffNow=function(_,x){return void 0===_&&(_="milliseconds"),void 0===x&&(x={}),this.diff(y.local(),_,x)},w.until=function(_){return this.isValid?Fs.fromDateTimes(this,_):this},w.hasSame=function(_,x){if(!this.isValid)return!1;if("millisecond"===x)return this.valueOf()===_.valueOf();var A=_.valueOf();return this.startOf(x)<=A&&A<=this.endOf(x)},w.equals=function(_){return this.isValid&&_.isValid&&this.valueOf()===_.valueOf()&&this.zone.equals(_.zone)&&this.loc.equals(_.loc)},w.toRelative=function(_){if(void 0===_&&(_={}),!this.isValid)return null;var x=_.base||y.fromObject({zone:this.zone});return S0(x,this.plus(_.padding?this<x?-_.padding:_.padding:0),Object.assign(_,{numeric:"always",units:["years","months","days","hours","minutes","seconds"]}))},w.toRelativeCalendar=function(_){return void 0===_&&(_={}),this.isValid?S0(_.base||y.fromObject({zone:this.zone}),this,Object.assign(_,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},y.min=function(){for(var _=arguments.length,x=new Array(_),A=0;A<_;A++)x[A]=arguments[A];if(!x.every(y.isDateTime))throw new Wr("min requires all arguments be DateTimes");return C5(x,function(z){return z.valueOf()},Math.min)},y.max=function(){for(var _=arguments.length,x=new Array(_),A=0;A<_;A++)x[A]=arguments[A];if(!x.every(y.isDateTime))throw new Wr("max requires all arguments be DateTimes");return C5(x,function(z){return z.valueOf()},Math.max)},y.fromFormatExplain=function(_,x,A){void 0===A&&(A={});var F=A.locale,xe=A.numberingSystem;return dl(ar.fromOpts({locale:void 0===F?null:F,numberingSystem:void 0===xe?null:xe,defaultToEN:!0}),_,x)},y.fromStringExplain=function(_,x,A){return void 0===A&&(A={}),y.fromFormatExplain(_,x,A)},ts(y,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?v0(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?v0(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?v0(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?g0(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?Jn.months("short",{locale:this.locale})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?Jn.months("long",{locale:this.locale})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?Jn.weekdays("short",{locale:this.locale})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?Jn.weekdays("long",{locale:this.locale})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return el(this.year)}},{key:"daysInMonth",get:function(){return V1(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?I1(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?Su(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return Fo}},{key:"DATE_MED",get:function(){return mu}},{key:"DATE_FULL",get:function(){return X2}},{key:"DATE_HUGE",get:function(){return gu}},{key:"TIME_SIMPLE",get:function(){return K2}},{key:"TIME_WITH_SECONDS",get:function(){return la}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return _u}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return D1}},{key:"TIME_24_SIMPLE",get:function(){return In}},{key:"TIME_24_WITH_SECONDS",get:function(){return E1}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return vu}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return yu}},{key:"DATETIME_SHORT",get:function(){return bu}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return Xe}},{key:"DATETIME_MED",get:function(){return k1}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return L1}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return ai}},{key:"DATETIME_FULL",get:function(){return qn}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return Mu}},{key:"DATETIME_HUGE",get:function(){return Lt}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Z2}}]),y}();function jo(y){if(zn.isDateTime(y))return y;if(y&&y.valueOf&&ao(y.valueOf()))return zn.fromJSDate(y);if(y&&"object"==typeof y)return zn.fromObject(y);throw new Wr("Unknown datetime argument: "+y+", of type "+typeof y)}hu.ou=zn,hu.kI=Jn}},Bh=>{Bh(Bh.s=166)}]);